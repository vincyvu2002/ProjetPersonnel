<!DOCTYPE html>
<!-- saved from url=(0069)about:blank -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="./manual_files/css" rel="stylesheet" type="text/css"><link href="./manual_files/css(1)" rel="stylesheet" type="text/css"><link rel="stylesheet" href="./ManualDump.css"><link rel="stylesheet" type="text/css" media="print" href="./manual_files/print.css"></head><body><div class="main-wrap"><img src="./manual_files/Front-Cover.jpg" class="fcover"><div class="content-wrap"><a name="anchor-2"></a><h1>1. Installing</h1>
In this section we'll get you set up to run Construct 2.  We'll look at <a href="#anchor-3">downloading and updating Construct 2</a>, then the <a href="#anchor-4">installation process</a>, how to <a href="#anchor-14">use your license</a> if you have bought one, and a reminder of the <a href="#anchor-6">system requirements</a>.<a name="anchor-3"></a><h2>1.1 Get Construct 2</h2>
<br>
<br>
<h3>Downloading from the site</h3>
<br>
To download the latest release of Construct 2 you can visit:<br>
<a href="http://www.scirra.com/construct2/releases/new" target="_blank">http://www.scirra.com/construct2/releases/new ⇗</a><br>
This URL will always point you to the latest build.<br>
<br>
We recommend you always <strong>stay up to date</strong> and use the latest version of Construct 2.  This will prevent you encountering problems that have already been fixed.  There are three ways to be notified of new releases:<br>
<br>
<h3>Email notifications</h3>
<br>
If you would like to be notified when a new build is released then you may want to sign up to our new releases mailing list.  To do so, log into your account and visit your 'Me' page:<br>
<a href="http://www.scirra.com/me" target="_blank">http://www.scirra.com/me ⇗</a><br>
Tick the <em>Construct 2 new releases</em> box under <strong>Your subscriptions</strong>.  We'll automatically send you an email whenever a new release is published.  We won't send you any other mail at all other than release notifications if you only tick this box, and you can unsubscribe at any time by unticking the same box in your profile.  We hate spam too!<br>
<br>
<h3>Update alerts in Construct 2</h3>
<br>
If you use Construct 2 on an internet-connected computer, Construct 2 itself will alert you if a new release is available.  Usually this is a little slower - it may be a couple of days after the release until Construct 2 notifies you of a new release this way.  You can change your update notification preference in the <a href="#anchor-61">Preferences dialog</a>.<br>
<br>
<h3>Social updates</h3>
<br>
We have a <a href="http://www.facebook.com/ScirraOfficial" target="_blank">Facebook page ⇗</a>, <a href="https://twitter.com/#!/Scirra" target="_blank">Twitter account ⇗</a> and <a href="https://plus.google.com/105404553461194404336/posts" target="_blank">Google+ page ⇗</a>.  If you use any of these services you can follow or add us.  We post updates to these pages whenever we publish a new release, as well as other news that might interest you.<br>
<br>
<h3>Beta updates</h3>
<br>
Beta releases of Construct 2 are not quite ready for prime time, but are released sooner and more regularly than stable releases.  If you want to help test these releases, at the risk of possible bugs or crashes, you can find beta releases in the <a href="http://www.scirra.com/construct2/releases" target="_blank">releases list ⇗</a> or set Construct 2 to tell you about beta updates in the <a href="#anchor-61">Preferences dialog</a>.<a name="anchor-4"></a><h2>1.2 Installing Construct 2</h2>
Once you've downloaded Construct 2, the Setup will begin to install it to your computer.  Click <strong>Next &gt;</strong> to advance through the steps.<p></p>
<p>Your browser or Windows may show a security warning before running the setup.  You should check the publisher is listed as <strong>Scirra Ltd</strong> before running.  This helps ensure the setup is a genuine Construct 2 setup from Scirra and not something malicious from a third party.</p>
<a name="h2a0"></a><h3 id="h2ix0">Portable installation</h3>
<p>Construct 2 can be used as portable software.  In other words, you can install it to a removable drive (like a USB stick) and use it on any computer.  If you want to do this, set the install folder to a folder on your removable drive.</p>
<a name="h2a1"></a><h3 id="h2ix1">32-bit and 64-bit versions</h3>
<p>There are both 32-bit (for older computers) and 64-bit (for newer computers) versions of Construct 2.  If you're not sure you can leave the setup to auto-detect.  However, if you're installing to a removable drive, you may want to specifically install the 32-bit version.  This is because the 32-bit version will run on both 32-bit and 64-bit computers, but the 64-bit version will <em>not</em> run on 32-bit computers.</p>
<a name="h2a2"></a><h3 id="h2ix2">Limited user accounts</h3>
<p>Construct 2 can still be installed on limited user accounts without administrative access.  This is common in workplaces, schools, universities, libraries and other public access computers.  You should still be able to download and install Construct 2 on a limited user account, as long as other restrictions are not in place.  In this case the setup cannot access the <em>Program Files</em> directory.  Instead it will install to a folder in your user account.  Other users may have to install the software for themselves as well.  Some systems will also uninstall the software when you log out; you may need to reinstall every time you log in.</p>
<p>If setup fails due to other limitations (e.g. not being allowed to download EXEs from the internet), try a portable installation instead.  Install Construct 2 to a removable drive on a computer you can run the setup on, then try taking the removable drive to the limited computer and running it from the drive.</p>
<a name="h2a3"></a><h3 id="h2ix3">Updates</h3>
<p>If you already have Construct 2 installed and you're installing an update, the setup will offer to remove the last installed copy of Construct 2.  You should always remove the old version unless you have installed Construct 2 twice (e.g. to the host computer and also to a portable drive, in which case uninstalling may remove the portable install).</p>
<a name="h2a4"></a><h3 id="h2ix4">Uninstalling</h3>
<p>Construct 2 can be uninstalled via <strong>Add/Remove programs</strong> (Windows XP) or <strong>Programs and features</strong> (Windows Vista and newer) in Control Panel.</p>
<a name="h2a5"></a><h3 id="h2ix5">Site-wide installations</h3>
<p>If you are installing Construct 2 to a lot of computers, remember the installation is portable.  This means it has no dependencies outside its <em>Program Files</em> folder.  You can install it to multiple machines by installing it to one machine and copying the installation folder (and any shortcuts you want) to other computers.</p>
<p>You can also use the following command-line switches to run the setup executable automatically, without prompting:</p>
<p><strong>construct2-setup.exe /SP- /SILENT /SUPPRESSMSGBOXES</strong></p>
<p>By default this also adds an icon to the Start menu.</p>
<a name="h2a6"></a><h3 id="h2ix6">Using a site-wide license</h3>
<p>To make sure Construct 2 finds your site-wide license, simply place it in the install directory on each computer. If that does not work, you can use the 'Load license file' link in the About dialog to locate it. Normally this only needs to be done once and then Construct 2 will remember the location in the registry. However, some networks revert any changes to the registry when the user logs out. This will make Construct 2 keep forgetting the license path. To ensure it is remembered, contact your network administrator. The license path is stored in the following registry key:</p>
<p>HKEY_CURRENT_USER\Software\Scirra\Construct2\LicensePath</p>
<p>This must be a string with the full path to the license file, e.g. "C:\Path\To\c2license.txt". Your network administrator must ensure this registry key is preserved when logging out, and then the license should be remembered permanently.</p>
<p>It may be desirable to hide the "View license" link in the About dialog when using a site license. To hide it, set the following registry key to the DWORD value 1:</p>
<p>HKEY_CURRENT_USER\Software\Scirra\Construct2\HideLicenseLink<br>
<a name="anchor-14"></a></p>
<h2>1.3 Using a license</h2>
<strong>See also:</strong> Tutorial on <a href="http://scirra.com/tutorials/57/how-construct-2-licenses-work" target="_blank">How Construct 2 Licenses Work ⇗</a><p><a name="h2a0"></a></p>
<h3 id="h2ix0">Construct 2 Free Edition</h3>
<p>Construct 2 can be downloaded and installed to any computer for free, including site-wide at non-commercial institutions like schools.  Without a license, it runs as the <strong>Free Edition</strong>.  This has the following limitations:</p>
<ul>
<li>A maximum of <strong>100 events</strong> in a project</li>
<li>A maximum of <strong>4 layers</strong> in any layout</li>
<li>A maximum of <strong>2 effects</strong> in a project</li>
<li>No folder organisation in the project bar</li>
<li>No event search</li>
<li>No configurations bar</li>
<li>No Families</li>
<li>No <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">Preview on LAN ⇗</a></li>
<li>Not allowed to be used for commercial purposes (however, it can be used in education and other non-profit organisations)</li>
</ul>
<p>Buying a license removes all of these limits.  Licenses can be purchased from Scirra.com or from Steam.  Both the Standard and Business licenses remove all the above free edition limitations.</p>
<a name="h2a1"></a><h3 id="h2ix1">The Personal license</h3>
<p>All the free edition limits are removed with a Personal license.  However, the rules for commercial use are different for individuals and organisations.</p>
<p><strong>Individuals</strong> may use a standard license for commercial purposes up to a revenue limit of $5000.  Once revenues associated with creations made with Construct 2 exceed $5000 (including associated advertising/promotion) a business license must be purchased.  However, no business license is necessary before that point.</p>
<p><strong>Not-for-profit organisations</strong> like schools, libraries and universities may use personal licenses to remove the free edition limits.  Bulk discounts are available.</p>
<p><strong>Commercial organisations</strong> cannot purchase standard licenses: they must purchase business licenses.</p>
<a name="h2a2"></a><h3 id="h2ix2">The Business license</h3>
<p>Most individuals do not need a business license.  It is only necessary for:</p>
<ul>
<li><strong>Individuals who have already made over $5000</strong> from revenue associated with Construct 2 creations, and</li>
<li><strong>Commercial organisations</strong> like businesses.</li>
</ul>
<p>Not-for-profit organisations <em>never</em> need business licenses - they may use standard licenses instead.</p>
<a name="h2a3"></a><h2 id="h2ix3">Purchasing from Steam</h2>
<p>If you purchase from Steam, then Steam will manage the license. If you want to install your copy of Construct 2 on another computer, just install Steam, log in and download Construct 2 again. The rest of this section applies to buying directly from our site, which involves a license file instead of using Steam.</p>
<a name="h2a4"></a><h2 id="h2ix4">The license file: c2license.txt</h2>
<p>If you've made a purchase directly from Scirra (rather than from Steam), you will be sent a <strong>redeem key</strong> by email. This is a special code you can enter to the Scirra Store and get your license. If you want to buy a license for someone else, you can give them the redeem key and they can then get a license from the store with their own name and email address on it.  This also works if you want to buy licenses for a number of people, e.g. your employees or colleagues: you will receive a number of redeem keys, which you can then give to each individual.</p>
<p>Once you have redeemed your purchase from the Scirra Store, you can download your Construct 2 license, which is a file called <strong>c2license.txt</strong>.  You simply need to copy this folder in to either the <strong>install directory</strong> or <strong>My Documents</strong>.  Restart Construct 2 and it should launch as the licensed version: the purchaser name should appear on the start page and About dialog, <em>Free edition</em> should disappear from the title bar, and the free edition limits should be removed.  Alternatively, you can place your license file wherever you like and locate it by clicking <em>Load license file</em> in the <a href="#anchor-46">About dialog</a>.</p>
<p>Unless a license is purchased for an organisation, the license is for <em>the individual</em> rather than their computer.  This means you can use your licensed copy of Construct 2 on as many computers as you like, so long as <em>you are the only one using it</em>.  Other people must buy their own license.  Remember Construct 2 can be used as portable software (see <a href="#anchor-4">Installing Construct 2</a>).  You can put your license file in the install directory on a removable drive and take your licensed copy of Construct 2 to any computer.</p>
<p>You must not modify the license file at all.  It is protected by a hash, and any modification whatsoever will cause Construct 2 to reject the license and revert to the Free Edition.</p>
<p><strong>You must not share your license file!</strong>  Keep it to yourself like you do with serial numbers for other software.  Also, the license file contains some of your personal information, so it is certainly preferable to keep it private.</p>
<p>If you lose your license file, such as if you format your computer and forget to back it up, you can re-download your license here:</p>
<p><a href="https://www.scirra.com/store/downloads" target="_blank">https://www.scirra.com/store/downloads ⇗</a><a name="anchor-6"></a></p>
<h2>1.4 System Requirements</h2>
The Construct 2 editor currently only runs on <strong>Windows</strong>.  Please see our <a href="http://www.scirra.com/construct2/faq" target="_blank">FAQ ⇗</a> for information on supporting other systems.<p></p>
<p>Despite the fact Construct 2 itself only runs on Windows, it makes HTML5 games which can run on a wide variety of computers and devices.  See the <a href="#anchor-35">Technology</a> section for more information.</p>
<a name="h2a0"></a><h3 id="h2ix0">Minimum system requirements</h3>
<ul>
<li>Windows XP Service Pack 3 or newer</li>
<li>512 MB RAM</li>
<li>1 GHz Processor</li>
<li>A HTML5 compatible browser (see below)</li>
<li>The <a href="http://scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">latest version of your graphics card drivers ⇗</a></li>
</ul>
<a name="h2a1"></a><h3 id="h2ix1">Recommended system requirements</h3>
<ul>
<li>Windows 7 or newer</li>
<li>2 GB RAM</li>
<li>2 GHz dual-core processor</li>
<li>A nVidia or AMD graphics card with <a href="http://scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">latest drivers ⇗</a>. We recommend you avoid any hardware using Intel graphics chips due to their poor performance, stability, and feature set.</li>
</ul>
<a name="h2a2"></a><h3 id="h2ix2">Really nice system requirements</h3>
<p>You can get by fine without these, but if you can they're nice to have.</p>
<ul>
<li>Solid state drive (SSD) for OS and software</li>
<li>64-bit edition of Windows 7 or newer</li>
<li>4 GB of RAM or more</li>
<li>A large display or dual monitor setup</li>
<li>A nVidia or AMD graphics card with <a href="http://scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">latest drivers ⇗</a>, at least 512 MB of dedicated video memory and support for OpenGL 2.0+</li>
<li>A hi-speed broadband internet connection</li>
</ul>
<a name="h2a3"></a><h3 id="h2ix3">HTML5 compatible browser</h3>
<p>To preview your HTML5 games you need a modern HTML5-compatible browser.  Browsers are free to download and install.  HTML5 is also relatively new technology, so it's important to also <strong>keep your browser up to date to its latest version</strong>.  Supported browsers are:</p>
<ul>
<li><a href="http://www.microsoft.com/internetexplorer" target="_blank">Internet Explorer 9+ ⇗</a> (Windows Vista and newer only - Windows XP users should use a different browser)</li>
<li><a href="http://www.mozilla.org/firefox" target="_blank">Mozilla Firefox ⇗</a></li>
<li><a href="http://www.google.com/chrome" target="_blank">Google Chrome ⇗</a></li>
<li><a href="http://www.opera.com/" target="_blank">Opera ⇗</a></li>
</ul>
<p>Scirra recommends <strong>Google Chrome</strong> or <strong>Mozilla Firefox</strong>.<a name="anchor-158"></a></p>
<h2>1.5 Third party addons</h2>
<p>Third party developers can extend Construct 2 with new plugins, behaviors and effects (collectively referred to as "addons") using the <a href="http://www.scirra.com/manual/15/sdk">Javascript SDK</a>. Many addons can be found in the <a href="https://www.scirra.com/forum/plugins-for-construct-2_forum47.html" target="_blank">Plugins for Construct 2 forum ⇗</a>.</p>
<p><strong>Only install addons from developers you trust.</strong> Malicious addons have the potential to compromise the security of your project, or have hidden unwanted features like surprise adverts or tracking users. Badly written addons can also cause bugs or glitches in your game. While addons can be useful, remain vigilant about them, especially in regards to whether the developer seems trustworthy and if they regularly maintain their addon to fix problems that arise.</p>
<p>If you have problems with third-party addons, you must report the issues to the developer who provided them. Scirra cannot offer any support for third party addons whatsoever.</p>
<h3>Installing new addons (.c2addon files)</h3>
<p>Recently developed addons are installed from a file with the extension .c2addon. Simply download the .c2addon file, then drag and drop the file in to the Construct 2 window. Construct 2 will prompt to ask if you want to install the addon. If you approve the install, you must restart Construct 2 before the addon becomes available.</p>
<p>You can also drag-and-drop multiple .c2addon files in to the Construct 2 window and you'll be prompted to install each of them in order.</p>
<h3>Installing older addons</h3>
<p>Some addons were developed before Construct 2 supported .c2addon files. These are typically distributed as a collection of files in a zip file. To install them, close Construct 2 and copy the files to the appropriate place:</p>
<p><strong>&lt;install path&gt;\exporters\html5\plugins</strong> for plugins<br>
<strong>&lt;install path&gt;\exporters\html5\behaviors</strong> for behaviors<br>
<strong>&lt;install path&gt;\effects</strong> for effects</p>
<p>Note that each plugin and behavior has its own subfolder in the above directories; make sure you copy the addon files to their own subfolder like the others in that directory. Effects however are simply a .fx and .xml file that all go in the same folder.</p>
<p>Restart Construct 2 and the addons should then appear in the editor.</p>
<h3>Addon management</h3>
<p>When installing .c2addon files, Construct 2 will attempt to copy the addons to two places: both the install directory, and the <em>AppData</em> folder for the current user (%appdata%\Construct2). This means even if you don't have permission to write files to the install directory you can still install addons.</p>
<p>If you use Construct 2 portably, addons may disappear if they only exist in the <em>AppData</em> folder on the local computer. To take your addons with you, either take a folder with all your .c2addon files with you, or make sure Construct 2 has permission to write to its install directory when installing the .c2addon files by running it with Administrator privileges.</p>
<a name="anchor-10"></a><h1>2. Overview</h1>
<p>In this section a basic overview of Construct 2 is provided, including the <a href="#anchor-11">start page</a>, <a href="#anchor-13">interface</a>, <a href="#anchor-32">project structure</a>, the <a href="#anchor-33">two different saving formats</a>, <a href="#anchor-122">exporting and publishing</a>, the <a href="#anchor-35">technology</a> behind your games and some <a href="#anchor-34">best practices</a> and <a href="#anchor-134">performance tips</a> to remember when using Construct 2.</p>
<a name="anchor-11"></a><h2>2.1 Start page</h2>
When you first start Construct 2 you should see the <strong>Start Page</strong>, which looks something like this:<br>
<br>
<img class="article-image" src="./manual_files/startscreen2.jpg" alt="The Start page."><!--imgend--><br>
This gives you a useful starting point whenever you launch Construct 2.  It has some useful links such as <strong>Create a new project</strong>, <strong>Newest tutorials</strong> on the website, your recently opened projects, links to our Facebook, Twitter and Google+ pages, and so on.<br>
<br>
<h3>Beginner's tutorial</h3>
<br>
If you're new, you might want to check out the link to the <a href="http://www.scirra.com/tutorials/37/beginners-guide-to-construct-2" target="_blank">Beginner's Guide to Construct 2 tutorial ⇗</a>.  This is a step-by-step guide to help get you going making your first game in Construct 2.<br>
<br>
<h3>Examples</h3>
<br>
If you like examining existing projects to see how Construct 2 works, you can try opening the <strong>Space Blaster</strong> or <strong>Ghost Shooter</strong> demos.  These are advanced examples so don't be put off by the math or complexity of them.  They're mainly to show off what Construct 2 can do in the hands of an experienced user.<br>
<br>
There are many much simpler examples in Construct 2's Examples directory.  Click <strong>Browse all examples</strong> to see them.  There are over 40 which go through things like making a simple platformer and physics demos.  <strong>It's highly recommended to look at all the examples.</strong> Commonly asked questions like "How do I set up custom controls?" have examples showing how it's done in the Examples folder.<br>
<br>
<h3>Settings</h3>
<br>
You can change the <strong>Show start page on startup</strong> and <strong>Close the start page when I click on something</strong> settings in the <a href="#anchor-61">Preferences dialog</a>.<a name="anchor-13"></a><h2>2.2 The interface</h2>
The following diagram highlights the important parts of the Construct 2 user interface.  An overview of each part is provided below, and later the manual goes in to each section in more detail.<p></p>
<p><a href="./manual_files/interfaceoverview.png" target="_blank"><img width="578" height="356" class="article-image thumb-img" src="./manual_files/interfaceoverview.png" alt="Construct 2 interface"></a></p>
<div class="full-size-img"><a href="./manual_files/interfaceoverview.png" target="_blank">Open full size image</a></div><a href="./manual_files/interfaceoverview.png" target="_blank"> ⇗</a><!--imgend--><br>
<a name="h2a0"></a><h3 id="h2ix0">1: File menu and Ribbon tabs</h3>
<p><img width="262" height="54" class="article-image" src="./manual_files/qat2.png" alt="http://www.scirra.com/images/articles/qat2.png"><!--imgend--><br>
Construct 2 uses a <a href="#anchor-38">ribbon</a> interface, which is like a tabbed toolbar similar to Office 2007 and newer.  The blue button with the drop-down arrow is the <a href="#anchor-37">File menu</a>, and to the right of that are <em>ribbon tabs</em> which drop down the ribbon bar with various buttons and options.</p>
<p>There's also the <em>quick-access toolbar</em> with the four most commonly used commands: Save, Undo, Redo, <a href="#anchor-122">Preview</a> and <a href="#anchor-169">Debug</a>.  You can add and remove buttons to this toolbar yourself: click the small drop-down arrow to its right to customise it.  If you want to have a lot of commands in this toolbar you can also opt to have it shown beneath the ribbon.</p>
<a name="h2a1"></a><h3 id="h2ix1">2: The Layout view</h3>
<p>This is a visual editor where you place objects to design levels, menu screens and so on.  See <a href="#anchor-43">The Layout View</a>.</p>
<a name="h2a2"></a><h3 id="h2ix2">3: View tabs</h3>
<p><img width="208" height="28" class="article-image" src="./manual_files/viewtabs.png" alt="View tabs"><!--imgend--><br>
These tabs allow you to switch between different layout views and <em>event sheet views</em>, to define the event-based logic of the game.</p>
<p>You can <strong>click and drag</strong> a tab in to one of the views to set up a side-by-side split screen view.</p>
<a name="h2a3"></a><h3 id="h2ix3">4: The Properties Bar</h3>
<p>In this bar you will see a list of properties depending on what you have clicked on.  You can view and change properties for things like layouts, objects, layers and more.  See <a href="#anchor-40">The Properties Bar</a>.</p>
<a name="h2a4"></a><h3 id="h2ix4">5: Project Bar and Layers Bar</h3>
<p>By default the <a href="#anchor-39">Project Bar</a> and <a href="#anchor-42">Layers Bar</a> are tabbed here.  The <em>Project Bar</em> contains an overview of everything in your project.  The <em>Layers Bar</em> can be used to add different layers to a layout.</p>
<a name="h2a5"></a><h3 id="h2ix5">6: Project Bar/Layers Bar tabs</h3>
<p><img width="190" height="28" class="article-image" src="./manual_files/bartabs.png" alt="Bar tabs"><!--imgend--><br>
These allow you to switch between the Project Bar and Layers Bar.</p>
<a name="h2a6"></a><h3 id="h2ix6">7: Object Bar</h3>
<p>This contains a list of objects in your game.  You can drag and drop objects from here to place them in layouts.  The right-click menu has many options to filter or display the objects differently.  See <a href="#anchor-41">The Object Bar</a>.</p>
<a name="h2a7"></a><h3 id="h2ix7">8: Status Bar</h3>
<p>At the bottom of the editor window is the Status Bar.  This shows:</p>
<ul>
<li>what Construct 2 is currently doing during a long-running task, like exporting or saving the project</li>
<li>how many events are in the project and its approximate filesize</li>
<li>the current active layer, which is the layer new objects are placed on to</li>
<li>the mouse position in layout co-ordinates</li>
<li>the current zoom level.</li>
</ul>
<a name="h2a8"></a><h3 id="h2ix8">9: Top-right buttons</h3>
<p><img width="164" height="55" class="article-image" src="./manual_files/toprightbuttons.png" alt="Ribbon top-right buttons"><!--imgend--><br>
As well as the usual Windows minimise, maximise and close buttons, there's also the <strong>Pin Ribbon</strong> button to force the ribbon to always be showing, and the <strong>About button</strong> to open the <a href="#anchor-46">About dialog</a> with information and credits for Construct 2.</p>
<a name="h2a9"></a><h3 id="h2ix9">Customising</h3>
<p>You can customise the interface to suit your tastes.  Any of the bars can be dragged and dropped to different positions in the editor window.  Also, you can <em>auto-hide</em> bars to save room: click the pin icon on a bar and it will shrink to a simple tab.  Hover the tab to pop open the bar.</p>
<p>Bars can be hidden and shown in the <strong>View</strong> ribbon tab.</p>
<p>You can create a <strong>split-screen</strong> view by clicking and dragging one of the layout or event sheet tabs in to the main view.  This can be useful on large monitors.<a name="anchor-32"></a></p>
<h2>2.3 Project structure</h2>
Construct 2 projects consist of the following elements.  These can be accessed via the <a href="#anchor-39">Project Bar</a>, which contains a tree of all the elements in the project.  Items in the Project Bar can also be organised in to subfolders <em>(licensed version only)</em> which is very useful for medium to large projects.  For more information, see the manual section on <a href="#anchor-65">Project Primitives</a>.<br>
<br>
<h3>Layouts</h3>
<br>
Levels, menus, title screens and other pre-arranged <em>layouts</em> of objects.  In other tools Layouts may be referred to as <em>scenes</em>, <em>rooms</em>, <em>frames</em> or <em>stages</em>.  See the section on <a href="#anchor-67">Layouts</a> for more information.<br>
<br>
Layouts also consist of multiple <a href="#anchor-85">Layers</a>, which can be used to arrange objects in to background and foreground layers.  These are managed with the <a href="#anchor-42">Layers bar</a>.<br>
<br>
<h3>Event Sheets</h3>
<br>
A list of <em>Events</em> defining the game logic.  In Construct 2, Events are the alternative to programming or scripting.  Layouts have an associated Event Sheet for their logic.  Event sheets can be re-used between different layouts with <em>event sheet includes</em>.  Event sheets are edited in the <a href="#anchor-44">Event Sheet View</a>.<br>
<br>
For more information on events, see the manual section on <a href="#anchor-74">Events</a>, especially the page on <a href="#anchor-75">How events work</a>.<br>
<br>
<h3>Object Types</h3>
<br>
An Object Type defines a 'class' of object.  For example, <em>TrollEnemy</em> and <em>OgreEnemy</em> could be different object types.  Multiple <strong>instances</strong> of an object type can be created.  For example there could be three <strong>instances</strong> of the <em>TrollEnemy</em> <strong>object type</strong>, and five <strong>instances</strong> of the <em>OgreEnemy</em> <strong>object type</strong>.<br>
<br>
It is important to be clear on the difference between <strong>object types</strong> and <strong>instances</strong>: they will be referred to as different things throughout the manual.  For more information, see the manual entries for <a href="#anchor-69">Plugins</a>, <a href="#anchor-70">Object Types</a> and <a href="#anchor-71">Instances</a>.<br>
<br>
Object Types can also be grouped in to <a href="#anchor-142">Families</a>.<br>
<br>
<h3>System object</h3>
<br>
The <strong>System object</strong> represents built-in functionality in Construct 2.  It is the only object an empty project contains.  It cannot be added again or removed from a project.  There are no instances of the System object: it is simply always present and provides access to the built-in aspects of Construct 2's game engine.  Its conditions, actions and expressions are documented in the <a href="#anchor-123">System reference</a>.<br>
<br>
<h3>Sounds and Music</h3>
<br>
These are audio files used for sound effects and music in the game.  <strong>Sounds</strong> should be used for short-duration sound effects that are played when events like collisions and explosions happen.  <strong>Music</strong> should be used for the longer musical tracks.  It is important to organise audio files appropriately, because Sounds are downloaded completely before playing, but Music is streamed.  This means if a Music track is accidentally put in the Sounds folder, it would have to download completely (which could take a couple of minutes) before it started playing.  However, audio in the Music folder can start playing immediately since it is streamed from the server.<br>
<br>
Both sound and music must be available in both the <strong>Ogg Vorbis</strong> (.ogg) and <strong>MPEG-4 AAC</strong> (.m4a) formats.  This is because browser makers cannot agree on one audio format for the web, so all audio must be in two formats to support all browsers!  Internet Explorer and Safari use the .m4a files, and all other browsers (Firefox, Chrome and Opera) use the .ogg files.  Construct 2 helps convert audio to both formats when audio files are imported.  See the <a href="#anchor-52">Import Audio dialog</a> and <a href="#anchor-84">Sounds &amp; Music</a> for more information.<br>
<br>
<h3>Project Files</h3>
<br>
Any other external file can be imported to the project.  For more information, see <a href="#anchor-141">Project Files</a>.<br>
<br>
<h3>Common units</h3>
<br>
In Construct 2, sometimes you need to enter values such as angles, speeds or sizes.  For consistency these always use the same units in Construct 2, except where noted by descriptions or tips shown in the editor.  The common units are described below.<br>
<br>
<strong>Positions</strong> are in pixels.  The origin (0,0) is at the top-left of the layout, and the Y axis increments downwards (as is often the case with game engines).<br>
<strong>Sizes</strong> are in pixels<br>
<strong>Angles</strong> are in degrees.  0 degrees faces <strong>right</strong> and increments <strong>clockwise</strong>.<br>
<strong>Times</strong> are in seconds<br>
<strong>Speeds</strong> are in pixels per second<br>
<strong>Accelerations</strong> are in pixels per second per second<br>
<br>
<h3>Zero-based indexing</h3>
<br>
To be consistent with programming languages, all features of Construct 2 using a number of an item in a list (indices) start from 0 instead of 1.  This might seem odd at first and take some getting used to, but in many cases it is actually much more convenient than 1-based indexing.<br>
<br>
Traditionally lists are numbered <strong>1, 2, 3...</strong> but in Construct 2 (and all other programming languages) they are numbered <strong>0, 1, 2...</strong>.<a name="anchor-33"></a><h2>2.4 Saving, sharing and collaborating</h2>
<p><a name="h2a0"></a></p>
<h2 id="h2ix0">Saving and sharing work</h2>
<p>There are two types of project your work can be saved to.  These do not affect the functionality of the game at all, but have different advantages and disadvantages during editing.  One of the types must be chosen when creating a new project.</p>
<a name="h2a1"></a><h3 id="h2ix1">Folder projects</h3>
<p>Projects can be saved to a folder.  This stores different parts of the project in different files.  For example, each layout is saved to a separate file in a Layouts subfolder.</p>
<p>Folder projects <strong>save and load quickly</strong>.  This makes them more suitable for medium or large projects.</p>
<p>Folder projects are <strong>good for collaborating within a team</strong>, since it is easy for different people to work on the different project files and later merge them. See the section on collaboration below for more information.</p>
<p>The main project file in a folder project has the extension <strong>.caproj</strong>.  Note this does not contain the entire project: it is simply a list of other files used in the project.  If you want to share a project, the <strong>.caproj</strong> file is useless on its own - save to a single-file project (.capx) instead.</p>
<a name="h2a2"></a><h3 id="h2ix2">Single-file projects (.capx files)</h3>
<p>Projects saved to a single file are often more convenient for small projects.  There is only one file to send, upload or share.  However, they <strong>save and load more slowly</strong> due to Construct 2 having to pack and unpack the project from one file.  They also make collaboration more difficult than if the project is saved as a folder.</p>
<p>.capx files are simply a <strong>ZIP</strong> of a project folder.  You can rename a .capx file to .zip and see the project files.</p>
<a name="h2a3"></a><h3 id="h2ix3">Converting between types</h3>
<p>It's easy to convert a single-file project to a folder project and vice versa inside Construct 2.  Simply open a project and choose <em>File - Save As Project...</em> to save it to a folder project, or <em>File - Save As Single File...</em> to save it to a single-file project.</p>
<p>Since .capx files are a ZIP of the project folder, they can also be converted to a folder project by renaming them to .zip and extracting the folder project contained within.  Similarly a folder project can be converted to a .capx file by compressing it to a .zip file and changing the file extension to .capx.</p>
<a name="h2a4"></a><h2 id="h2ix4">Collaborating on projects</h2>
<p>Construct 2 does not contain any of its own collaboration features, since there are already good free professional-grade tools available which can work with Construct 2 projects. Save your project as a folder, and then you can use source control software to manage contributions to the project. Since project data files are XML-based, they already work with merging and diff tools. For a tutorial on setting up a source control system with a Construct 2 project on Windows with SVN, see <a href="https://www.scirra.com/tutorials/537/how-to-collaborate-on-projects-with-svn" target="_blank">How to collaborate on projects with SVN ⇗</a>.<a name="anchor-122"></a></p>
<h2>2.5 Testing and publishing</h2>
<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Testing your game</h3>
<p>To test your game during development you can <strong>preview</strong> it by clicking the "play" icon in the quick access toolbar or ribbon, pressing F5, or by right-clicking a layout in the Project Bar and selecting <em>Preview</em>.  This uses a local server to preview your game on. You can change the browser that you preview with using the <em>Preview browser</em> setting in <a href="#anchor-66">Project Properties</a>.</p>
<p>If you have mobiles, tablets or other laptops/PCs you want to test on, previewing over your local network (e.g. Wifi) can make testing considerably easier.  For more information, see the tutorial <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">How to preview on a local network ⇗</a>.</p>
<p>You can also hold shift and preview to do a <em>continuous preview</em>. This saves the game, updates it, then loads the previous state again. For more information, see the tutorial <a href="https://www.scirra.com/tutorials/529/how-to-use-continuous-preview" target="_blank">How to use continuous preview ⇗</a>.</p>
<p>The <a href="#anchor-169">debugger</a> can also be used to test your game with additional information and tools available. Further, <a href="#anchor-170">breakpoints</a> can be set in events to investigate how they are working.</p>
<p>You must <em>export</em> then <em>publish</em> (i.e. upload) the project before anyone else can play it.  You cannot share the URL during preview over the internet.</p>
<a name="h2a1"></a><h3 id="h2ix1">Exporting</h3>
<p>To export your project, use the <a href="#anchor-37">File menu</a>, <a href="#anchor-38">ribbon</a> or <a href="#anchor-39">Project Bar</a> to open the <a href="#anchor-127">Export Project dialog</a>.  Construct 2 supports many platforms; for more information see the <a href="#anchor-168">Supported platforms</a> section.</p>
<p>Note exported projects, including the HTML5 export, cannot usually be run from disk. Your project must be uploaded to the web (for HTML5 export) or otherwise published before it will work.</p>
<p>If you are interested in the technical details of exported projects, see the <a href="#anchor-35">Technology</a> section.</p>
<p>Construct 2 does a lot of work at export-time to optimise your project. For more information, see the tutorial <a href="https://www.scirra.com/tutorials/577/construct-2s-export-time-optimisations" target="_blank">Construct 2's export-time optimisations ⇗</a>.</p>
<p>For more advice about how to successfully publish a game to the web, see the tutorial <a href="https://www.scirra.com/tutorials/655/tips-on-publishing-html5-games-to-the-web" target="_blank">Tips on publishing HTML5 games to the web ⇗</a>.<a name="anchor-168"></a></p>
<h2>2.6 MIME types</h2>
When publishing a HTML5 game to the web, it is important the server sends certain types of file with the correct <a href="http://en.wikipedia.org/wiki/Internet_media_type" target="_blank">MIME type ⇗</a>. For example, most servers are correctly set up to send a <strong>.html</strong> file with the MIME type <strong>text/html</strong>. However some server's defaults don't include every MIME type your project might need to use. Also some servers may be configured to send the wrong MIME type, which may still cause some features to work incorrectly. The list below should be used as a reference of the correct MIME types to have set.<p></p>
<p>Configuring your server's MIME types depends on your host. If you don't know how to do this, contact your host for support, or ask them to set up the list below for you.</p>
<p>Having the wrong MIME type set can result in the file either returning "404 Not Found" (which can result in problems like audio not playing or AJAX requests failing), or cause the server to send a corrupt file (e.g. sending an audio file as a text file, causing it to fail to load).</p>
<p>If you are exporting a native app such as via Cordova or NW.js, there is no need to set up any MIME types.</p>
<a name="h2a0"></a><h3 id="h2ix0">MIME types for HTML5 games</h3>
<p>A server hosting a HTML5 game should have these file extensions associated with these MIME types.</p>
<p>Basic MIME types:<br>
<strong>.html</strong> files: <strong>text/html</strong><br>
<strong>.js</strong> files: <strong>application/javascript</strong><br>
<strong>.png</strong> files: <strong>image/png</strong><br>
<strong>.jpg</strong> files: <strong>image/jpeg</strong><br>
<strong>.jpeg</strong> files: <strong>image/jpeg</strong><br>
<strong>.css</strong> files: <strong>text/css</strong></p>
<p>For audio to play correctly in all browsers:<br>
<strong>.ogg</strong> files: <strong>audio/ogg</strong><br>
<strong>.m4a</strong> files: <strong>audio/mp4</strong></p>
<p>For video to play correctly in all browsers:<br>
<strong>.webm</strong> files: <strong>video/webm</strong><br>
<strong>.ogv</strong> files: <strong>video/ogv</strong><br>
<strong>.mp4</strong> files: <strong>video/mp4</strong></p>
<p>For offline support to work correctly:<br>
<strong>.appcache</strong> files: <strong>text/cache-manifest</strong></p>
<p>For web fonts to load:<br>
<strong>.woff</strong> files: <strong>application/font-woff</strong></p>
<p>For <a href="http://brashmonkey.com/" target="_blank">Spriter ⇗</a> animations to load:<br>
<strong>.scml</strong> files: <strong>text/xml</strong><br>
<strong>.scon</strong> files: <strong>application/json</strong></p>
<p>For web app manifests to load correctly (e.g. for Firefox Marketplace, or browser 'Add to homescreen' buttons):<br>
<strong>.webapp</strong> files: <strong>application/x-web-app-manifest+json</strong><br>
<strong>.manifest</strong> files: <strong>application/manifest+json</strong></p>
<p>Other formats to ensure AJAX requests or other external resources load correctly:<br>
<strong>.txt</strong> files: <strong>text/plain</strong><br>
<strong>.xml</strong> files: <strong>text/xml</strong><br>
<strong>.csv</strong> files: <strong>text/csv</strong><br>
<strong>.json</strong> files: <strong>application/json</strong></p>
<p><strong>.svg</strong> files: <strong>image/svg+xml</strong></p>
<p><strong>.pdf</strong> files: <strong>application/pdf</strong><br>
<strong>.zip</strong> files: <strong>application/zip</strong></p>
<p>Any other binary file that is intended for download as opposed to using in a browser (e.g. a Windows .exe): <strong>application/octet-stream</strong></p>
<a name="h2a1"></a><h3 id="h2ix1">Offline caching</h3>
<p>If you find there is a problem with your MIME types after exporting and then fix them, the problem may not appear to be immediately corrected if the browser has cached the previous server responses for <a href="https://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">offline support ⇗</a>.</p>
<p>The easiest way to verify the problem is fixed after correcting a server's MIME types is to change the URL of the project, e.g. renaming the folder it was in on the server. This prevents the previous offline cache being used to load the game and it will start fresh with the new MIME type configuration taking effect.</p>
<a name="h2a2"></a><h3 id="h2ix2">More information</h3>
<p>For more reading, see the Mozilla Developer Network (MDN) article on <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Configuring_server_MIME_types" target="_blank">Configuring server MIME types ⇗</a>.<a name="anchor-35"></a></p>
<h2>2.7 Technology</h2>
Construct 2 makes <strong>HTML5</strong> games.  These run online in a web browser on a wide variety of different devices and operating systems, including on mobile devices like phones and tablets, ensuring your game is accessible to as many people as possible.  This section is a summary of the technology involved.  It is probably of more interest to technically-minded people and can be skipped if you are more interested in the details of how to use Construct 2.<p></p>
<p>Despite the fact that Construct 2 games can be ported to a variety of different platforms even as "native" apps, the underlying technology is still a HTML5-based engine.</p>
<a name="h2a0"></a><h3 id="h2ix0">HTML5</h3>
<p><a href="https://developer.mozilla.org/en/HTML" target="_blank">HTML ⇗</a> stands for <strong>H</strong>yper<strong>T</strong>ext <strong>M</strong>arkup <strong>L</strong>anguage.  HTML is the standard way web pages have been made since the beginning of the internet.  <a href="https://developer.mozilla.org/en/HTML/HTML5" target="_blank">HTML5 ⇗</a> is the fifth major revision of the HTML standard, and it started to gain widespread adoption in 2011.  It introduces many new features, but only a small number apply to games.  However, "HTML5" is still the most appropriate way to describe the technology used for Construct 2's games.  <strong>Javascript</strong> is the standard programming language used to program web pages, and this is also used to power Construct 2 games.</p>
<p>Of particular interest in HTML5 is the newly introduced <strong>&lt;canvas&gt;</strong> tag.  This creates a rectangular surface in a HTML web page where any images or content can be drawn.  This makes it ideal for games.  All Construct 2 games use the HTML5 canvas to display the game.</p>
<p>HTML5 is comparable to Adobe's Flash technology which dominated the internet for gaming prior to 2011.  HTML5 differs in being an industry-agreed standard, rather than a product controlled by a single company like Adobe.  Flash also runs as a browser plugin, which must be separately downloaded and installed, whereas HTML5 is built in to the browser.  This also means HTML5 games can run on devices where there is no Flash support, such as iPhones and iPads.  Given its advantages, HTML5 will eventually replace Flash on the web.</p>
<a name="h2a1"></a><h3 id="h2ix1">Javascript</h3>
<p><a href="https://developer.mozilla.org/en/JavaScript" target="_blank">Javascript ⇗</a> is the standard programming language for the web.  It allows web pages to become interactive and in many ways work like traditional applications.  It is also an industry-agreed standard.</p>
<p><strong>Javascript</strong> is <strong>not Java</strong>.  These are two unrelated programming languages which simply happen to have a similar name.  Java applets are another technology which can run in a web page, but it is a totally different technology to Javascript.  Try not to get confused between the two: games made in Construct 2 do not need or use Java to run.</p>
<p>Modern browsers compile javascript to native machine code (or CPU instructions).  This ensures that web pages (including games) using javascript run as quickly and efficiently as possible.</p>
<p>Javascript is a garbage-collected language, which makes games vulnerable to pauses or stuttering due to garbage collection.  Construct 2's game engine is optimised to create minimum garbage, recycling objects wherever possible.  Even entire object instances are recycled if an object is destroyed and later re-created.  This helps improve performance and ensure the game runs as smoothly as possible.</p>
<a name="h2a2"></a><h3 id="h2ix2">Plugin and Behavior SDK</h3>
<p>Javascript programmers can extend Construct 2 with their own plugins and behaviors.  See the <a href="http://www.scirra.com/manual/15/sdk">Javascript SDK documentation</a> for more information.</p>
<a name="h2a3"></a><h3 id="h2ix3">Canvas renderers</h3>
<p>The HTML5 &lt;canvas&gt; tag supports two different ways to draw the game to the web page: a simple <strong>2D context</strong>, and the <strong>WebGL context</strong>, based on OpenGL ES.  WebGL is usually significantly faster than the 2D context and has more features, including supporting <a href="#anchor-146">effects</a>, but is not always supported. Construct 2 supports both technologies for rendering the game.  WebGL can be enabled or disabled for each game in <strong>Project Properties</strong>.  Generally it is advisable to have it enabled, since the game will probably run a lot faster in WebGL mode, and effects cannot work without it.  If WebGL is not supported by a user's computer or device, or it is disabled, Construct 2 will fall back to the 2D context instead.  In this case the game can continue to be played, but it might run a bit slower and not look as good. You can check which renderer is in use in the game itself with the system expression <em>renderer</em>, which returns either "canvas2d" or "webgl".</p>
<a name="h2a4"></a><h3 id="h2ix4">Obfuscation and minification</h3>
<p>The javascript code to your game is minified and obfuscated with Google's <a href="http://code.google.com/closure/compiler/" target="_blank">Closure Compiler ⇗</a>.  This reduces the download size and makes it extremely difficult for anybody to reverse engineer your game.</p>
<p>The game images are compressed in PNG format.  They are also further compressed when exporting to ensure the download is as small as possible.  For more information, see this blog post on <a href="http://www.scirra.com/blog/66/image-compression-in-construct-2" target="_blank">Image compression in Construct 2 ⇗</a>.</p>
<a name="h2a5"></a><h3 id="h2ix5">Audio</h3>
<p>Construct 2's game engine supports the Web Audio API for reliable low-latency playback of sound effects.  When not supported the standard HTML5 <strong>&lt;audio&gt;</strong> tag is used instead.</p>
<a name="h2a6"></a><h3 id="h2ix6">Offline support</h3>
<p>Despite the fact HTML5 games run in a web browser, Construct 2 games use the HTML5 AppCache to allow them to run offline as well.  This is very useful for iOS web apps and Chrome Web Store apps, since some users may be offline when running the game.  Also, the AppCache helps save bandwidth on servers which host the games: the game files will only ever be downloaded once, and every visit after that the game will be loaded locally from disk (while checking for an update in the background).  See the tutorial on <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">offline support in Construct 2 ⇗</a> for more information.  The most important point is your server <strong>must</strong> be set up to serve <strong>.appcache</strong> files with the MIME type <strong>text/cache-manifest</strong>.<a name="anchor-34"></a></p>
<h2>2.8 Best practices</h2>
<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Back up regularly!</h3>
<p>Neither the hardware nor software in your computer is perfect.  Computers fail and software can crash.  <strong>Back up your projects</strong> to protect yourself from losing work.  It is essential to also maintain <strong>off-site backups</strong>.  If all your backups are in the same computer or saved to disks all in the same building, catastrophic events like fire, floods, theft or simultaneous hardware failure can cause you to lose <em>all your work and backups together</em>.</p>
<p>Construct 2 has built-in features to easily make automatic backups, including off-site backups using Dropbox.  For more information see the tutorial <a href="http://www.scirra.com/tutorials/269/keep-your-work-safe-with-construct-2s-backup-options" target="_blank">Keep your work safe with Construct 2's backup options ⇗</a>.</p>
<p>This advice is <strong>not specific to Construct 2</strong>.  It is vital to adopt this practice for any work on a computer which is important to you.  <em>Do not</em> wait until you've lost work before starting to do this.  People lose work regularly from having poor backup practices.  Don't be one of them!</p>
<a name="h2a1"></a><h3 id="h2ix1">Test on multiple browsers and devices</h3>
<p>It is highly recommended to test your game works as intended in a range of different browsers.  While HTML5 is a standard which in theory is implemented the same by all browsers, in practice there are variations between browsers (e.g. in performance, features, text rendering, etc).  You should install a range of browsers and test with them all to ensure your game will work well for everyone.  Use the <a href="#anchor-66">Preview browser</a> property to test desktop browsers and <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">preview on a local network ⇗</a> to easily test mobile browsers.</p>
<a name="h2a2"></a><h3 id="h2ix2">Support touchscreen devices</h3>
<p>Many users now browse the web with touchscreen devices with no mouse or keyboard.  If at all possible, you should design your game to also support touchscreen devices, perhaps with on-screen touch controls.  For more information, see the tutorial on <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">touch controls ⇗</a>.</p>
<a name="h2a3"></a><h3 id="h2ix3">Recommended file formats</h3>
<p>You may wish to prepare artwork and audio in other software before importing to Construct 2.  The best formats to use are:</p>
<p><strong>32-bit PNG (Portable Network Graphics)</strong> for images.  Be sure to select 32-bit if you are given a choice; the 8-bit or lower versions will degrade quality.  32-bit PNGs are lossless and fully support alpha-channel transparency.  Note the default Windows Paint does not support PNG transparency.  Use a different editor instead, like <a href="http://www.getpaint.net/" target="_blank">Paint.NET ⇗</a>.</p>
<p>You can choose different export formats like JPEG inside Construct 2 to reduce the size of your finished project.  However when importing you should still stick to 32-bit PNGs if possible, and leave Construct 2 to recompress them when exporting.  For more information on how images are optimised for you see <a href="https://www.scirra.com/tutorials/577/construct-2s-export-time-optimisations" target="_blank">Construct 2's export-time optimisations ⇗</a>. It is unlikely that any third party tools or services will be able to beat what Construct 2 already does unless they degrade the image quality, and remember there is no point optimising images before importing them to Construct 2 since it stores them in projects as 32-bit PNGs with default compression settings.</p>
<p><strong>16-bit PCM WAV</strong> for audio.  These are typically .wav files, but note that not all .wav files are 16-bit PCM.  Providing you are on Windows 7 or newer, importing a 16-bit PCM .wav file to Construct 2 will automatically encode it to both AAC and Ogg Vorbis.  These are the two formats necessary to support audio in all browsers.  For more information see the manual entry on the <a href="#anchor-52">Import Audio dialog</a>.</p>
<a name="h2a4"></a><h3 id="h2ix4">Security</h3>
<p><strong>Never, ever enter usernames or passwords in to events.</strong> These will be visible in plain text in the exported Javascript, and malicious users will very quickly be able to take control of the account.  If you need to connect to something like a database, write a server-side script that talks to the database, then connect to the URL of the server.</p>
<a name="h2a5"></a><h3 id="h2ix5">Performance</h3>
<p>There are a number of best practices in regards to game performance (ensuring the game always runs fast).  Perhaps the most important is when developing for mobile, test on the target mobile device from the start.  Your computer could be 10 or 20 times faster than your mobile device, and something which runs fast on your computer may be unplayably slow on the mobile device.  For more information see the section on <a href="#anchor-134">Performance Tips</a>.</p>
<a name="h2a6"></a><h3 id="h2ix6">Memory use</h3>
<p>Some designers are tempted to design entire levels from lots of large image tiles.  This method should be avoided at all costs since it is extremely wasteful with memory, and is not used by any professional game designers. The subject is discussed in detail in the blog post <a href="https://www.scirra.com/blog/112/remember-not-to-waste-your-memory" target="_blank">Remember not to waste your memory ⇗</a>.</p>
<a name="h2a7"></a><h3 id="h2ix7">Effects</h3>
<p>Remember <a href="#anchor-146">effects</a> require WebGL to display, which is not always supported.  Be sure to set up appropriate fallbacks and test your project with WebGL disabled to ensure it will appear correctly for users whose systems do not support it.</p>
<a name="h2a8"></a><h3 id="h2ix8">Managing projects</h3>
<p>If you are working in a team, you will probably find source-control software like SVN very useful for managing a folder-based project.  It can merge changes and highlight the changes each person has made.  There is also a history of all changes available and rollbacks can be made at any time.  Construct 2 saves project data in XML format so it is well suited to this type of management. For more information see the tutorial <a href="https://www.scirra.com/tutorials/537/how-to-collaborate-on-projects-with-svn" target="_blank">How to collaborate on projects with SVN ⇗</a>.</p>
<a name="h2a9"></a><h3 id="h2ix9">Working as an individual</h3>
<p>If you are working on a project by yourself, it is probably easiest to use single-file projects (.capx files).  If the project gets large over time, you may notice Construct 2 spends more time saving and loading projects with <em>Decompressing CAPX...</em> or <em>Compressing CAPX...</em> in the status bar.  At this point it is probably useful to convert to a folder project which skips these steps and will make saving and loading faster.<a name="anchor-134"></a></p>
<h2>2.9 Performance Tips</h2>
<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Mobile</h3>
<p>Modern desktop computers are very powerful.  Generally the main problem with performance is getting your game to run well on mobiles and tablets.  It's more difficult to get good performance on these devices because they often have <em>much</em> weaker hardware: slower CPUs, slower graphics chips, and less memory - often by a factor of 10 or more compared to a desktop computer.</p>
<p><strong>You <em>must</em> test on mobile from the start.</strong>  Since your computer may be well over ten times faster than your mobile device, you may inadvertently design a game that has no hope of running well on a mobile device and not find out until later.  To avoid surprises test regularly on the intended device to make sure it is still running fast enough.  The <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">Preview on LAN ⇗</a> feature can make this quick and easy.  You should aim to design simpler games for mobile devices to match their lower speed and resources.</p>
<p>The following tips can help you achieve best performance for mobile devices:</p>
<ol>
<li><strong>Make sure WebGL is enabled</strong>, since on devices that support it, it usually significantly improves performance.</li>
<li><strong>Avoid using too many objects or particles</strong>, since mobile devices have lower limits to what desktop computers can handle.</li>
<li><strong>Place objects using the same blend modes or effects on the same layer.</strong> For example, if you have a lot of objects using the <em>Additive</em> blend mode (commonly used for explosions, lasers and other effects), make sure all those objects are placed on their own layer.  Also make sure they are created on that layer if the objects are spawned or created at runtime.  Switching between effects can reduce performance, and doing this will ensures all objects using the same effect are drawn at the same time. This is described in more detail in the blog post <a href="https://www.scirra.com/blog/ashley/10/how-the-construct-2-webgl-renderer-works" target="_blank">How the Construct 2 WebGL renderer works ⇗</a>.</li>
<li><strong>Avoid objects with large areas of transparency.</strong> Transparent pixels still take up rendering time, even though they do not visually appear. <strong>Crop all images you use to remove wasteful transparent space.</strong> (Shift+Crop in the animation editor will crop the entire animation.) Splitting up large objects with large transparent areas in to a series of smaller objects can also increase the rendering performance and save memory. For example, adding a window border using a screen-sized transparent sprite with borders drawn at the edges will perform poorly as it still has to fill a large transparent area in the middle; splitting it in to four separate objects for each edge is much more efficient.</li>
<li><strong>Avoid large areas of overlap between objects.</strong> The renderer works back-to-front, and if objects have a lot of overlap, the overlapped area will have the pixels rendered to over and over again. This can use up the <em>fill rate</em> capacity of a mobile GPU pretty quickly.</li>
<li><strong>If you have an opaque background, set <em>Clear background</em> to <em>No</em> in Project Properties.</strong> This avoids redundantly clearing the entire screen every frame when it would be cleared anyway by rendering the opaque background.</li>
</ol>
<a name="h2a1"></a><h3 id="h2ix1">Common causes of poor performance</h3>
<p>Some of the most common things causing slowdowns are listed below.  This list is not exhaustive.  There may be other reasons your game is running slowly not listed here.</p>
<p><strong>No hardware acceleration</strong><br>
Usually even the slower Canvas 2D renderer is still hardware accelerated by the GPU (Graphics Processing Unit).  However some devices have unstable graphics drivers and browser makers turn off the use of the GPU to avoid crashes (referred to as "GPU blacklisting"). On very old devices GPU acceleration may simply not be supported. See the section below on <em>Identifying GPU blacklisting in Chrome</em> below for more information.</p>
<p><strong>Changing Text objects every tick</strong><br>
Change the size or text of a Text object every tick - even just for an animation or transition - will likely produce poor performance, especially on mobile devices. The problem is even worse if the text object is large. Text rendering is very fast as long as the object is not changing, but upon changing the object must do a relatively expensive redraw of the text and replacement of the cached texture. Try to use small Text objects that do not change regularly. If you must change text regularly, consider using a <a href="#anchor-166">Sprite Font</a> instead, which is fast even when it changes every tick.</p>
<p><strong>Inappropriate usage of the Tilemap object</strong><br>
It is not appropriate to use the Tilemap object to display large images. The tilemap object draws tile-by-tile, but can optimise if there are areas of the same tile. This is described in the blog post <a href="https://www.scirra.com/blog/ashley/3/tech-blog-tilemap-tidbits" target="_blank">Tilemap tidbits ⇗</a>. If you paste a large image in to the Tilemap object, and then stamp a grid of tiles to display the large image, every tile is different. Therefore no optimisation is possible, and a draw call must be issued for each tile. If the image needs a 10x10 grid of tiles to display, then it will need to issue 100 draw calls. A single sprite or Tiled Background, by comparison, takes a single draw call each. Therefore this type of use of the Tilemap object can be hundreds of times less efficient than using another object. The Tilemap object should only be used for tile based games, where a single tile is a useful level design block by itself, rather than part of a larger image.</p>
<p><strong>Too many objects using Physics</strong><br>
The <a href="#anchor-98">Physics behavior</a> is very CPU intensive.  Using too many objects with the Physics behavior can cause considerable slowdown.  You should design your games to use a few large Physics objects rather than many small Physics objects.</p>
<p><strong>Creating too many objects</strong><br>
While modern computers are very fast, they still have a limited processing capacity.  Creating over 1000 objects will probably cause your game to slow down.  Try to design your game to use fewer objects.  The system expression <em>objectcount</em> can tell you how many objects you are using.</p>
<p><strong>Using too many effects</strong><br>
<a href="#anchor-146">Effects</a> are visually impressive, but can slow down the game's performance considerably if over-used, especially on mobile.  Using an effect on objects with many instances is especially slow - often it is much more efficient to place all the objects with the effect on their own layer, then apply the effect to that layer instead.  This allows the effect to process everything in one go, rather than having to inefficiently re-run the effect for a small object over and over again. Some effects also have more performance impact than others: blurs and glows tend to be the slowest, distortion having a medium impact, and the color blends (like <em>multiply</em> and <em>screen</em>) being the easiest for the GPU to process.</p>
<p><strong>Unnecessary use of effects</strong><br>
Never use effects to process a static effect on an object. For example, do not use the 'Grayscale' effect to make an object always appear grayscale. This will degrade performance when you could simply import a grayscale image to the object and not use any effects at all.</p>
<p><strong>Using too many particles</strong><br>
The <a href="#anchor-135">Particles object</a> can easily create hundreds of particles.  Each particle is like a sprite, so it can rapidly use up available processing power.  Avoid using more than a couple of hundred particles if possible - generally the lower the particle rate you can set, the better.  Use the <em>ParticleCount</em> expression to help count how many particles you have created.</p>
<p><strong>Using Sprites instead of Tiled Backgrounds</strong><br>
Creating too many objects can cause slowdowns, and a common mistake is to use grids of <a href="#anchor-115">Sprite objects</a> instead of <a href="#anchor-118">Tiled Background objects</a>.  This is similar to using tilemaps inappropriately. For example, a 20x20 grid of sprites has 400 objects, which is a significant impact on the object count.  A single tiled background can replace the grid of sprites and it only counts as a single object.  Tiled backgrounds are specially optimised for repeating their texture so in this case it is literally 400 times more efficient than the grid of sprites.  Always use Tiled Backgrounds instead of repeating Sprites wherever possible.</p>
<p><strong>Not placing all used objects in the layout</strong><br>
If objects are not placed in a layout but are created by events, Construct 2 will load the textures for those objects the moment you create them. This can cause a momentary pause or "jank" and make the game feel less responsive. This can be avoided by placing any used objects in the layout. They can be placed off-screen and destroyed on startup to avoid interfering with the gameplay. Then Construct 2 will preload all their textures when the layout starts, avoiding any "jank" as they are created and destroyed at runtime.</p>
<p><strong>Using too many loops</strong><br>
This is rarer, but using too many loops like <em>For</em>, <em>For Each</em> and <em>Repeat</em> can cause the game to slow down.  Nested loops are especially likely to cause this.  To test if this is the problem, try temporarily disabling the looping events.</p>
<a name="h2a2"></a><h3 id="h2ix2">Common misconceptions</h3>
<p>The following things are often accused of affecting performance (as in, the framerate at runtime), but probably have little or no effect:</p>
<p><em>Off-screen objects</em> are <em>not</em> still rendered. Construct 2 does not issue draw calls for objects that do not appear in the window, and the GPU is also smart enough to know not to render any content that appears outside the window - even when a single image is only partially on-screen.</p>
<p><em>Image formats</em> (e.g. JPEG, PNG-8, PNG-32) affect the download size but have no effect on runtime performance or memory use (they are all decompressed to 32-bit bitmap on startup).</p>
<p><em>Audio formats</em> also only affect the download size but have no effect on runtime performance.</p>
<p><em>Number of layers</em> usually has no effect, <em>unless</em> most of the layers have changed their opacity, have effects applied, have a blend mode other than 'Normal', or use 'force own texture'.  However typically there is no performance impact from using multiple layers with default settings.</p>
<p><em>Number of layouts</em> also is unlikely to have any effect other than the download size. The <em>layout size</em> also does not have any direct effect; larger layouts do not use more memory or require more processing, unless you use more objects.</p>
<p><em>Angle or opacity of sprites/tiled backgrounds</em> and <em>floating-point positions</em> (e.g. positioning a sprite at X = 10.5) generally has no effect, since modern graphics chips are very good at handling this, even on mobiles. Very large sprites can still slow down mobile devices, but on desktop they can often still be rendered just as fast as smaller sprites.</p>
<a name="h2a3"></a><h3 id="h2ix3">More advice</h3>
<p>For more information and advice on performance, see the blog post <a href="http://www.scirra.com/blog/83/optimisation-dont-waste-your-time" target="_blank">Optimisation: don't waste your time ⇗</a>. There are also some useful tips about keeping your events efficient in the blog post <a href="https://www.scirra.com/blog/141/common-mis-used-events-and-gotchas" target="_blank">Common mis-used events and gotchas ⇗</a>.</p>
<a name="h2a4"></a><h2 id="h2ix4">Measuring and testing performance</h2>
<p>From the start of your project you should use a framerate indicator and keep an eye on performance, particularly testing regularly on mobile devices.  This allows you to notice if a particular change you have made has seriously affected performance on a weaker device than your desktop development machine.</p>
<p>Test your project on as many devices and browsers as possible.</p>
<p>If you think something is causing performance problems in your project, it is usually easy to test the theory: back up your project, delete the thing in question, and see if the framerate has improved.  If it improves, the thing you deleted was the cause; if not, it must be something else. Alternatively use the profiler tab of the <a href="#anchor-169">debugger</a> to see if a disproportionate amount of CPU time is being spent in one area of the game.</p>
<p><strong>Always measure performance.</strong>  Computer systems are highly complex, and there are many unexpected or counter-intuitive results in performance.  The <strong>only</strong> way to know what effect something has on performance is to <strong>measure it</strong>.  If you cannot measure a difference, it probably has no serious effect on performance.</p>
<a name="h2a5"></a><h3 id="h2ix5">How to measure performance</h3>
<p>The best way to see a breakdown of which parts of the game are using CPU time is to look at the <a href="#anchor-169">Profiler tab of the debugger</a>. If the game is bottlenecked on CPU logic and not GPU rendering, then this should help you quickly identify the part of the project that is using the most CPU time.</p>
<p>There are three <a href="#anchor-126">system expressions</a> that are also important for indicating performance:</p>
<p><em>fps</em> - returns the current frames per second rate.  Usually the top speed is 60 frames per second, but it can change depending on the system.</p>
<p><em>cpuutilisation</em> - returns the current estimated utilisation of the Javascript main thread. This is an approximation of how much of the available CPU time for Javascript processing is used. It ranges from 0 to 1, so the expression <em>round(cpuutilisation * 100)</em> will return a percentage. Despite the name this does not report the overall system CPU usage, and can be inaccurate since it's an estimation made from timing measurements in Javascript, so don't rely too heavily on it.</p>
<p><em>renderer</em> - returns either <em>canvas2d</em> or <em>webgl</em> depending on the renderer in use.  The WebGL renderer is usually significantly faster than Canvas2D, but only if the browser supports it and has not blacklisted the GPU.  For more information see the <a href="#anchor-35">Technology</a> section.</p>
<p>You can create an in-game display of these values with a <a href="#anchor-116">Text</a> object to keep an eye on performance while testing your game, using an action to update it <em>Every tick</em>:</p>
<p>Set text to <strong>fps &amp; " FPS, " &amp; round(cpuutilisation * 100) &amp; "% CPU (" &amp; renderer &amp; ")"</strong></p>
<p>This will display a string like <em>60 FPS, 30% CPU (webgl)</em> indicating the framerate, approximate CPU time and renderer.</p>
<a name="h2a6"></a><h2 id="h2ix6">Identifying GPU blacklisting in Chrome</h2>
<p>One of the most common causes of poor performance is the GPU support being turned off due to unstable drivers. This causes the game to revert to software rendering, which can cripple performance on low-end devices. The Google Chrome browser provides some diagnostics you can use to check for this on Windows, Mac, Linux and Android devices.</p>
<a name="h2a7"></a><h3 id="h2ix7">Hardware acceleration status</h3>
<p>To view which features are hardware accelerated in Chrome, visit <strong>chrome://gpu</strong> via the address bar. Under <em>Graphics Feature Status</em> you should be able to see whether <em>Canvas</em> (the canvas2d renderer) and <em>WebGL</em> are hardware accelerated. It should say <em>Hardware accelerated</em> in green if so, otherwise <em>Software only</em> or a similar message about hardware acceleration being disabled in orange or red.</p>
<p>Hardware-accelerated WebGL will provide best performance. If WebGL is not hardware accelerated but Canvas is, performance should still be good. If not even Canvas is hardware accelerated, performance will likely be poor on that device.</p>
<p>Note browser makers maintain their blacklists separately. Just because Chrome isn't using hardware acceleration doesn't mean other browsers will follow suit. Switching to an alternative like Firefox can provide better performance if it can use GPU acceleration.</p>
<a name="h2a8"></a><h3 id="h2ix8">Forcing hardware acceleration enabled</h3>
<p>If a device cannot use hardware acceleration, it's possible to force it enabled to test the full performance capability of the device's hardware. Note however that browser makers usually blacklist devices for a good reason, and forcing it enabled can result in crashes, hangs, or even device lockups (which on mobile mean you must remove and replace the battery to reset it).</p>
<p>To force hardware acceleration enabled in Chrome, visit <strong>chrome://flags</strong> via the address bar. Near the top should be an item called <em>Override software rendering list</em>. Press <em>Enable</em>. Note that your changes will not take effect until you press the <em>Relaunch now</em> button that appears at the bottom of the screen after changing the option.</p>
<p>After relaunching, the device should be able to make full use of GPU acceleration, including with WebGL support. This allows you to test the realistic hardware capabilities of the device without suffering poor performance due to the blacklist.<a name="anchor-183"></a></p>
<h2>2.10 Memory usage</h2>
Managing the amount of memory used is important to ensure a wide range of hardware can run your project. This is particularly important on mobile where limited memory is available. Reducing memory use can also in some cases improve performance.<p><a name="h2a0"></a></p>
<h2 id="h2ix0">Images</h2>
<p>Usually object images (including sprite animations) are the most memory-consuming part of a project. For this reason Construct 2 estimates the memory use from images and displays it in the status bar. You should keep an eye on this number while developing your project, but it should only be regarded as a rough estimate since <a href="https://www.scirra.com/tutorials/577/construct-2s-export-time-optimisations" target="_blank">export-time optimisations ⇗</a> could change it. Remember this is based only on images, so your project will need <em>at least</em> that much memory to run. To ensure your project can run on the broadest possible range of hardware, aim to keep memory use under 100mb. The blog post <a href="https://www.scirra.com/blog/112/remember-not-to-waste-your-memory" target="_blank">Remember not to waste your memory ⇗</a> has advice on how to best design games to minimise memory use, and common memory-consuming mistakes.</p>
<p>The estimated memory use is based on only the single layout with the largest memory requirement, because only images for one layout are loaded at a time. In Construct 2 this is called <em>layout-by-layout loading</em>.</p>
<a name="h2a1"></a><h3 id="h2ix1">Layout-by-layout loading</h3>
<p>Construct 2 only loads the images for the current layout. This avoids loading the entire project in memory which would be slow and consume a great deal of memory. When starting a layout, all images for the objects placed in the <a href="#anchor-43">Layout View</a> are pre-loaded. This includes all frames in all animations of any Sprite objects. (In other words, Sprites are either fully loaded in to memory, or not at all - they are never part-loaded.) When the layout ends, all images that are loaded but not used on the next layout are released from memory.</p>
<p>If an object is not placed in the layout view, but events create it at runtime, its images are not pre-loaded. The Construct 2 engine is forced to load the object images at the moment of creation, which can cause a momentary pause in the gameplay, or in extreme cases a constant stuttering (also known as "jank"). In order to avoid this, simply place any objects that will be used by the layout in the layout view. If they are not immediately needed then they can be destroyed in a <em>Start of layout</em> event. They will then not exist when the layout starts, but Construct 2 will still have pre-loaded their images, ensuring that they can later be created at runtime without any jank.</p>
<a name="h2a2"></a><h3 id="h2ix2">Calculating image memory use</h3>
<p>First of all it is important to note the image format has no effect on memory use. You can save on your project's download size by setting some images to PNG-8 or JPEG format in the image editor. However this does nothing to memory use: compressed images cannot be directly rendered, so upon loading all images are decompressed in to a 32-bit ARGB bitmap format. This means each pixel takes four bytes for the alpha, red, green and blue channels.</p>
<p>Consequently, the approximate memory use of an image is simply its number of pixels multiplied by 4. For example a 100x100 image would use 100 x 100 x 4 = 40000 bytes, or about 39kb. A HD-sized image at 1920x1080 would take 1920 x 1080 x 4 = 8294400 bytes, or about 7.9mb. Therefore a good technique to minimise memory use is to use smaller images. As the <a href="https://www.scirra.com/blog/112/remember-not-to-waste-your-memory" target="_blank">Remember not to waste your memory ⇗</a> blog post highlights, using lots of large images will quickly add up to a huge memory requirement and should be avoided. Export-time spritesheeting and power-of-two restrictions in some GPUs mean the actual memory use per image can vary, but this calculation serves as a good rule of thumb.</p>
<p>It is also important to note that the memory use is based on the source image - that is, as it appears in the image editor. If the object is stretched in the layout view or at runtime, it does not use any more or less memory. It is simply rendering the source image in memory (which is always at its original size) at a different size on to the screen. A good way to create memory-efficient fills or gradients is to have a very small image (e.g. 32x32) with a fill and then stretch that very large in the layout view.</p>
<a name="h2a3"></a><h3 id="h2ix3">Don't mis-use 'Downscaling quality'</h3>
<p>When exporting, Construct 2 runs <a href="https://www.scirra.com/tutorials/577/construct-2s-export-time-optimisations" target="_blank">several optimisations including spritesheeting ⇗</a> to save memory. Setting the <em>Downscaling</em> <a href="#anchor-66">project property</a> to 'High quality' forces spritesheeting to pad out all sprites to power-of-two sizes, negating the memory saving of spritesheets. This can significantly add to the memory requirement of your project. Since 'High quality' mode exists only to address two relatively minor rendering issues (edge fringing on sprites, or altered quality on the last animation frame), it should not be used unless one of these rendering issues has been specifically observed and the issue is resolved by choosing this option. Otherwise your project will be paying a very high price in memory usage for no reason.</p>
<a name="h2a4"></a><h2 id="h2ix4">Audio</h2>
<p>Usually images take up the most of a project's memory use. However it's worth noting how audio is loaded in to memory.</p>
<p>It's important to <a href="#anchor-52">categorise audio</a> between the sound and music folders because they are loaded differently and therefore have different memory usage.</p>
<a name="h2a5"></a><h3 id="h2ix5">Sounds</h3>
<p>Audio in the 'Sounds' folder is fully decompressed in to memory. This allows sound effects to be played instantly without any latency from having to first load or decompress the audio, ensuring sound effects are heard at the appropriate time. Like with images, the compressed size helps reduce the download but does not reduce memory use: the sound will be decompressed in to PCM wave buffers.</p>
<p>By default the project 'Preload sounds' property is set to 'Yes', meaning all sounds are downloaded and decompressed while the loading bar is showing. As a result <em>all</em> sounds in the project will be decompressed in to memory on startup. With a common playback configuration of 16-bit samples at 44.1 KHz, one second of single-channel audio will use 88000 bytes (about 86kb), and double that for stereo (about 172kb). For one minute of audio, that is about 5mb for single channel and 10mb for stereo. This is the primary reason music tracks should not be categorised as "sound": if you have 15 minutes of stereo music, that will consume 150mb of memory. On some platforms, decoding a full music track can also be quite slow, adding a lot to the startup time.</p>
<p>If 'Preload sounds' is set to 'No', sounds are not loaded during startup and the game can start quicker. However the first time each sound is played may be delayed since it must first download and decode it in full. Using the 'Preload' action in the Audio object can help mitigate this. However Construct 2 never releases sounds once loaded to ensure they can always be played again quickly in future. Therefore setting 'Preload sounds' to 'No' will not save memory if the player plays through the game and every sound effect is heard; it will still accumulate over time to the same memory use that preloading everything would have had. For this reason turning off sound preloading should not be used as a way to save memory.</p>
<p>Audio in the 'Sounds' folder should be short, latency-sensitive sound effects. Consider cutting down any very long duration sound effects - or, if playback latency is not important, consider categorising it as 'Music'.</p>
<a name="h2a6"></a><h3 id="h2ix6">Music</h3>
<p>Contrary to sound effects, music is streamed. Generally this means the audio engine will have a small playback buffer of a fixed length, and while the audio is playing it is loaded, decoded and played in small chunks that connect together seamlessly. This means the memory use is low regardless of the length of the track, and it can even start playing the audio before it has finished downloading. This is why music is not pre-loaded while the loading bar is showing - there's no need to wait for it to finish downloading before starting the game. However playback cannot always start immediately, since it may need to wait for the download to finish buffering, or for the first chunk to load and decode. In terms of memory use, the main consideration is simply to make sure long audio tracks (typically in-game music) is categorised as music and not sound.<a name="anchor-36"></a></p>
<h1>3. Interface</h1>
<p>This section covers the Construct 2 user interface.  For an at-a-glance summary, be sure to see the <a href="#anchor-13">Interface Overview</a> from the previous section.</p>
<a name="anchor-37"></a><h2>3.1 File menu</h2>
<p>Construct 2's <strong>File</strong> menu is accessed by clicking the blue button in the top left of the ribbon.</p>
<p><img src="./manual_files/filemenu.png" alt="Construct 2&#39;s File menu" width="485" height="417"></p>
<p>Recently opened projects are listed on the right hand side of the drop-down menu.</p>
<ul>
<li><strong>New</strong> Opens the <a href="#anchor-148">Start dialog</a>.</li>
<li><strong>Open</strong> Open an existing project from disk.</li>
<li><strong>Save</strong> Save the current project to disk.</li>
<li><strong>Save As Project</strong> and <strong>Save As Single File</strong> Save to a different folder or file.  See <a href="#anchor-33">Saving and sharing projects</a>.</li>
<li><strong>Export project</strong> Export to a HTML5 game ready for distribution.  See <a href="#anchor-122">Exporting and Publishing</a>.</li>
<li><strong>Close Tab</strong> Close the currently open tab.  Tabs can also be closed by middle-clicking them.</li>
<li><strong>Close Project</strong> Close the currently open project, prompting to save changes if any.</li>
</ul>
<p>Along the bottom are four additional buttons:</p>
<ul>
<li><strong>Help</strong> Opens this manual.</li>
<li><strong>About</strong> Open the <a href="#anchor-46">About dialog</a> with information about your computer, the Construct 2 version, and so on.</li>
<li><strong>Preferences</strong> Open the <a href="#anchor-61">Preferences dialog</a> with settings for the Construct 2 editor.</li>
<li><strong>Exit</strong> Close Construct 2.</li>
</ul>
<a name="anchor-38"></a><h2>3.2 Ribbon</h2>
The <strong>Ribbon</strong> is the name given to the tabbed toolbar at the top of the editor window, similar to the design used in Office 2007 and newer.<p></p>
<p>By default the ribbon is hidden until you click one of the ribbon tabs.  You can toggle permanently showing the ribbon by clicking the <strong>Pin/toggle ribbon</strong> button in the top right.</p>
<p>Keyboard shortcuts can be identified either by hovering a button on the ribbon, or pressing <strong>Alt</strong> which will show keyboard shortcuts on-screen.</p>
<a name="h2a0"></a><h3 id="h2ix0">The Home tab</h3>
<p><a href="./manual_files/ribbonhome_3.png" target="_blank"><img width="578" height="81" class="article-image thumb-img" src="./manual_files/ribbonhome_3.png" alt="Ribbon &#39;Home&#39; tab"></a></p>
<div class="full-size-img"><a href="./manual_files/ribbonhome_3.png" target="_blank">Open full size image</a></div><a href="./manual_files/ribbonhome_3.png" target="_blank"> ⇗</a><!--imgend--><br>
The Home tab has the standard functions common to most software: <strong>Cut</strong>, <strong>Copy</strong>, <strong>Paste</strong>, <strong>Undo</strong> and <strong>Redo</strong>.<p></p>
<p>The <strong>Delete</strong>, <strong>Select All</strong> and <strong>Select None</strong> buttons affect the current selection in either the Event Sheet View or Layout View.</p>
<p><strong>Configurations</strong> allow you to set up different versions of your project without having to save multiple projects to disk.  <strong>Active configurations</strong> sets which configurations are currently being edited.  Since only one configuration can be displayed in the editor at a time, this is chosen with the <strong>Display configuration</strong>, which must also be an active configuration.</p>
<p>The <strong>Online</strong> section contains some web links you may find useful.</p>
<p>The <strong>Preview</strong> section has buttons to preview or <a href="#anchor-169">debug</a> the project and export a game ready for publishing.</p>
<p>The <strong>Go</strong> section allows you to bring up the <a href="#anchor-11">Start page</a> if you closed it.</p>
<a name="h2a1"></a><h3 id="h2ix1">The View tab</h3>
<p><a href="./manual_files/ribbonview_3.png" target="_blank"><img width="578" height="75" class="article-image thumb-img" src="./manual_files/ribbonview_3.png" alt="Ribbon &#39;View&#39; tab"></a></p>
<div class="full-size-img"><a href="./manual_files/ribbonview_3.png" target="_blank">Open full size image</a></div><a href="./manual_files/ribbonview_3.png" target="_blank"> ⇗</a><!--imgend--><br>
The <strong>Bars</strong> section allows you to show or hide the various user interface bars in the Construct 2 editor by clicking the checkboxes. See the <a href="#anchor-36">Interface</a> section for more information about each bar.<p></p>
<p>The <strong>Zoom</strong> section can be used to zoom both the Layout View and Event Sheet View.</p>
<p>The <strong>Grid options</strong> and <strong>Grid size</strong> sections only apply to the <a href="#anchor-43">Layout View</a>.  By enabling <strong>Snap to Grid</strong>, moving and placing objects will snap them to an invisible grid with the given cell sizes. The grid can optionally also be shown in the Layout View.</p>
<p>The <strong>Theme</strong> allows you to choose different visual styles for the Construct 2 user interface.  This is purely cosmetic and does not affect any functionality of the editor.</p>
<p>The <strong>Display</strong> section also only affects the Layout View. <em>Show collision polys</em> will render outlines of each object's collision polygon in the Layout View itself if enabled. The color of the collision polygon lines can be changed in <a href="#anchor-61">Preferences</a>. The <em>Translucent inactive layers</em> mode will show all layers apart from the active one (selected in the <a href="#anchor-42">Layers Bar</a>) at 33% opacity. The translucent layers are also locked so objects on them cannot be selected. This can be a convenient mode for editing individual layers.</p>
<a name="h2a2"></a><h3 id="h2ix2">The Events tab</h3>
<p><a href="./manual_files/ribbonevents_3.png" target="_blank"><img width="578" height="72" class="article-image thumb-img" src="./manual_files/ribbonevents_3.png" alt="Ribbon &#39;Events&#39; tab"></a></p>
<div class="full-size-img"><a href="./manual_files/ribbonevents_3.png" target="_blank">Open full size image</a></div><a href="./manual_files/ribbonevents_3.png" target="_blank"> ⇗</a><!--imgend--><br>
The Events tab only applies to the <a href="#anchor-44">Event Sheet View</a>.  If a Layout view is open all its buttons will be disabled.<p></p>
<p>The <strong>Add</strong> buttons in the <strong>Events</strong> section provide quick ways to add a new event, condition, action, sub-event, event group, global or local variable, event include or comment.  If you have something in the event sheet selected, the new item will be added next to the selection.</p>
<p><strong>Disable</strong> allows you to toggle conditions, actions or entire events on and off.  A disabled event appears crossed out, and is effectively deleted - it will not run or affect the game in any way.  However, you can bring it back at any time by clicking Disable again.  This can be useful for testing.</p>
<p>The <strong>Bookmarks</strong> section allows you to toggle bookmarks on the selected event, and navigate to the next and previous bookmarks in the project. These can also be viewed with the <a href="#anchor-165">Bookmarks Bar</a>.</p>
<p>The <strong>Breakpoints</strong> section allows you to toggle <a href="#anchor-170">breakpoints</a> on events, conditions and actions, or remove all breakpoints from the project.</p>
<p>The <strong>Search</strong> section allows you to filter all the events in the current event sheet by a phrase.  If an event contains the search text anywhere inside it, the event remains in the view, otherwise it is removed.  This can be very useful to locate events related to a particular object, or to find something in a long event sheet.  The <strong>Clear Search</strong> button (or pressing Escape) shows all events again.</p>
<p>The <strong>Show 'Add action' links</strong> can be used to hide or show the <em>Add action</em> link in every event.  These provide a quick way to add new actions.  However, they can significantly increase the vertical height of the event sheet making it a little harder to read or find events.  If you want to review an event sheet you might find it useful to turn these links off.  Actions can still be added to events even when the links are hidden by the <strong>Add action</strong> button in the ribbon or right-click menu.<a name="anchor-39"></a></p>
<h2>3.3 Project Bar</h2>
The <strong>Project Bar</strong> shows an overview of everything in your project.  See <a href="#anchor-32">Project Structure</a> for a summary of the different elements that make up a project, or the manual section on <a href="#anchor-65">Project Primitives</a> for more detail.<br>
<br>
<img class="article-image" src="./manual_files/projectbar.png" alt="The Project Bar"><!--imgend--><br>
The project name appears with an asterisk by it (e.g. <strong>Space Blaster*</strong>) if it has unsaved changes.<br>
<br>
<h3>Organising projects</h3>
<br>
The Project Bar can be used to arrange your project in to subfolders <em>(licensed edition only)</em>. Subfolders can be added by <strong>right-clicking a folder</strong> and selecting <strong>Add subfolder</strong>.  Then, you can <strong>drag and drop</strong> folders and items to organise them in to folders.<br>
<br>
<h3>Managing the project</h3>
<br>
<strong>Right-click</strong> any item in the Project Bar to show a list of options.  Most items can be renamed and deleted.  Right-clicking a folder also has the option to add a new item to that folder, such as a new layout or event sheet.  Objects are more commonly added in the Layout View, but you can still add them from the Project Bar too.<br>
<br>
<strong>Right-click the name of the project at the top</strong> to close, export or open the project's folder in Windows Explorer.<br>
<br>
<h3>Deleting objects</h3>
<br>
Deleting from the Layout View will not remove an object from the project completely.  The only way to fully remove an entire object type from the project is to delete it from the Project Bar.<br>
<br>
<h3>Importing audio</h3>
<br>
<strong>Right-click</strong> either the <strong>Sound</strong> or <strong>Music</strong> folders and select <strong>Import</strong> to open the <a href="#anchor-52">Import Audio dialog</a>.  This allows you to pick audio files from your computer and import them to the project.  Construct 2 will convert them to the necessary formats to support all browsers.  To play back audio, make sure you add the <a href="#anchor-109">Audio object</a> to the project.<br>
<br>
<h3>Importing files</h3>
<br>
You can import additional external files to the project.  For more information, see <a href="#anchor-141">Project Files</a>.<a name="anchor-40"></a><h2>3.4 Properties Bar</h2>
<p>The <strong>Properties Bar</strong> is a vital part of the interface.  It displays a list of all the settings you can change on whatever is selected.  In the picture below, a layout is selected, so the layout's properties are showing.</p>
<p><img src="./manual_files/propertiesbar.png" alt="The Properties Bar" width="254" height="235"></p>
<p>There are too many properties in Construct 2 to list here.  Instead, properties for different parts of the project are documented in the relevant manual section.  For example, layout properties are defined in the Layout section.</p>
<p>Properties are organised in to <strong>categories</strong> which can be expanded and collapsed with the <strong>+</strong> button.  There are many kinds of properties, including number fields, text fields, dropdown lists and clickable links.  The property name appears in the left column, and the editable value appears in the right column.</p>
<p>Whenever something in the project is clicked or selected, its properties display in the Properties Bar.  For example, selecting objects in the Layout View or clicking items in the Project Bar shows the relevant properties in the Properties Bar.</p>
<h3>Things with properties</h3>
<p>The following project elements have properties:</p>
<ul>
<li><a href="#anchor-66">Projects</a></li>
<li><a href="#anchor-67">Layouts</a></li>
<li><a href="#anchor-85">Layers</a></li>
<li><a href="#anchor-71">Object instances</a></li>
<li><a href="#anchor-48">Animations</a></li>
</ul>
<p>Many <a href="#anchor-72">behaviors</a> have their own properties - see the <a href="#anchor-86">Behavior reference</a><br>
Many <a href="#anchor-69">plugins</a> have their own properties - see the <a href="#anchor-106">Plugin reference</a><br>
Many objects also support <a href="#anchor-40">effects</a> and have properties for them as well.</p>
<p>See the relevant manual sections for documentation on the properties that are shown.  There is also a <strong>Help</strong> link displayed at the bottom of the properties that will take you to a relevant manual section.</p>
<h3>Property descriptions</h3>
<p>All properties also have a <em>description</em> which provide additional information about what the property is used for.  This is displayed in a panel at the bottom of the Properties Bar.  It is worth keeping an eye on this since it can contain useful hints and tips.  An example is shown below.</p>
<p><img src="./manual_files/propertydescription.png" alt="A property description" width="263" height="146"></p>
<a name="anchor-41"></a><h2>3.5 Object Bar</h2>
<p>The <strong>Object Bar</strong> is most useful in the <a href="#anchor-43">Layout View</a>.  It displays a filtered list of <a href="#anchor-68">objects</a> with large icons.  Objects can be <strong>dragged and dropped in to the layout</strong> to place them.  This makes the Object Bar useful for showing just the objects you're interested in placing, which is sometimes quicker than using the Project Bar (which lists everything in the project).</p>
<p>See also the <a href="#anchor-68">manual section on Objects</a></p>
<p>The Object Bar also provides another way to access object's properties.  Selecting an icon in the Object Bar shows the object's properties in the <a href="#anchor-40">Properties Bar</a>.  If a Layout View is currently open, it will also select every instance of that object type in the layout.</p>
<p><img src="./manual_files/objectbar.png" alt="The Object Bar" width="251" height="232"></p>
<h3>Browsing objects</h3>
<p>By default the Object Bar shows the project objects organised by folders.  Double-click a folder to show that folder's contents.  Click the green <strong>Up</strong> arrow to navigate back to the parent folder.</p>
<p>Selecting a folder in the <a href="#anchor-39">Project Bar</a> also displays that folder's contents in the Object Bar.</p>
<p>Objects can also be organised by dragging and dropping them to folders in the Object Bar, but you may find the Project Bar more convenient for this.</p>
<h3>Display options</h3>
<p>The text at the top of the title bar shows the current filter or folder if any.  By default it shows just the objects on the current layout (e.g. <em>All 'MyLayout' objects</em>).  This means it will <strong>not</strong> show objects only on different layouts, nor project objects like Mouse or Keyboard.  These objects can be accessed via the Project Bar, and also dragged and dropped in to the layout from there.  Alternatively, the filtering options can be set to display all project objects in the Object Bar (see below).</p>
<p><strong>Right-click</strong> a space in the Object Bar to show its display options.</p>
<p><img src="./manual_files/objectbarmenu.png" alt="The Object Bar menu" width="168" height="259"></p>
<p><strong>Up to parent folder</strong><br>
A shortcut for the green <em>Up</em> button at the top of the Object Bar.</p>
<p><strong>Up to root</strong><br>
Return to the root (bottom-level) object folder, as if clicking <em>Object types</em> in the Project Bar.</p>
<p><strong>Insert new object</strong> and <strong>Add subfolder</strong><br>
Shortcuts for the organisation functions in the <a href="#anchor-39">Project Bar</a>.</p>
<p><strong>Show path toolbar</strong><br>
Show or hide the text and <em>Up</em> button at the top of the Object Bar.</p>
<p><strong>Filter objects</strong><br>
Set to <em>Current layout objects</em> to only show objects which are in the current layout (the default), or <em>All project objects</em> to show all objects in the project (like the Project Bar).</p>
<p><strong>View as</strong><br>
Set to <em>Folder structure</em> to display objects organised by their subfolders (the default), or <em>Simple List</em> to list all objects regardless of their folder (there are no subfolders in this view).</p>
<p><strong>Icon style</strong><br>
Change how the icons are displayed in the Object Bar, including which direction the bar scrolls in if there are lots of objects.  This can be useful if you dock the Object Bar somewhere else in the editor, e.g. along the top or bottom.</p>
<p><strong>Icon size</strong><br>
Change the size of the icons.  Smaller icons lets you fit more icons in the window, but larger icons makes it quicker to identify objects.</p>
<a name="anchor-42"></a><h2>3.6 Layers Bar</h2>
<p>The <strong>Layers Bar</strong> is used to add, edit and remove <a href="#anchor-85">layers</a> in a <a href="#anchor-67">layout</a>.  A layer is like a sheet of glass objects are painted on to.  This allows easy arrangement of which objects display in front of other objects, for example showing <em>foreground</em> objects in front of the <em>background</em> sprites.  It also allows for interesting depth effects like parallax, and layers can be individually scaled and rotated as well.</p>
<p>Layers can be <strong>dragged and dropped</strong> in the Layers Bar to change their order.  Layers at the <strong>bottom</strong> of the list are displayed <strong>at the back</strong> (e.g. background objects), and layers at the <strong>top</strong> of the list are displayed <strong>at the front</strong> (e.g. HUD objects).</p>
<p>Selecting a layer displays its properties in the <a href="#anchor-40">Properties Bar</a> and also sets it as the <strong>active layer</strong> which new objects are inserted in to.  See the <strong>Active layer</strong> property in <a href="#anchor-67">layout properties</a> for more information.</p>
<p><img src="./manual_files/layersbar_2.png" alt="The Layers Bar" width="250" height="160"></p>
<h3>The Layers list</h3>
<p>Each layer in the list has the following:</p>
<ul>
<li>A <strong>checkbox</strong> to toggle whether the layer is <strong>visible in the editor</strong> (this does not affect the game when previewing or exporting)</li>
<li>A <strong>padlock icon</strong>.  Clicking this toggles the layer's <strong>locked</strong> status.  If a layer is locked, objects on that layer cannot be selected in the editor.  This is useful to prevent accidental selections on rarely-used layers like backgrounds.</li>
<li>A <strong>number</strong> to the right.  This is a <strong>zero based index</strong> of the layer (the first layer is number 0, not 1).  If you need to enter a layer number in the event system, this is the corresponding number. (You can also enter layer names in the event system which might be more convenient if you regularly reorder layers.)</li>
</ul>
<h3>The Layers Toolbar</h3>
<p>The icons along the top provide shortcuts for editing layers.  Layers can be added and there are alternative options for layer visibility and locking.  There is also a <strong>Rename</strong> and <strong>Delete</strong> button (F2 and Delete on the keyboard respectively).  Layers can also be renamed by single-clicking a selected layer, like renaming files in Windows Explorer.  Finally, there are <strong>Move up</strong> and <strong>Move down</strong> buttons, which provide an alternative to dragging and dropping to reorder layers.</p>
<h3>Object Z ordering</h3>
<p>To modify the Z order (front-to-back order) of individual objects on a layer, use the <a href="#anchor-157">Z Order Bar</a>.</p>
<a name="anchor-157"></a><h2>3.7 Z Order Bar</h2>
The <strong>Z Order Bar</strong> allows precise control over which objects appear in front of others. Although Construct 2 is a 2D engine, the term <em>Z order</em> is used to refer to the display order of each individual object.<p></p>
<p>The Z Order Bar is not available in the Free edition of Construct 2.</p>
<p><img width="250" height="300" class="article-image" src="./manual_files/zorderbar_2.png" alt="The Z Order Bar"><!--imgend--><br>
To open the Z Order Bar, either right click in the <a href="#anchor-43">layout view</a> and select <em>Z order</em> -&gt; <em>Edit Z order...</em>, or tick the <em>Z Order Bar</em> checkbox in the <em>View</em> tab of the <a href="#anchor-38">ribbon</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">The Z Order list</h3>
<p>If no objects are selected, the Z Order Bar displays all objects in the layout. Group markers appear identifying each layer from the <a href="#anchor-42">Layers Bar</a>. The Z Order increases <em>upwards</em> in the list, meaning objects at the <strong>bottom</strong> of the list are displayed at the <strong>back</strong>, and objects at the <strong>top</strong> of the list are displayed at the <strong>front</strong>.</p>
<p>If any objects are selected from the Layout View, the list is filtered down to only those objects <em>and</em> any other objects overlapping them. The objects selected from the Layout View are also shown in bold. This makes it convenient to see the relative Z order of a small area without having to take in to account the rest of the layout.</p>
<a name="h2a1"></a><h3 id="h2ix1">Identifying instances</h3>
<p>With lots of the same instances in the list, it can sometimes be difficult to tell precisely where a particular instance occurs in the list. To help identify each instance its <a href="#anchor-130">UID</a> appears after its name, e.g. <em>Player 41</em> (meaning a Player instance with UID 41).</p>
<p>Instances in the list which were selected in the Layout View are also highlighted in bold. Selecting instances from the Z Order Bar itself will also select objects in the Layout View and show their properties, but will not affect the filtering of the list.</p>
<p>Sprite objects which have a different initial image set by changing the <em>Initial frame</em> or <em>Initial animation</em> properties also display an icon for that initial image in the Z Order list.</p>
<p>Finally, instances can be <strong>double-clicked</strong> to make them flash briefly in the Layout View. Alternatively an instance can be right-clicked and then <em>Flash instance</em> selected. This helps visually identify the instance in the layout.</p>
<a name="h2a2"></a><h3 id="h2ix2">Editing the Z Order</h3>
<p>Using the Z Order bar is very simple: to move an object in the Z Order, simply <strong>drag and drop it in the list</strong>. You can also move objects to other layers this way. You can also select multiple objects by holding <strong>Control</strong> or <strong>Shift</strong> and drag them all as a block to another layer or location in the Z Order. When doing this, the relative order of the selection is also preserved.</p>
<p>If you want to add, remove or reorder layers themselves, use the <a href="#anchor-42">Layers Bar</a> instead.</p>
<a name="h2a3"></a><h3 id="h2ix3">View options</h3>
<p>You can right-click the Z Order Bar and select <em>Show active layer only</em>. This further filters down the list to only display objects on the current <em>active layer</em> (the selected layer in the <a href="#anchor-42">Layers Bar</a>), which can be useful when working with a single layer.<a name="anchor-171"></a></p>
<h2>3.8 Tilemap Bar</h2>
The <strong>Tilemap Bar</strong> allows tilemaps in the <a href="#anchor-172">Tilemap object</a> to be edited from within the <a href="#anchor-43">layout view</a>. It provides a toolbar with various tools and options, and a view of the current tileset image.<p></p>
<p><img width="285" height="255" class="article-image" src="./manual_files/tilemapbar.png" alt="The Tilemap Bar"><!--imgend--><br>
<a name="h2a0"></a></p>
<h3 id="h2ix0">Basic usage</h3>
<p>To add a tilemap and start editing it, follow these steps:</p>
<ol>
<li>Add a <a href="#anchor-172">Tilemap object</a> to the layout and make sure it is selected</li>
<li>Choose the Pencil or Rectangle tool from the Tilemap bar's toolbar</li>
<li>Select a tile in the tileset showing in the Tilemap bar</li>
<li>Click inside the Tilemap object to start drawing the selected tile</li>
</ol>
<p>You can hold shift and right-click a tile to pick that tile to draw with. You can also hold shift and drag the right mouse button over a range of tiles, and the tilemap bar will also select that range of tiles as a patch you can stamp out.</p>
<p>To stop editing the tilemap's tiles and return to normal layout editing, click the mouse cursor on the Tilemap bar's toolbar to restore normal layout view selection. This also allows you to move and resize the entire tilemap object.</p>
<p>If you have multiple tilemap objects, only the selected tilemap is edited. It is often useful to layer tilemap objects directly on top of each other, in which case the tilemap to edit can be most easily selected using the <a href="#anchor-157">Z Order Bar</a> or hiding/locking layers with the <a href="#anchor-42">Layers Bar</a>.</p>
<p>If you are dealing with small tiles, you can also right-click on the tilemap and select a zoom level from the menu.</p>
<a name="h2a1"></a><h3 id="h2ix1">Toolbar tools</h3>
<p>The Tilemap bar's toolbar has the following options:</p>
<p><strong>Normal layout view selection</strong>: stop editing tiles and select the Tilemap object like any other object.</p>
<p><strong>Pencil tile tool</strong>: draw tiles with the mouse. You can also select an area of tiles by dragging across several tiles in the displayed tileset, and then use this tool to stamp that region of tiles in to the tilemap.</p>
<p><strong>Rectangle tile tool</strong>: draw a rectangular area of tiles by clicking and dragging in the tilemap object. You can also select a 3x3 area of tiles in the displayed tileset, and the tool will automatically nine-patch the tiles. This also works for drawing single rows or columns with smaller selections such as 1x3 or 3x1, where the first and last tile are the first and last in the selection, and the rest are the middle tile repeated. Larger selections can also be used, such as 4x4, and the middle tiles will be alternated along the rectangle.</p>
<p><strong>Erase tile tool</strong>: erase tiles from the tilemap so they appear as transparent space. Larger areas can be erased by selecting a larger area of tiles in the tileset. A shortcut for erasing single tiles is to right-click while another tool is selected.</p>
<p><strong>Edit tile collision polygon</strong>: with a single tile in the tileset selected, click this button to edit that tile's collision polygon. Alternatively double-click a tile in the tileset. When testing for collisions with the tilemap object, the collision polygon will be used wherever that tile appears in the tilemap. If a collision polygon has set (and it is not the default bounding box), the collision polygon will be outlined in red while hovering the mouse over that tile in the Tilemap bar.</p>
<p><strong>Flip placing tile horizontally</strong>: when using the <em>Pencil</em> tool, tiles will be placed flipped horizontally. Alternatively use the <strong>X</strong> keyboard shortcut. If an area of tiles is selected in the tileset, the entire patch is also flipped.</p>
<p><strong>Flip placing tile vertically</strong>: when using the <em>Pencil</em> tool, tiles will be placed flipped vertically. Alternatively use the <strong>Y</strong> keyboard shortcut. If an area of tiles is selected in the tileset, the entire patch is also flipped.</p>
<p><strong>Rotate placing tile anticlockwise/clockwise</strong>: when using the <em>Pencil</em> tool, click to keep rotating the tiles to be placed. Alternatively use the <strong>Z</strong> keyboard shortcut. If an area of tiles is selected in the tileset, the entire patch is also rotated.</p>
<p><strong>Import TMX</strong>: import a .tmx tilemap as used by <a href="http://www.mapeditor.org/" target="_blank">Tiled ⇗</a>. All the tiles in the object are replaced with tile data from the TMX file. In Construct 2 a Tilemap object represents a single layer of tiles, so if the TMX file has multiple layers you will be asked which layer to import. To import all layers, create a different tilemap object for each layer and import them separately. Optionally the tileset image can also be replaced with the image from the TMX file.</p>
<p><strong>Export TMX</strong>: export the current tiles and tileset image in to a .tmx file as used by <a href="http://www.mapeditor.org/" target="_blank">Tiled ⇗</a>. Note that Construct 2 does not support all of Tiled's features, so importing then exporting a TMX may lose some data, such as terrain definitions. Also since in Construct 2 a Tilemap object represents a single layer of tiles, the exported TMX file will also only ever have one layer.</p>
<a name="h2a2"></a><h3 id="h2ix2">The Tilemap object</h3>
<p>For more information on how to use tilemaps, see the manual entry on the <a href="#anchor-172">Tilemap object</a>.<a name="anchor-165"></a></p>
<h2>3.9 Bookmarks Bar</h2>
The <strong>Bookmarks Bar</strong> shows an overview of all the bookmarks in the project. Bookmarks are a way of marking and quickly moving between events in the <a href="#anchor-44">Event Sheet View</a>. In the Event Sheet View, bookmarks can be toggled with Ctrl+F2, and navigated between with F2 and Shift+F2 (see <a href="#anchor-64">Keyboard shortcuts</a>).<p></p>
<p>The Bookmarks Bar is not available in the Free edition of Construct 2.</p>
<p><img width="300" height="300" class="article-image" src="./manual_files/bookmarksbar.png" alt="The Bookmarks Bar"><!--imgend--><br>
As with all bars, the Bookmarks Bar can be docked anywhere in the user interface or left floating as an individual window.</p>
<p>Bookmarks are listed in the order they occur in the project: first by event sheets in the order they appear in the Project Bar; then by their sequence within the event sheet. Each bookmark listed shows a description by it, if possible. For example a bookmarked group will show the title of the group, a bookmarked variable will show the name of the variable, and a bookmarked event will show some text from the first condition of the event. If the bookmark position has an event number, it is also shown, and the event sheet the bookmark belongs to is also listed.</p>
<p><strong>Double-click a bookmark</strong> to navigate to it. <strong>Right-click</strong> to show a menu where bookmarks can be removed (alternatively by pressing Delete), or clear all bookmarks from the project.<a name="anchor-43"></a></p>
<h2>3.10 Layout View</h2>
The <strong>Layout View</strong> is a visual designer for your objects.  It allows you to set up a pre-arranged <em>layout</em> of objects, such as a game level, menu or title screen.  In other tools, <em>layouts</em> may be referred to as <em>scenes</em>, <em>rooms</em>, <em>frames</em> or <em>stages</em>.  See also the <a href="#anchor-67">manual section on layouts</a>.<p></p>
<p><a href="./manual_files/layoutview.png" target="_blank"><img width="578" height="479" class="article-image thumb-img" src="./manual_files/layoutview.png" alt="The Layout View"></a></p>
<div class="full-size-img"><a href="./manual_files/layoutview.png" target="_blank">Open full size image</a></div><a href="./manual_files/layoutview.png" target="_blank"> ⇗</a><!--imgend--><br>
The dotted rectangle in the top left indicates the window size in the layout.<p></p>
<a name="h2a0"></a><h3 id="h2ix0">Adding, modifying and deleting objects</h3>
<p><strong>Double-click a space</strong> in the layout or right-click and select <strong>Insert new object</strong> to add a new object type.  This will bring up the <a href="#anchor-54">Insert New Object dialog</a>.</p>
<p>To create new <strong>instances</strong> of an existing object type, another object can be <strong>control + dragged</strong>, copy and pasted, or dragged and dropped from the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a>.  (Make sure you're clear on the difference between Object Types and Instances as described in <a href="#anchor-32">Project Structure</a>.)</p>
<p>A shortcut for importing image files as Sprite objects is to <strong>drag and drop image files from Windows Explorer to the Layout View</strong>.  This automatically creates a new Sprite object type with the dragged image.  If multiple image files are dragged, the Sprite is assigned an animation with the dragged images as animation frames.</p>
<p>Instances can be moved by dragging and dropping them with the mouse.  <strong>Hold shift</strong> to axis-lock the drag to diagonals.  Alternatively they can be nudged 1 pixel at a time with the arrow keys (hold shift to nudge 10 pixels), or co-ordinates can be typed in directly to the Properties Bar.</p>
<p>The <strong>Delete</strong> key or right-click <em>Delete</em> option deletes instances.  Deleting all instances of an object does <strong>not</strong> remove the <strong>object type</strong> from the project.  To entirely remove an object from the project it should be deleted via the <a href="#anchor-39">Project Bar</a>.</p>
<p>Click objects to select them.  Objects cannot be selected if their layer is locked.  <strong>Hold control</strong> while clicking to select multiple objects, or <strong>click and drag</strong> a selection rectangle to select all objects in an area.  The Properties Bar displays properties for <em>all</em> currently selected objects, so changing a property sets it for every selected object.</p>
<p>When a single object is selected it appears with <strong>resize handles</strong> around it:</p>
<p><img width="139" height="136" class="article-image" src="./manual_files/layoutviewselection.png" alt="A layout view selection"><!--imgend--><br>
<strong>Click and drag</strong> the resize handles to stretch the object.  <strong>Hold shift</strong> to proportionally resize the object.  The size of the resize handles can be changed in Preferences.</p>
<p>Rotatable objects like Sprite also have an <strong>angle handle</strong> originating from the object's origin.  This can be clicked and dragged to change the object's angle.  Alternatively an angle can be entered in to the Properties Bar.</p>
<a name="h2a1"></a><h3 id="h2ix1">Using tilemaps</h3>
<p>If you are designing a tile-based game, you can insert the <a href="#anchor-172">Tilemap object</a> and edit tiles in the Layout View. To find out more, see the manual entry on the <a href="#anchor-171">Tilemap Bar</a>.</p>
<a name="h2a2"></a><h3 id="h2ix2">Scrolling and zooming</h3>
<p>There are three ways to scroll in the Layout View:</p>
<ul>
<li><strong>The vertical and horizontal scrollbars</strong> at the edges of the view</li>
<li><strong>Hold the middle mouse button</strong> and drag the mouse</li>
<li><strong>Hold space</strong> and move the mouse (useful for laptops with track pads)</li>
</ul>
<p>On desktop systems, middle-mouse dragging is probably the most convenient way to move around the layout.</p>
<p>Zooming is useful to focus on a small area or see an overview of the entire layout.  There are several ways to zoom:</p>
<ul>
<li>The <strong>Zoom buttons on the ribbon</strong> in the View tab (hold shift while clicking to adjust the zoom amount)</li>
<li><strong>Hold control</strong> and <strong>scroll the mouse wheel</strong>.  Hold both Control and Shift to zoom in integer steps (e.g. 100%, 200%, 400%...)</li>
<li><strong>+</strong> and <strong>-</strong> on the num pad (hold shift to adjust zoom amount)</li>
</ul>
<p>The current zoom is displayed in the Status Bar.  Press <strong>Control + 0</strong> to return to 100% zoom.</p>
<a name="h2a3"></a><h3 id="h2ix3">Selection wrapping</h3>
<p>If you select two or more objects, you can <strong>wrap</strong> the selection by pressing <strong>Enter</strong> or right-clicking and selecting <strong>Wrap selection</strong>. This allows you to rotate and stretch the selection as a whole.</p>
<p>Wrapped selections appear with a red selection box rather than blue, as shown below:</p>
<p><img width="351" height="140" class="article-image" src="./manual_files/selectionwrap1.png" alt="Selection wrapping"><!--imgend--><br>
By using the red resize handles the entire arrangement can be made bigger:</p>
<p><img width="260" height="230" class="article-image" src="./manual_files/selectionwrap2.png" alt="Selection wrapping"><!--imgend--><br>
The red rotate handle can also be used to rotate the entire selection around the mid-point of the selection. If you click an object while the selection is wrapped, the rotate handle moves to the clicked object's origin. This allows you to then rotate the entire selection around that object, instead of just around the mid-point.</p>
<a name="h2a4"></a><h3 id="h2ix4">Other</h3>
<p>To go to the associated event sheet, press <strong>Ctrl + E</strong> or <strong>Ctrl + Tab</strong> or right-click and select <strong>Edit event sheet</strong>.</p>
<p>The Z order of objects within a layer can be adjusted by right-clicking and selecting <strong>Z Order</strong> - <strong>Send to top of layer</strong> or <strong>Send to bottom of layer</strong>. You can also choose <em>Edit Z Order...</em> to open the <a href="#anchor-157">Z Order Bar</a> for advanced control.</p>
<p>Objects can be snapped to a grid for tile placement, and the collision polygons of the displayed objects can also be outlined.  The <strong>View</strong> tab of the <a href="#anchor-38">ribbon</a> provides these options.</p>
<p>The right-click menu in the layout view also provides some alignment tools under the <em>Align</em> sub-menu. These allow you to quickly space objects equally or align objects along their edges. When aligning, the objects are aligned to the particular object you right-clicked.</p>
<p>The <a href="#anchor-48">image or animation editor</a> can be brought up by <strong>double-clicking</strong> objects with images or animations like Tiled Background and Sprite.</p>
<a name="h2a5"></a><h3 id="h2ix5">Effects previewing</h3>
<p><a href="#anchor-146">Effects</a> will be displayed in the layout view if WebGL is enabled in <a href="#anchor-66">project properties</a>.  If WebGL is disabled, the layout view will preview as it would at runtime, without displaying any effects, and using any fallbacks that have been set up.<a name="anchor-44"></a></p>
<h2>3.11 Event Sheet View</h2>
<p>The <strong>Event Sheet View</strong> is where events can be added, viewed and edited in an <a href="#anchor-121">event sheet</a> using Construct 2's non-programming event system.</p>
<p>The event system has a lot of features, so the event system has its own <a href="#anchor-74">section of the manual</a>.  This section will simply cover the basics of using the Event Sheet View.</p>
<p><a href="https://www.scirra.com/images/articles/fullsize/eventsheetview.png" target="_blank"><img src="./manual_files/eventsheetview.png" alt="The Event Sheet View" width="680" height="246" class="thumb-img"></a></p>
<div class="full-size-img"><a href="https://www.scirra.com/images/articles/fullsize/eventsheetview.png" target="_blank">Open full size image</a></div><a href="https://www.scirra.com/images/articles/fullsize/eventsheetview.png" target="_blank"> ⇗</a><p></p>
<h3>Diagram of an event</h3>
<p><img src="./manual_files/eventdiagram.png" alt="Event diagram" width="494" height="129"></p>
<p>Events are made up of three major sections:</p>
<ol>
<li>The <strong>event block</strong>, which contains the conditions.  Notice the margin to the left of the condition which allows you to select the entire event.</li>
<li>The <strong><a href="#anchor-76">conditions</a></strong>, which are each listed inside the event block.</li>
<li>The <strong><a href="#anchor-77">actions</a></strong>, which are listed to the right of the event block.</li>
</ol>
<p>Conditions and actions can be selected by clicking on them.  The entire event can be selected (which also selects all its conditions and actions) by clicking the <strong>event margin</strong>, or the bottom part of the event block. The event margin can also be right-clicked to access a menu allowing things like adding sub-events.</p>
<p>As with the Layout view, multiple selections can be made by holding control and clicking different items.  However, you can only have either events, conditions or actions selected at a time (e.g. you can't have both a condition and action selected at once).  You can also <strong>hold shift</strong> and click an event, condition or action to select all the items in a line between the selection and clicked item.</p>
<h3>Creating events</h3>
<p>There are a number of ways to add a new event:</p>
<ul>
<li><strong>Double-click</strong> a space in the event sheet</li>
<li>Click the <strong>Add event</strong> link which comes after the last event</li>
<li><strong>Right-click</strong> and choose an item to add in the menu</li>
<li>Use the <strong>Events</strong> tab on the <a href="#anchor-38">ribbon</a></li>
</ul>
<p>When you add a new event, the dialog that appears is for adding the first <strong>condition</strong> (see <a href="#anchor-51">Add Condition dialog</a>).  To add more conditions to an event, right-click the margin or an existing condition and select <strong>Add another condition</strong>.</p>
<p>Actions can be added by clicking the <strong>Add action</strong> link (if it has not been hidden in the <a href="#anchor-38">ribbon</a>), or right-clicking the margin or an existing action and selecting <strong>Add another action</strong>.  See also <a href="#anchor-51">Add Action dialog</a>.</p>
<h3>Modifying events</h3>
<p><strong>Double-click</strong> or select and press <strong>Enter</strong> on condition or action to edit it.</p>
<p>Events, conditions and actions can be <strong>dragged and dropped</strong> around the event sheet.  Holding <strong>control</strong> and dragging will duplicate the dragged event, condition or action.  Event items can also be <strong>cut, copied and pasted</strong>.</p>
<p>You may find it convenient to organise events in to <strong>Event Groups</strong>, which can also be activated and deactivated as a whole.</p>
<p>Press <strong>R</strong> or right-click and use the <strong>Replace object</strong> option to quickly swap objects referenced in the selection. Note that objects with references to instance variables or behaviors in the selection can only be swapped with other objects with the same instance variables and behaviors which have the same names and types.</p>
<h3>Scrolling and zooming</h3>
<p>There are several ways to scroll in the Event Sheet View:</p>
<ul>
<li><strong>The vertical scrollbar</strong> to the right of the view</li>
<li><strong>Scrolling the mouse wheel</strong></li>
<li><strong>Hold the middle mouse button</strong> and drag the mouse</li>
<li><strong>Hold space</strong> and move the mouse (useful for laptops with track pads)</li>
</ul>
<p>Use the <strong>zoom buttons on the ribbon</strong> in the View tab or <strong>hold control</strong> and <strong>scroll the mouse wheel</strong> to zoom.  Press <strong>Ctrl + 0</strong> to restore 100% zoom.  The event sheet font can also be set in Preferences.</p>
<a name="anchor-48"></a><h2>3.12 Image and Animations editor</h2>
Construct 2 has a built in image editor, and the Sprite object extends it with additional windows that allow you to create animations.  <em>Note: the image editor is currently a work-in-progress and is not yet feature complete.</em><p></p>
<p>To open this editor, <strong>double click</strong> an object with an image or animations in the <a href="#anchor-43">Layout View</a>.  Alternatively, right-click the object in the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a> and select <strong>Edit image</strong> or <strong>Edit animations</strong>.</p>
<a name="h2a0"></a><h3 id="h2ix0">The image editor</h3>
<p>The image editor is used to edit Tiled Background images and Sprite animation frames.</p>
<p><img width="525" height="371" class="article-image" src="./manual_files/imageeditor_5.png" alt="The Construct 2 image editor"><!--imgend--><br>
The buttons along the top modify the entire image:<br>
<strong>Clear image</strong> Resets the image to all transparent.<br>
<strong>Open</strong> Import an image file from disk in PNG, JPEG, BMP, TIF, GIF or WMF format.  PNG is recommended since it is lossless, usually compresses well, and supports alpha transparency.<br>
<strong>Save</strong> Export the image to a file on disk in PNG, JPEG, BMP, TIF or GIF format.  PNG is recommended since it is lossless, usually compresses well, and supports alpha transparency.<br>
<strong>Set export format</strong> Opens the <a href="#anchor-129">Image Format dialog</a>, allowing you to set the format on export to PNG-32, PNG-8 or JPEG.<br>
<strong>Open in external editor</strong> allows the current image to be edited in a different image editing tool. The tool can be set in <a href="#anchor-61">Preferences</a>.<br>
<strong>Link to original source file</strong> Open a file chooser dialog to review or change the original source path for this image. This can be used to easily re-import the image from its original location.<br>
<strong>Reload from original source file</strong> Replace the current image with the image file at the original source path. Construct 2 automatically tracks the original source paths of any images that are imported, but if the original source is not known, the option is disabled. The Animation Frames bar has options to reload the entire animation or all animations from the source paths in one go.<br>
<strong>Mirror</strong> Mirror the image horizontally.  Hold shift to mirror an entire animation.<br>
<strong>Flip</strong> Flip the image vertically.  Hold shift to mirror an entire animation.<br>
<strong>Rotate 90 degrees clockwise/anticlockwise</strong> rotates the image.  Hold shift to rotate an entire animation.<br>
<strong>Crop</strong> removes spare transparency at the edges of the image, making the canvas as small as possible while still fitting the image.  This is recommend to save memory and make collisions more accurate and efficient.  Hold shift to crop an entire animation.<br>
<strong>Resize</strong> Adjust the image canvas size, with options to center align the image, top-left align or stretch to fit.<br>
<strong>Zoom buttons</strong> Zoom the image.  Alternatively, hold <strong>control</strong> and scroll the <strong>mouse wheel</strong>.<br>
<strong>Toggle background brightness</strong> Switch the background from a light shade to a dark shade.  The dark shade may be more useful for editing bright images like light spots, clouds, etc.</p>
<p>The image editor view can also be scrolled by holding the <strong>middle mouse button</strong> and <strong>dragging</strong>.</p>
<p>The buttons down the left are the following tools:</p>
<p><strong>Rectangle select</strong> Select, delete, cut, copy and paste rectangle sections of the image.<br>
<strong>Eraser</strong> Erase sections of the image.<br>
<strong>Pencil</strong> Draw individual pixels or drag 1px-size lines.<br>
<strong>Brush</strong> Draw with a colored round brush.<br>
<strong>Line</strong> Draw colored lines.<br>
<strong>Rectangle</strong> Fill an area with a color.<br>
<strong>Fill</strong> Flood fill an area with a color.<br>
<strong>Color picker</strong> Pick the primary or second color from the image.  Note holding control and clicking with another tool is a shortcut for this.<br>
<strong>Set origin and image points</strong> Opens the <a href="#anchor-63">Image Points dialog</a>.  This allows you to set the image's origin (its point of rotation) and place image points at focal points in the image such as at the end of the gun.  Image points can be accessed in the event system to create objects from and such.  Some objects, like Tiled Background, do not use an origin or any image points.<br>
<strong>Set collision polygon</strong> Set the collision shape for the image or frame.  By default Construct 2 guesses a collision shape, but it is not always accurate.  Click and drag the points of the collision polygon to alter its shape.  <strong>Right-click</strong> to display a menu of additional options for the collision polygon, such as adding and deleting points.  Some objects, like Tiled Background, do not use collision polygons.</p>
<a name="h2a1"></a><h3 id="h2ix1">Animations Bar</h3>
<p>The animations bar is where multiple animations can be created for Sprite objects.<br>
<img width="189" height="286" class="article-image" src="./manual_files/animationsbar.png" alt="Animations Bar"><!--imgend--><br>
<strong>Right click</strong> a space to add a new animation or add a subfolder to organise animations.  <strong>Right click</strong> an animation and select <strong>Preview</strong> to preview how the animation will look in the game.</p>
<p>When selecting an animation, the <a href="#anchor-40">Properties Bar</a> displays settings for the animation.  These are the following:</p>
<p><strong>Speed</strong> The number of animation frames shown per second.  For example, if set to 5, each animation frame lasts for 1/5th of a second.  Set to <strong>0</strong> if you do not want the animation to play (e.g. if a tile set is used with a different tile in each frame).<br>
<strong>Loop</strong> Restart the animation after it finishes.<br>
<strong>Repeat count</strong> If not looping, the number of times to repeat the animation.<br>
<strong>Repeat to</strong> The <strong>zero based index</strong> of the animation frame to repeat back to if looping or repeating.<br>
<strong>Ping-pong</strong> Play the animation alternately forwards and backwards.</p>
<a name="h2a2"></a><h3 id="h2ix2">Animation frames bar</h3>
<p>The animation frames bar displays a list of the animation frames in the current animation.</p>
<p><img width="516" height="100" class="article-image" src="./manual_files/animationframesbar.png" alt="Animation Frames bar"><!--imgend--><br>
Select an image to switch the Image Editor to editing the clicked animation frame.  Animation frames can also be <strong>dragged and dropped</strong> to adjust the sequence.</p>
<p><strong>Right-click a space</strong> in the animation frames bar for the following options:</p>
<p><strong>Add frame</strong> Add a new blank animation frame to the end of the sequence.<br>
<strong>Duplicate last frame</strong> Make a copy of the last animation frame and add it to the end of the sequence.<br>
<strong>Reverse frames</strong> Reverse the order of all the frames in the animation.<br>
<strong>Import frames - from files...</strong> Opens a dialog to select one or more image files from disk.  All the selected image files are added as animation frames.<br>
<strong>Import frames - from sprite strip...</strong> Import a sprite strip or tileset, where a single image contains a number of animation frames aligned to a grid.  This is done with the <a href="#anchor-53">Import Sprite Strip dialog</a>.<br>
<strong>Reload files from - project folder (for this animation)</strong> Reload all the images from the project folder.  This is useful if you have edited the images in the project folder while Construct 2 is open and want Construct 2 to recognise the changes.  (This option is disabled if you're not using a project folder.)<br>
<strong>Reload files from - original sources (for this animation/all animations)</strong> Re-import the images at the original source paths for all frames in the current animation or entire object (across all animations). This allows for conveniently reimporting images from the location they originally came from.<br>
<strong>Thumbnail size</strong> Adjust the size of the thumbnail icons of each frame in the bar.</p>
<p>Selecting an animation frame shows a single property in the Properties Bar: <strong>Frame speed</strong>, which is a multiplier for the amount of time to spend on the frame.  For example, a frame speed of 2 will spend twice as long on that animation frame, 0.5 half as long, etc. relative to the current animation speed.</p>
<a name="h2a3"></a><h3 id="h2ix3">Original source paths</h3>
<p>When importing images to Construct 2, it will remember the original source path where the image came from. The <em>Reload from original source file</em> button in the image editor, and the <em>Reload files from - original sources (for this animation/all animations)</em> options in the animation frames bar, allow the images to be easily reimported from their remembered original locations. This can be useful if you are working with an artist who places their assets in a separate folder instead of directly in to the project. Just remember if you move the original paths, or transfer your project to a different computer, none of the original paths will be found any more and Construct 2 won't be able to reload anything. Also note that reimporting images from their original sources replaces what you already have, so if you have made changes like cropping or flipping from within Construct 2, then these changes will be reverted. However the collision polygons, origins and image points will be preserved.<a name="anchor-45"></a></p>
<h2>3.13 Dialogs</h2>
<p>This section lists each dialog in the Construct 2 editor.  You may not need to use all of these dialogs, depending on the features you use.  Each dialog has a link to its relevant help page in this section.  You may prefer to use these links when you need to rather than read through this section.</p>
<a name="anchor-46"></a><h3>3.13.1 About</h3>
If you're looking for general help on Construct 2, try the <a href="#anchor-1">manual front page</a>.  This page describes the <strong>About dialog</strong>.<br>
<br>
<img class="article-image" src="./manual_files/aboutdialog.png" alt="The About dialog"><!--imgend--><br>
The About dialog contains the following information:<br>
<br>
<strong>Release number</strong> (e.g. <em>Release 70</em>)<br>
Construct 2 does not use the a.b.c version numbering system.  Instead, the version is simply a number which increments by 1 every time a new release is published.  You should <a href="#anchor-3">stay up to date with the latest version</a> for the most features, best performance and most reliable stability.<br>
<br>
<strong>Release architecture</strong> (<em>32-bit</em> or <em>64-bit</em>)<br>
This determines whether you are using the 32-bit or 64-bit version of Construct 2.  If you're using a 64-bit computer it's recommended to install the 64-bit version, unless you are using a portable installation.  See <a href="#anchor-4">Installing Construct 2</a> for more information.<br>
<br>
<strong>Release type</strong><br>
Following the release number and architecture may optionally be the word <em>checked</em>.  Checked builds are generally for testing and you may occasionally see <em>check failure</em> dialogs which indicate a possible bug or problem.  You should report any such issues to Scirra.<br>
<br>
If the word <em>checked</em> does not appear, it indicates a <em>release</em> version of Construct 2, which is a stable build intended for day-to-day usage.<br>
<br>
<strong>Build timestamp</strong><br>
The date and time the Construct 2 executable was compiled by Scirra is included.  This is occasionally used by Scirra for diagnostic purposes.<br>
<br>
<strong>OpenGL information</strong><br>
This section outlines your graphics card and its basic capabilities.<br>
<br>
It is important to keep your <a href="http://www.scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">graphics card drivers up to date ⇗</a>.  Many common display glitches (e.g. objects not appearing or having sections cut off) are caused by buggy, out of date drivers.  Updating to the latest version released by your graphics card vendor often fixes these problems.  If you haven't done before since installing Construct 2, we recommend you click the <strong>Check for driver update</strong> link and try updating your drivers.  You may need administrator permissions and have to reboot your computer.<br>
<br>
<strong>License information</strong><br>
This contains the license information if a license has been purchased.  See <a href="#anchor-14">Using a license</a> for more information.<br>
<br>
<strong>Credits page</strong><br>
Lists all the individuals and organisations whose work has been involved in the creation of Construct 2.<a name="anchor-49"></a><h3>3.13.2 Add behavior</h3>
<p>The <strong>Add Behavior dialog</strong> allows you to add a new <a href="#anchor-72">behavior</a> to an <a href="#anchor-70">object type</a>.  Some behaviors can only be added once and will not appear in the dialog if the object already has them.  It can be opened from the <a href="#anchor-57">Object Behaviors dialog</a>.  For documentation on each behavior, see the <a href="#anchor-86">Behavior Reference</a> section of the manual.</p>
<p><img src="./manual_files/addbehaviordlg.png" alt="The Add Behavior dialog." width="400" height="418"></p>
<p>Simply <strong>double-click</strong> the behavior you wish to add.  Select a behavior to see a brief description beneath the icons.  The available behaviors can be filtered by name by typing in to the search box in the top right.</p>
<a name="anchor-51"></a><h3>3.13.3 Add condition/action</h3>
The <strong>Add Condition dialog</strong> and <strong>Add Action dialog</strong> are very similar so they are both documented here.  These dialogs allow you to add or edit a <a href="#anchor-76">condition</a> or <a href="#anchor-77">action</a> in an <a href="#anchor-121">event sheet</a>.<br>
<br>
Adding a condition or action takes three steps:
<ol>
<li><strong>Choose the object</strong> that has the condition or action</li>
<li><strong>Choose the condition or action</strong> in that object</li>
<li><strong>Enter parameters</strong>, if any, such as the X and Y co-ordinate for <em>Set Position</em>.</li>
</ol>
The <strong>Next</strong> and <strong>Back</strong> buttons can be used to move forwards and backwards through these steps.<br>
<br>
<h3>Step 1: Choose the object</h3>
<br>
In this step a list of all the <a href="#anchor-70">object types</a> in the project is shown.  The <strong>System object</strong> (which represents built-in functionality) always appears first, and the rest of the objects are sorted alphabetically.<br>
<img class="article-image" src="./manual_files/addeventdlg.png" alt="Add event dialog"><!--imgend--><br>
<strong>Double click</strong> an object to choose it.  Typing in the <strong>search box</strong> in the top-right can quickly filter the list if there are many objects.<br>
<br>
The conditions and actions each object contains is related to the kind of object it is (e.g. Sprite, Keyboard or Audio).  For example, to locate the <strong>Play sound</strong> action in the Add Action dialog, first double-click the <strong>Audio</strong> object.  Remember the <strong>System object</strong> contains some conditions which can be used for any object, such as <strong>Pick random</strong> and <strong>For Each</strong>.<br>
<br>
<h3>Step 2: Choose the condition or action</h3>
<br>
In this step a list of all the <strong>conditions</strong> or <strong>actions</strong> in the chosen object is displayed.  They are arranged in to related categories.  Below a list of the System object's conditions is shown.<br>
<img class="article-image" src="./manual_files/addconditiondlg.png" alt="Add condition dialog"><!--imgend--><br>
<strong>Double click</strong> a condition or action to choose it.  As before, typing in the <strong>search box</strong> can help quickly locate a condition or action in the list.<br>
<br>
For more information on each condition or action, see the <a href="#anchor-106">Plugin reference</a>.  If the chosen object has any <a href="#anchor-72">behaviors</a>, they may add extra conditions and actions in to the dialog as well.<br>
<br>
Some conditions and actions require <strong>parameters</strong>.  For example, the <em>Set position</em> action for a Sprite requires the <strong>X</strong> and <strong>Y</strong> co-ordinates to be entered.  This is done in the Parameters dialog in the next step.  However, some conditions and actions do not use any parameters, such as the <strong>Destroy</strong> action.  In this case once the condition or action is chosen the process is complete.<br>
<br>
<h3>Step 3: Enter parameters</h3>
<br>
If the chosen condition or action requires parameters, the <a href="#anchor-60">Parameters dialog</a> appears for the parameters to be entered in to.  Click the link for more information on the Parameters dialog.<a name="anchor-50"></a><h3>3.13.4 Add configuration</h3>
The <strong>Add Configuration</strong> dialog is used for the <strong>Configurations</strong> feature which is currently a work-in-progress.  Please check back soon for more details!<br>
<br>
<img class="article-image" src="./manual_files/addconfigdlg.png" alt="Add Configuration dialog"><!--imgend--><a name="anchor-147"></a><h3>3.13.5 Effects dialog</h3>
<p>The <strong>Effects dialog</strong> allows you to add or remove <a href="#anchor-146">effects</a> for <a href="#anchor-68">objects</a>, <a href="#anchor-85">layers</a> and <a href="#anchor-67">layouts</a>.  It can be opened from the <a href="#anchor-40">Properties Bar</a> when the properties for an object supporting effects, a layer, or a layout are showing.</p>
<p><img src="./manual_files/effectsdlg.png" alt="The Effects dialog" width="348" height="245"></p>
<p>Effects can be added with the toolbar at the top or by right-clicking and selecting <em>Add effect</em>. This opens the Add Effect dialog. The toolbar and right-click menu also allow you to rename (F2) or delete (Del) effects.</p>
<p>Effects can be reordered by using the Up and Down buttons on the toolbar, or by dragging and dropping them. The order of effects is important since it defines the order in which the effects are processed, which can alter the visual result.  For more information, see the manual section on <a href="#anchor-146">Effects</a>.</p>
<a name="anchor-47"></a><h3>3.13.6 Event group</h3>
<p>The <strong>Add/Edit Event Group</strong> dialog contains settings for a <a href="#anchor-80">group</a> of <a href="#anchor-74">events</a>.</p>
<p><img src="./manual_files/editeventgroup.png" alt="Edit Event Group" width="366" height="218"></p>
<p><strong>Name</strong><br>
A name identifying this event group, displayed in large lettering in the event sheet.  When enabling or disabling event groups, the name identifies the group.</p>
<p><strong>Description</strong> <em>(optional)</em><br>
An optional description summarising what the events in the group do, for your organisational purposes.  This is displayed in smaller lettering beneath the group name.</p>
<p><strong>Active on start</strong><br>
Determine whether or not the event group is enabled when the project begins.  If this is unchecked, the event group is disabled, and none of the events inside it will run until it is enabled by the <strong>Set group active</strong> <a href="#anchor-125">system action</a>.  Events which are inactive on start are displayed with a faded out font in the title.</p>
<a name="anchor-55"></a><h3>3.13.7 Event variable</h3>
<p>The <strong>Add/Edit Event Variable dialog</strong> allows you to set the name, type and initial value of a <a href="#anchor-83">global or local variable</a> in an <a href="#anchor-121">event sheet</a>.</p>
<p><img src="./manual_files/eventvardlg2.png" alt="The Add/Edit Event Variable dialog" width="324" height="280"></p>
<p>The <strong>Name</strong> identifies the event variable.  This is typed in to <a href="#anchor-78">expressions</a> to retrieve the value of the event variable.  Some names cannot be used, like the names of system expressions, since they would conflict when entering an expression.</p>
<p>The <strong>Type</strong> specifies what kind of value the variable holds.  An event variable can store either a <em>Number</em> or <em>Text</em> (also known as a <em>string</em>).  The type of an event variable does not change - you can't store text in a Number variable and vice versa.</p>
<p>The <strong>Initial value</strong> is the initial number for a <em>Number</em> variable, else the initial text for a <em>Text</em> variable.  Initial text can be empty.  The initial text entered here does <strong>not</strong> need double quotes around it.  In other words, <em>Hello</em> is a valid entry, and if you enter <em>"Hello"</em> the initial string will include the double quotes.  Note this is different to entering strings in expressions which require the double quotes.</p>
<p>The <strong>Description</strong> is an optional comment you can use to briefly describe what the variable is used for.  It is displayed next to the name in the editor to help remind you what to use the variable for.</p>
<p>The <strong>Static</strong> checkbox only applies to local variables.  By default, local variables reset their value to the initial value every tick.  However, if <em>Static</em> is checked, the local variable's value will persist permanently, like a global variable.  Static local variables differ from global variables in that they can still only be used within their scope. Global variables always hold their values permanently so the <em>Static</em> option does not apply to them.  For more information about local variables, see <a href="#anchor-83">Event Variables</a>.</p>
<p>The <strong>Constant</strong> checkbox makes a variable read-only.  You will be able to compare and retrieve the variable, but not change its value using any actions.  This is useful for referring to a number like the maximum number of lives, without having to repeat the number in your events.  If you want to change the value, there is only one place you need to change, which is a lot easier than having to hunt down the multiple places you entered a particular number in your events.  According to programming convention, the names of constants are displayed in upper case, e.g. <em>MAX_LIVES</em>.</p>
<a name="anchor-127"></a><h3>3.13.8 Export project</h3>
The <strong>Export Project</strong> dialog exports your <a href="#anchor-66">project</a> in a format ready for publishing.  See <a href="#anchor-122">Exporting and Publishing</a> for more information.<br>
<br>
<img class="article-image" src="./manual_files/exportdlg2.png" alt="Export Project dialog"><!--imgend--><br>
If you're looking for tips on ways to publish your game, see the tutorial <a href="http://www.scirra.com/tutorials/74/publishing-and-promoting-your-construct-2-game" target="_blank">Publishing and promoting your Construct 2 game ⇗</a>.<br>
<br>
If you are interested in the technical details of exported projects, see the <a href="#anchor-35">Technology</a> section.<br>
<br>
<strong>Folder for files</strong><br>
All the exported files are generated in this folder.  They can include a variety of HTML, Javascript, PNG files and more, but this varies depending on the chosen platform.  It is highly recommended to use a new, empty folder.  The default folder can be chosen in <a href="#anchor-61">Preferences</a>.<br>
<br>
<strong>Subfolder for images</strong><br>
All the project's images and animation frames will be placed in this subfolder.  Leave it empty to export images to the export folder.  For some platforms this option is disabled because no subfolders are used.<br>
<br>
<strong>Subfolder for project files</strong><br>
All the project's files (sound and music) will be placed in this subfolder.  Leave it empty to export files to the export folder.  For some platforms this option is disabled because no subfolders are used.<br>
<br>
<strong>PNG recompression</strong><br>
The exported images are in PNG format and can be recompressed losslessly to reduce their filesize even more.  However, this can slow down the export time considerably.  Use <em>None</em> to skip this - the exported files will be larger, but the export process will be quicker.  <em>Standard</em> is recommended to ensure the download size is as small as possible.  <em>Brute</em> can be used if you have an extremely large project or it's essential to save as much bandwidth as possible, but the export process can take a very long time in this mode so it is not recommended.  For more information on the recompression techniques Construct 2 uses, see this blog post on <a href="http://www.scirra.com/blog/66/image-compression-in-construct-2" target="_blank">Image compression in Construct 2 ⇗</a>.<br>
<br>
<strong>Minify script</strong><br>
The exported Javascript code can be compressed with Google's Closure Compiler to reduce the download time.  This is called <em>minification</em>.  At the same time the code is obfuscated to make it extremely difficult to reverse-engineer your project.  For this reason it is <strong>highly recommended</strong> to always minify your script on export.  Minification requires <a href="http://java.com/" target="_blank">Java ⇗</a> to be installed.  (Note that Java is a different technology to Javascript.)<a name="anchor-59"></a><h3>3.13.9 Expressions panel</h3>
<p>The <strong>Expressions Panel</strong> is a dictionary of all the <a href="#anchor-78">expressions</a> available in your project.  It is shown floating next to the <a href="#anchor-60">Parameters dialog</a>.  By default it is semitransparent so it does not distract you while entering parameters.  The Expressions Panel can be hidden or shown by pressing <strong>F4</strong>.</p>
<p><img src="./manual_files/expressionspanel.png" alt="The Expressions Panel." width="540" height="240"></p>
<p>The <strong>search box</strong> in the top right can be used to quickly filter the object list.</p>
<p><strong>Double click</strong> an object to list all its expressions.  Descriptions are also shown next to each expression to help indicate what value will be retrieved.  <strong>Double click</strong> one of the listed expressions to insert it to the current expression in the Parameters dialog.  Press <strong>Escape</strong> or click the <strong>Back</strong> button to return to the object list.</p>
<p>Behavior expressions are also shown for objects with <a href="#anchor-72">behaviors</a>.  The System page also lists all <a href="#anchor-126">system expressions</a>, global variables and local variables which are in scope (see <a href="#anchor-83">Event Variables</a>).</p>
<a name="anchor-129"></a><h3>3.13.10 Image format</h3>
<p>The <strong>Image Format dialog</strong> is opened in the <a href="#anchor-48">Image/Animations editor</a> to set the file format for an image when the project is exported.</p>
<p><img src="./manual_files/imageformatdlg.png" alt="The Image Format dialog." width="244" height="238"></p>
<p>Images in the project are always saved in <strong>PNG-32</strong> format.  This is the only format that exactly preserves an image with an alpha channel.  The settings here are only used when the project is <a href="#anchor-122">exported</a>.  They are mainly used to reduce the image file sizes so the game download is smaller.</p>
<p>Images in either PNG format are also recompressed on export to further reduce the filesize without affecting the image quality.  For more information on the recompression techniques Construct 2 uses on export, see this blog post on <a href="https://www.scirra.com/blog/66/image-compression-in-construct-2" target="_blank">Image compression in Construct 2 ⇗</a>.</p>
<p>The Image Format dialog has the following options:</p>
<p><strong>Format</strong><br>
The format of the image when exported.  In brief, the formats are as follows:<br>
<em>PNG-32</em> (default) can store true color images losslessly (perfectly, without any quality loss) with full alpha channel transparency.  However, it usually also produces the largest file.<br>
<em>PNG-8</em> is a 256-color version of PNG.  It supports alpha channel transparency, but within the 256 colors only.  Retro or low-color images should look exactly the same in PNG-8.  Images with more than 256 colors have to be reduced to only 256 colors which can degrade the image quality.  However, Construct 2 uses an advanced dithering algorithm (<a href="http://pngnq.sourceforge.net/" target="_blank">PNGNQ ⇗</a>) to achieve this color reduction.  This means many images still look almost identical.  PNG-8 files are also often much smaller than PNG-32 files, so using PNG-8 is a useful way to reduce the download size of the game.<br>
<em>JPEG</em> is an image format designed for photographic or highly detailed images.  It does <strong>not</strong> support transparency at all, so it is not suitable for images which have any transparent areas or alpha channels (they will appear as if on a black background).  However, JPEG can achieve the smallest files of all, depending on the quality setting.  This is generally best for minimising the size of large background images.</p>
<p>For more information on these formats see the Wikipedia articles on <a href="http://en.wikipedia.org/wiki/Portable_Network_Graphics" target="_blank">PNG ⇗</a> and <a href="http://en.wikipedia.org/wiki/JPEG" target="_blank">JPEG ⇗</a>.</p>
<p><strong>Quality</strong><br>
The quality setting when using the <em>JPEG</em> format.  JPEG quality ranges from 0 (worst quality, smallest file) to 100 (best quality, largest file).  Quality settings above 85 are often difficult to distinguish from the original.  75 is recommended as a compromise between quality and reducing the file size as much as possible.</p>
<p><strong>Apply this setting to</strong><br>
Allows you to set the same image format for many images at once.<br>
<em>This frame</em> or <em>This image</em> applies the image format only to the currently viewed image or animation frame.<br>
<em>This animation</em> (Sprite only) applies the image format to all the frames in the current animation.<br>
<em>All animations</em> (Sprite only) applies the image format to the entire object - all its frames in all its animations.<br>
<em>Entire project</em> applies the image format to every single image in the entire project.  Use this with care, since it overwrites every single other object's image format settings, and cannot be undone.</p>
<a name="anchor-52"></a><h3>3.13.11 Import audio</h3>
The <strong>Import Audio dialog</strong> allows audio files to be added to the project from disk.  It is accessed by selecting <strong>Import Sounds</strong> or <strong>Import Music</strong> from the right-click menu of the <em>Sounds</em> or <em>Music</em> folders in the <a href="#anchor-39">Project Bar</a>.  Be sure to add the <a href="#anchor-109">Audio object</a> to your project to play back sounds and music.<p></p>
<p><img width="510" height="426" class="article-image" src="./manual_files/importaudio.png" alt="Import Audio dialog"><!--imgend--><br>
Before the dialog appears, you will be prompted to select some audio files from disk.  You can select more than one file.  The files are listed in the Import Audio dialog before importing, with tips about whether the format is supported or not.  You can also click <strong>Add more files...</strong> on this screen to add some more files to the list.</p>
<p>Click <strong>Import</strong> to begin importing the listed files to the project.  This may take a while with long audio recordings (e.g. music tracks); a progress bar may appear during the processing.  Only files which are in a supported format are imported.  Once importing has finished, the list will show the results of which files were successfully imported.  Click <strong>Done</strong> to close the dialog. Note that importing audio with the same name as audio files in the project will cause those files to be replaced.</p>
<p>It is highly recommended to import <strong>PCM .wav files</strong>, since they are commonly supported and Construct 2 can encode them to both Ogg Vorbis and MPEG-4 AAC (only on Windows 7+).</p>
<a name="h2a0"></a><h3 id="h2ix0">Two audio formats are required</h3>
<p>Browser makers have not been able to agree on a common audio format for the web.  Internet Explorer and Safari use the proprietary <strong>MPEG-4 AAC</strong> (.m4a) format, and all other browsers (Firefox, Chrome and Opera) support the free <strong>Ogg Vorbis</strong> format.</p>
<p>For audio playback in all browsers, your audio must therefore be in <em>both</em> formats.  Construct 2 helps you by encoding any uncompressed audio you import to both <strong>.m4a</strong> and <strong>.ogg</strong> for you automatically.  However due to licensing restrictions around the proprietary MPEG-4 AAC format, Construct 2 will only encode .m4a files on Windows 7 and newer.  Users on Windows XP and Vista must encode .m4a files on their own.  The file extension must be .m4a.  Free encoders are available; try searching the web for an AAC encoder.</p>
<p>The Ogg Vorbis format can be encoded on any system.</p>
<p>Construct 2 favours the <strong>Ogg Vorbis</strong> format.  When choosing a sound in the event system, only <strong>.ogg</strong> files are listed.  A .m4a file is considered a back-up to the .ogg file for browsers which do not support Ogg Vorbis.  This also means if you import a .m4a file with no corresponding .ogg file, it will not be listed in the event system.  This is by design.</p>
<p>Construct 2 will not trans-code .m4a files to .ogg nor .ogg files to .m4a; it is recommended to import <strong>PCM .wav files</strong> which Construct 2 can encode itself.  Trans-coding also degrades the quality to worse than if uncompressed audio was encoded once.</p>
<a name="h2a1"></a><h3 id="h2ix1">Categorise audio files correctly</h3>
<p>It is important to organise audio files appropriately, because audio files in the <strong>Sounds</strong> project folder are downloaded completely before playing, but files in the <strong>Music</strong> folder are streamed.  This means if a Music track is accidentally put in the Sounds folder, it would have to download completely (which could take a couple of minutes) before it started playing.  However, audio in the Music folder can start playing immediately since it is streamed from the server.</p>
<a name="h2a2"></a><h3 id="h2ix2">Supported audio formats</h3>
<p>There are many audio formats and many of them have different levels of support.  Also, many formats have sub-formats, and not all sub-formats are always supported.  This makes describing the audio support complicated.  A best effort is made below to summarise the supported audio formats but this is not guaranteed to give you results.  Instead, it is highly recommended you only import <strong>PCM .wav files</strong>, which are widely supported and can be encoded to both .m4a and .ogg by Construct 2.  Note there are different types of .wav file other than PCM: Construct 2 will try to display the type of .wav file in the Import Audio dialog (in the picture above, PCM files were used), but types other than PCM may not import.  Any good audio codec software will be able to convert to PCM .wav.  Try to avoid using "lossy" formats before importing to Construct 2, else the quality will be further degraded when Construct 2 encodes the lossy .ogg and .m4a files.</p>
<p>The following formats are listed by their file extension, and whether Construct 2 can encode them to Ogg Vorbis (.ogg) and MPEG-4 AAC (.m4a).</p>
<p><strong>.wav</strong> (PCM or PCM float format): Both<br>
<strong>.flac</strong> (FLAC): Both<br>
<strong>.ogg</strong> (Ogg Vorbis): Imported but not converted to .m4a<br>
<strong>.m4a</strong> (MPEG-4 AAC): Imported but not converted to .ogg<br>
<strong>.aif</strong>, <strong>.aiff</strong>, <strong>.aifc</strong> (AIFF): .ogg only<br>
<strong>.aac</strong> (MPEG-4 AAC): .m4a only<br>
<strong>.mp3</strong> (MPEG-1 layer 3): .m4a only<br>
<strong>.wma</strong> (Windows Media Audio): .m4a only</p>
<a name="h2a3"></a><h3 id="h2ix3">MIME types</h3>
<p>When publishing a HTML5 game to your own server, you must <a href="#anchor-168">set up the correct MIME types</a>. If the server sends the wrong MIME types, audio may not play in some browsers.<a name="anchor-63"></a></p>
<h3>3.13.12 Image points</h3>
<p>The <strong>Image Points dialog</strong> allows you to set the object origin (the point of rotation) and image points (arbitrary points that can be accessed by events) on an image.  It is accessed via the <a href="#anchor-48">Image and Animations editor</a>.</p>
<p>The <strong>Origin</strong> is a special kind of image point defining the center of the object, or its point of rotation.  It has a different icon, colored red.  The term <em>image point</em> usually means "image points including the origin".  Image points have a <strong>zero based index</strong>, and the first image point (number 0) is always the origin.  The origin cannot be renamed.</p>
<p><strong>Image points</strong> are useful to create spawn points for other objects.  Since you can create objects at image points in events, it is often useful to place an image point in places like the end of the player's gun in the image.  Image points can also be given a name, and referred to in events by this name.</p>
<p><img src="./manual_files/imagepointsdlg_2.png" alt="The Image Points dialog" width="207" height="219"></p>
<p>Below, an image point is placed at the end of the player graphic's gun.  Notice the indicator there.</p>
<p><img src="./manual_files/imagepointexample.png" alt="Placing an image point" width="493" height="407"></p>
<p><strong>Select an image point in the list</strong> and a corresponding point should appear on the image.  <strong>Left click</strong> to place the point under the mouse.  The <strong>arrow keys</strong> can also nudge it 1 pixel in each direction.</p>
<p>An image point can be quickly placed using the <strong>num pad</strong>, e.g. <strong>1</strong> for the top-left corner or <strong>5</strong> for centered.  Alternatively the image point can be <strong>right clicked</strong> in the Image Points dialog and an option chosen from the <strong>quick assign</strong> menu.</p>
<p><strong>Right clicking</strong> an image point in the Image Points dialog also provides an <strong>Apply to whole animation</strong> option.  This sets the image point in the same relative place in all frames in an animation.  If an image point does not exist in all frames in the animation, this option also creates it.  <strong>Holding shift</strong> while placing the image point is a shortcut for this.</p>
<a name="anchor-53"></a><h3>3.13.13 Import sprite strip</h3>
<p>This dialog allows you to import an image containing an entire animation in a grid.  It is accessed via the <a href="#anchor-48">Animation Frames bar</a>.  After choosing the <strong>Import sprite strip...</strong> option, a dialog appears to select the image file.  After a file has been chosen, this dialog appears to tell Construct 2 how many animation frames are in the image.</p>
<p><img src="./manual_files/importspritestrip_2.png" alt="Import Sprite Strip dialog" width="285" height="176"></p>
<p>For example, the following image has 7 horizontal cells and since they are all on one row, only 1 vertical cell:</p>
<p><img src="./manual_files/gun_blast_blue.png" alt="7 x 1 cells" width="512" height="64"></p>
<p>The following image is in a grid, so has 4 horizontal cells and 4 vertical cells:</p>
<p><img src="./manual_files/projectile_glow_orange.png" alt="4 x 4 cells" width="128" height="128"></p>
<p>In both cases Construct 2 will separate each cell in the image to a different animation frame.</p>
<a name="anchor-54"></a><h3>3.13.14 Insert new object</h3>
The <strong>Insert New Object dialog</strong> typically appears after <strong>double clicking</strong> a space in a <a href="#anchor-43">Layout View</a>.  It allows you to choose the kind of object to insert (each kind is known as a <a href="#anchor-69">plugin</a>).  Inserting a new object creates a new <a href="#anchor-70">object type</a>.  See <a href="#anchor-32">Project Structure</a> for a description of the difference between object types and instances.  Also see the <a href="#anchor-106">Plugin Reference</a> section of the manual for documentation on each plugin.<br>
<br>
<img class="article-image" src="./manual_files/insertobjectdlg.png" alt="The Insert New Object dialog."><!--imgend--><br>
Plugins are categorised in to related groups.  Within each group they are arranged alphabetically.  Selecting an item will display a brief description summarising what the plugin does in the <strong>Description</strong> field at the bottom of the dialog.  Typing in the <strong>search box</strong> in the top right can quickly filter down the list to help you find what you are looking for.<br>
<br>
The <strong>Name when inserted</strong> indicates what the name of the object type in the project will be after you insert it.  By default this will be a numbered version of the plugin name e.g. <em>Sprite2</em>, <em>Sprite3</em> etc.  It is a good idea to give objects descriptive names so you don't get confused when working on your project.  You can enter a descriptive name in this field which the object will use when inserted, but if you don't you can still easily rename objects via the <a href="#anchor-40">Properties Bar</a> or <a href="#anchor-39">Project Bar</a>.<br>
<br>
<strong>Double click</strong> an item to insert it.  If the object can be placed in a layout and a Layout View is open, the <strong>cursor turns to a crosshair</strong> for you to place the first <strong>instance</strong> of that object.  For objects with images or animations (like Sprite), after you have placed this instance the <a href="#anchor-48">Image/Animations editor</a> will appear to design the image or animations for the object.<br>
<br>
Other kinds of object (like the Keyboard and Audio object) do not need placing in a layout.  After inserting one of these objects, the dialog closes but there is no need to place it anywhere.  Instead, a notification bar appears indicating that they are available to the entire project.  This type of object can only be inserted once, and will disappear from the list if the dialog is brought up again.<a name="anchor-62"></a><h3>3.13.15 Instance variable</h3>
<p>The <strong>Add/Edit Instance Variable dialog</strong> allows you to set the name, type and initial value for an <a href="#anchor-73">instance variable</a> in an <a href="#anchor-70">object type</a>.  It can be opened from the <a href="#anchor-56">Object Instance Variables</a> dialog.</p>
<p><img src="./manual_files/instancevardlg.png" alt="Instance Variables dialog" width="325" height="241"></p>
<p>The <strong>Name</strong> identifies the instance variable.  This is typed in to <a href="#anchor-78">expressions</a> after the object name (e.g. <em>Sprite.MyVariable</em>) to retrieve the value of the instance variable.  Some names cannot be used if they conflict with the names of the object's other expressions or behaviors.</p>
<p>The <strong>Type</strong> specifies what kind of value the variable holds. An instance variable can store a <em>Number</em>, <em>Text</em> (also known as a <em>string</em>) or a <em>Boolean</em> (a simple on or off value, sometimes also known as a <em>flag</em>). The type of an instance variable does not change - for example, you can't store text in a <em>Number</em> variable.</p>
<p>The <strong>Initial value</strong> is the initial number for a <em>Number</em> variable, the initial text for a Text variable, or <em>true</em> or <em>false</em> for a Boolean. Initial text can be empty. The initial text entered here does not need double quotes around it. In other words, <em>Hello</em> is a valid entry, and if you enter <em>"Hello"</em> the initial string will include the double quotes. Note this is different to entering strings in expressions which require the double quotes.</p>
<p>The <strong>Description</strong> is an optional comment you can use to briefly describe what the variable is used for. It is displayed next to the name in the editor to help remind you what to use the variable for.  It is also displayed in the <a href="#anchor-40">Properties Bar</a> description panel when the instance variable's property is selected.</p>
<a name="anchor-58"></a><h3>3.13.16 New project</h3>
<p><strong>Note:</strong> Recent versions of Construct 2 have replaced this dialog with the <a href="#anchor-148">Start dialog</a>.</p>
<p>The <strong>New Project dialog</strong> appears when creating a new <a href="#anchor-66">project</a>.  It allows you to choose between the different <a href="#anchor-33">project types</a>.</p>
<p><img src="./manual_files/newprojectdlg.png" alt="New Project dialog" width="627" height="287"></p>
<p>Choose between a single-file project or folder project.  See <a href="#anchor-33">project types</a> for more information.</p>
<p>A single-file project can be created immediately, but a folder project requires the project folder to be created before starting.  Single-file projects are generally more convenient for small projects, and folder-based projects more convenient for large projects.  The type can be changed at any time by choosing <strong>Save as project</strong> or <strong>Save as single file</strong> in the <a href="#anchor-37">File menu</a>.</p>
<a name="anchor-56"></a><h3>3.13.17 Object instance variables</h3>
<p>The <strong>Object Instance Variables dialog</strong> lists all the <a href="#anchor-73">instance variables</a> an <a href="#anchor-70">object type</a> has.  It can be opened from the <a href="#anchor-40">Properties Bar</a> while the object's properties are showing, or from right-clicking the object in the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a> and selecting <strong>Instance variables...</strong>.</p>
<p><img src="./manual_files/instvarsdlg.png" alt="Object instance variables dialog." width="332" height="155"></p>
<p>Instance variables can be added with the toolbar at the top or by right-clicking and selecting <strong>Add instance variable</strong>.  This opens the <a href="#anchor-62">Add Instance Variable dialog</a>.  The toolbar and right-click menu also allow you to rename (F2) or delete (Del) instance variables.  <strong>Double click</strong> an instance variable in the list to edit it.</p>
<p>Instance variables can be reordered by using the Up and Down buttons on the toolbar, or by <strong>dragging and dropping</strong> them.  The order of instance variables is just for organisation - it does not affect how they actually work.</p>
<p>If all instances of the object type have the same initial value for an instance variable, it is displayed in the <strong>Initial value</strong> column.  However, different instances can have different initial values set via the Properties Bar.  If there are different initial values across the instances, the <strong>Initial value</strong> column will display <em>&lt;varies&gt;</em>.  Editing an instance variable with varying values and changing the initial value from the Edit Instance Variable dialog will set a new initial value for <em>all</em> the instances, overwriting the previous value for all of them.</p>
<a name="anchor-57"></a><h3>3.13.18 Object behaviors</h3>
<p>The <strong>Object Behaviors dialog</strong> lists all the <a href="#anchor-72">behaviors</a> an <a href="#anchor-70">object type</a> has.  It can be opened from the <a href="#anchor-40">Properties Bar</a> while the object's properties are showing, or from right-clicking the object in the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a> and selecting <strong>Behaviors...</strong>.  For documentation on individual behaviors, see the <a href="#anchor-86">Behavior Reference</a> section of the manual.</p>
<p><img src="./manual_files/behaviorsdlg.png" alt="Behaviors dialog" width="305" height="232"></p>
<p>Behaviors can be added with the toolbar at the top or by right-clicking and selecting <strong>Add behavior</strong>.  This opens the <a href="#anchor-49">Add Behavior dialog</a>.  The toolbar and right-click menu also allow you to rename (F2) or delete (Del) behaviors.  The behavior is referred to in the event system by its name.</p>
<p>Behaviors can be reordered by using the Up and Down buttons on the toolbar, or by <strong>dragging and dropping</strong> them.  The order of behaviors is just for organisation - it does not affect how they actually work.</p>
<a name="anchor-60"></a><h3>3.13.19 Parameters</h3>
<p>The <strong>Parameters dialog</strong> appears after the <a href="#anchor-51">Add condition or action dialog</a>, or when editing a <a href="#anchor-76">condition</a> or <a href="#anchor-77">action</a>.  It allows you to enter <em>parameters</em> such as the X and Y co-ordinate for the Sprite object's <em>Set Position</em> action (shown below).  It does not appear for conditions or actions which do not use any parameters, such as the <em>Destroy</em> action.  <a href="#anchor-78">Expressions</a> can be entered for parameters, which can be anything from a simple value to a sophisticated mathematical calculation.</p>
<p>The <a href="#anchor-59">Expressions panel</a> appears next to the Parameters dialog providing a list of all the expressions you can enter.  By default the Expressions panel is faded out unless you hover the mouse over it.  It can also be hidden or shown by pressing <strong>F4</strong>.</p>
<p><img src="./manual_files/parametersdlg.png" alt="The Parameters dialog" width="447" height="220"></p>
<p>Use the <a href="#anchor-59">Expressions panel</a> to locate system expressions, object expressions, behavior expressions, global and local variables and instance variables.  Alternatively you can use <strong>autocomplete</strong>: just start typing, and a list of all the options appears. Additionally if you type as far as the dot in an object expression (e.g. <em>Sprite.</em>) a list of all the object's expressions appears, shown below. This also appears after the dot when entering a behavior expression (e.g. <em>Sprite.8Direction.</em>). Use the <strong>Up</strong> and <strong>Down</strong> arrows to pick an item in the suggestions list, and <strong>press Enter</strong> to insert it. This can help you enter expressions much more quickly.</p>
<p><img src="./manual_files/parametersautocomplete.png" alt="Parameters autocomplete" width="450" height="228"></p>
<p>Some expressions also show tips to help you remember how to use the expression, shown below.  This appears when you type the open bracket <strong>(</strong> for the expression.  This is most useful for System expressions which tend to have multiple parameters.</p>
<p><img src="./manual_files/parametertips.png" alt="Parameter tips" width="447" height="190"></p>
<p>Press <strong>Tab</strong> to move to the next parameter or <strong>Shift + Tab</strong> to move to the previous.  <strong>Enter</strong> is also a shortcut to press <strong>Done</strong> (you may have to press Enter twice if autocomplete is showing: once to choose the autocomplete entry, and again to close the dialog).</p>
<a name="anchor-61"></a><h3>3.13.20 Preferences</h3>
The <strong>Preferences dialog</strong> contains settings for the Construct 2 editor.  It can be opened from the <a href="#anchor-37">File menu</a>.  Settings are organised in to five tabs: <em>General</em>, <em>HTML5 exporter</em>, <em>Backup</em>, <em>Misc</em> and <em>Colors</em>.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">General</h3>
<p>This section contains general settings for the Construct 2 editor.</p>
<p><img width="455" height="396" class="article-image" src="./manual_files/preferences1.png" alt="General"><!--imgend--><br>
<strong>Resize handle size</strong><br>
Change the size of the resize handles in the <a href="#anchor-43">Layout View</a>.  The default is <em>Small</em>.</p>
<p><strong>Event sheet font</strong><br>
Change font used in the <a href="#anchor-44">Event Sheet View</a>.  The default is <em>Segoe UI, 9pt</em>.</p>
<p><strong>Show start page on startup</strong><br>
If checked, the <a href="#anchor-11">Start Page</a> appears when starting the Construct 2 editor.  If disabled a blank screen is shown on startup instead.</p>
<p><strong>Close the start page when I click on something</strong><br>
If checked, the Start Page will close as soon as you click on one of the links (e.g. a recent project).  Otherwise, the Start Page's tab is left open.</p>
<p><strong>Update checking</strong><br>
Choose one of:<br>
<em>Don't for updates</em>: Construct 2 will not access the Internet to check for new versions.  This is not recommended, since new versions often contain significant improvements.<br>
<em>Check for beta updates</em>: Check online for new testing releases from Scirra.<br>
<em>Check for updates</em>: Check online for new releases from Scirra which have already been tested by people checking for beta updates.</p>
<p><strong>Reset dialogs</strong><br>
Click this button to reset all dialogs and bars in the user interface to their default position and size.  A prompt will appear to confirm this, then you must restart Construct 2 for the change to take effect.  This is useful if you want to get the default UI back.  Also, if for any reason dialogs appear glitchy or no longer appear when you try to open them, resetting them with this option can bring them back.</p>
<a name="h2a1"></a><h3 id="h2ix1">HTML5 exporter</h3>
<p>This section contains settings for Construct 2's HTML5 exporter, as well as the local server used for previewing.</p>
<p><img width="455" height="396" class="article-image" src="./manual_files/preferences2.png" alt="HTML5 exporter"><!--imgend--><br>
<strong>Default preview browser</strong><br>
Choose the <em>Preview browser</em> setting for new <a href="#anchor-66">projects</a>.  This does not affect any existing projects.</p>
<p><strong>Custom browser</strong><br>
Choose any executable file on disk to be launched for previewing when the <em>Preview browser</em> is set to <em>Custom</em>.  For example, you may want to install a pre-release (beta) browser alongside the stable release, and have the option to also preview in the pre-release browser.  Alternatively, Construct 2 sometimes cannot detect the traditional browsers even when they are installed, so you can manually specify a browser here.</p>
<p><strong>Default export folder</strong><br>
Choose the default folder for exporting to in the <a href="#anchor-127">Export Project dialog</a>.  In this path <strong>&lt;project name&gt;</strong> is replaced with the name of the project, or the name of the project is appended to the path if it is not present.  The default is to your desktop.</p>
<p><strong>HTTP server port</strong><br>
The port to use when previewing.  By default this is <strong>50000</strong>.  You should not change this unless you know there is something else using port 50000 on your computer.  Construct 2 will also try the next 100 ports if the chosen one is in use.  You must restart Construct 2 before any changes to the port take effect.</p>
<p><strong>Preview on LAN address</strong><br>
Enter the IP address of your computer on your local area network (LAN) to enable sharing preview with any device on your LAN.  Click the button to the right to see a list of possible IP addresses for your computer.  To use this feature, you must also allow the <strong>HTTP server port</strong> inbound through your firewall, and Construct 2 must be running with administrator permissions.  Alternatively, entering <em>localhost</em> only previews on your computer, and does not require administrator permission.  More information on how to set up and use this feature is in the tutorial <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">How to preview on a local network ⇗</a>.</p>
<a name="h2a2"></a><h3 id="h2ix2">Autosave</h3>
<p>This section contains settings for making autosaves.</p>
<p><img width="455" height="396" class="article-image" src="./manual_files/preferences3.png" alt="Autosave"><!--imgend--><br>
<strong>Enable autosave</strong><br>
If enabled, Construct 2 will automatically save the project to a <em>.capx.autosave</em> file in the same folder on a regular interval (as determined by <em>Autosave frequency</em>). In the event of a crash, power failure, or even just accidentally closing and not saving, the project can be recovered from the last autosave by renaming the file with the <em>.capx.autosave</em> extension to just <em>.capx</em> and opening it again. This should minimise the amount of work lost. It is strongly recommended to keep backups to separate backup folders using the <em>Backup</em> tab in addition to this, since disasters such as fire or disk failure could still result in lost work if the entire storage media becomes unusable.</p>
<p><strong>Autosave frequency</strong><br>
How often to make autosaves, if autosaving is enabled. Note that autosaves cannot be made in some circumstances, such as when modal dialog boxes are showing. If an autosave is due in such circumstances, the autosave will be made as soon as possible afterwards. The autosave frequency is a trade-off between possibly being irritating if made very frequently with a large project (since autosaves could take a while to complete), versus losing a lot of work if autosaves are made very infrequently and there is a crash or power failure. You can also set autosaves to happen after preview, so once the browser has loaded the preview for testing then Construct 2 will make an autosave in the background, which could be a less intrusive option.</p>
<a name="h2a3"></a><h3 id="h2ix3">Backup</h3>
<p>This section contains settings to help you set up automatic backup for your work.  This is essential to ensure your work is safe even in the event of catastrophes like hardware failure, theft, fire or floods.  For more information, see the tutorial <a href="http://www.scirra.com/tutorials/269/keep-your-work-safe-with-construct-2s-backup-options" target="_blank">Keep your work safe with Construct 2's backup options ⇗</a>.</p>
<p><img width="455" height="396" class="article-image" src="./manual_files/preferences4_2.png" alt="Backup"><!--imgend--><br>
<strong>Auto-backup</strong><br>
Save single-file (.capx) backups in the same folder as your project whenever pressing 'Save'.  These have the file extension <em>.capx.backupN</em>.  For example, if 3 auto-backups are enabled, <em>myfile.capx.backup1</em> is the last save, <em>myfile.capx.backup2</em> is two saves ago, and <em>myfile.capx.backup3</em> is three saves ago.  By default Construct 2 keeps one auto-backup file, allowing you to recover your project in the event software or hardware failure causes your main project to become corrupt.  However, in many scenarios you can lose your auto-backups at the same time as your main project; for this reason, it is <strong>highly</strong> recommended to also set up a scheduled backup to an off-site location.</p>
<p><strong>Backup folders (scheduled backup)</strong><br>
To ensure your work is always safe, it's vital to also back up your project to off-site locations, or at least on a different computer or hard disk.  (Backing up to a <a href="http://db.tt/TQqScn9k" target="_blank">Dropbox ⇗</a> folder is specifically recommended as a free and straightforward off-site backup.)  To help you do this, Construct 2 can save your project to different folders at regular intervals.  You can choose up to three backup folders and the time interval that backups should be made.  Files are saved as single-file (.capx) projects with some random text appended to prevent two identically named files in different folders overwriting each other's backups (e.g. <em>myfile-abc123.capx</em> and <em>myfile-def456.capx</em>).  <strong>Note:</strong> backups are only made when pressing the 'Save' button.  Simply opening a project that somebody has sent you will not make a backup for it unless you modify it and click 'Save'.</p>
<a name="h2a4"></a><h3 id="h2ix4">Misc</h3>
<p>This section has miscellaneous settings.</p>
<p><img width="455" height="396" class="article-image" src="./manual_files/miscpreferences.png" alt="Misc preferences"><!--imgend--><br>
<strong>Help links</strong><br>
Construct 2 comes with an offline manual, which you can use if your computer has no internet connection or has temporarily lost connectivity.  However, the online manual's content is likely to be more up to date, so it is recommended to use the online manual where possible.  Note not all help links are included in the offline manual, such as some tutorials or other online resources; these will be opened online regardless of the setting here.  The options in this tab are as follows:</p>
<p><em>Auto-detect</em> - automatically open the online manual if Construct 2 detects there is an internet connection; otherwise open the offline manual.  This is the recommended option since you will see the most up-to-date content in the online manual, but automatically fall back to offline content if your connection is lost.  Note this option is only available on Windows Vista and newer.<br>
<em>Always use offline manual</em> - help links will always launch offline content, if the content is in the offline manual.<br>
<em>Always use online manual</em> - help links will always launch online content, regardless of whether an internet connection is present.</p>
<p><strong>External image editor</strong><br>
Choose the path to another image editing tool to launch when selecting the <em>Open in external editor</em> option in the <a href="#anchor-48">Image Editor</a>.</p>
<p><strong>Cache icons in editor</strong><br>
For very large projects, the icon cache may cause Windows to run out of memory. Turning off this option may allow the editor to continue to work in this case, at the cost of reduced editor performance.</p>
<a name="h2a5"></a><h3 id="h2ix5">Colors</h3>
<p>This section allows you to customise the color theme used in the Event Sheet View and Layout View.</p>
<p><img width="455" height="396" class="article-image" src="./manual_files/preferences6.png" alt="Colors"><!--imgend--><br>
You can choose an existing theme by selecting one from the <strong>Choose theme</strong> dropdown and clicking <strong>Load selected theme</strong>. Note this loses your current settings, so you may want to save them first. The themes listed in the dropdown are "Default" plus any theme XML files in the install directory <em>themes</em> subfolder. To add a new entry, use the <em>Save as new theme</em> option.</p>
<p>Click <strong>Edit colors</strong> to bring up a dialog where you can change all the current colors used throughout the editor. This does not modify the selected theme - only the colors that you are using right now. After making changes, you will need to reopen any editor tabs that are currently open for all the changes to take effect.</p>
<p>Click <strong>Save as new theme</strong> to save the current colors chosen with <em>Edit colors</em> to a theme XML file. If this is placed in the install directory <em>themes</em> subfolder, the theme will subsequently appear in the <em>Choose theme</em> dropdown for easy access in future.<a name="anchor-148"></a></p>
<h3>3.13.21 Start dialog</h3>
<p>The <strong>Start dialog</strong> appears when creating a new project.  It allows you to choose a template to start working from, or an example or demo game to learn from.</p>
<p><img src="./manual_files/startdlg.png" alt="The Start dialog." width="495" height="359"></p>
<p>The list of templates, examples and demos can be searched with the box in the top right.  Templates can offer a convenient starting point for projects aimed at certain platforms, with useful settings and objects already set up.</p>
<p>When you create a new project, it is always set up as a single file (.capx) project.  To save as a folder-based project, which is more suitable for large projects or collaboration, use the <a href="#anchor-37">File menu</a> <em>Save as project</em> option.  For more information, see <a href="#anchor-33">Saving and sharing projects</a>.</p>
<a name="anchor-64"></a><h2>3.14 Keyboard Shortcuts</h2>
<p><a name="h2a0"></a></p>
<h3 id="h2ix0">General</h3>
<p><strong>Ctrl + X</strong> Cut<br>
<strong>Ctrl + C</strong> Copy<br>
<strong>Ctrl + V</strong> Paste<br>
<strong>Ctrl + Drag with mouse left button</strong> Duplicate</p>
<p><strong>Ctrl + Z</strong> Undo<br>
<strong>Ctrl + Y</strong> Redo</p>
<p><strong>Ctrl + A</strong> Select all</p>
<p><strong>Ctrl + N</strong> New project<br>
<strong>Ctrl + O</strong> Open project<br>
<strong>Ctrl + S</strong> Save project</p>
<p><strong>Alt + F4</strong> Close Construct 2</p>
<p>You can also press <strong>Alt</strong> to navigate the <a href="#anchor-38">ribbon</a>.  When you press it, some tooltips should appear indicating the keys to press for each option.</p>
<p><strong>F4</strong> Preview project from first layout<br>
<strong>Ctrl + F4</strong> <a href="#anchor-169">Debug</a> from first layout<br>
<strong>F5</strong> Preview current layout (hold shift for <a href="http://www.scirra.com/tutorials/529/how-to-use-continuous-preview" target="_blank">continuous preview ⇗</a>)<br>
<strong>Ctrl + F5</strong> <a href="#anchor-169">Debug</a> current layout<br>
<strong>F6</strong> Export project</p>
<p><strong>Ctrl + Mouse Wheel Up</strong> or <strong>Num pad +</strong> Zoom in<br>
<strong>Ctrl + Mouse Wheel Down</strong> or <strong>Num pad -</strong> Zoom out<br>
Add shift to adjust the zoom distance.</p>
<p><strong>Ctrl + 0</strong> Return to 100% zoom</p>
<p><strong>Middle mouse button drag</strong> or <strong>Hold space and move mouse</strong> Pan the view</p>
<p><strong>Delete</strong> Delete selected item(s)<br>
<strong>F2</strong> Rename selected item</p>
<p><strong>Ctrl + click</strong> Add or remove clicked item from selection<br>
<strong>Shift + click</strong> As with Ctrl, but in Event Sheet View this selects everything in between the last selected item and the clicked item.</p>
<p><strong>Escape</strong> Cancel drag or placement or event search</p>
<p><strong>Ctrl + Tab</strong> Go to next tab to right<br>
<strong>Ctrl + Shift + Tab</strong> Go to next tab to left</p>
<a name="h2a1"></a><h3 id="h2ix1">Layout view</h3>
<p>See also: <a href="#anchor-43">Layout View</a></p>
<p><strong>Ctrl + E</strong> or <strong>Shift + Tab</strong> Go to associated event sheet</p>
<p><strong>Arrow keys</strong> Nudge selected objects 1 pixel - hold shift to nudge 10 pixels</p>
<p><strong>Hold shift</strong> while resizing objects for proportional resize<br>
<strong>Hold shift</strong> while rotating objects to lock to 5 degree increments<br>
<strong>Hold shift</strong> while dragging objects for axis-lock (move along diagonals only)<br>
<strong>Hold tab</strong> and <strong>click a selected object</strong> to select the next object underneath in the Z order<br>
<strong>Hold alt while moving selection</strong> to temporarily disable grid snapping while held<br>
<strong>Hold control while resizing selection</strong> to resize relative to the center of the object</p>
<p><strong>Ctrl + D</strong> Unselect all<br>
<strong>Ctrl + Shift + Up</strong> Send to front of layer<br>
<strong>Ctrl + Shift + Down</strong> Send to back of layer</p>
<p><strong>C</strong> Center horizontally in window<br>
<strong>T</strong> Align to top of window</p>
<p><strong>Enter</strong> Wrap selection (to rotate or stretch the selection as a whole)<br>
<strong>W</strong> Select container and wrap. For example, select one object in a container of eight objects, press W, then all eight objects are selected and wrapped.</p>
<p>To paste objects in-place (so they paste at their original positions, instead of relative to the mouse), <strong>hold Shift</strong> while placing a paste. The full process is: Ctrl + C to copy an object; press Ctrl + V to turn the mouse to a crosshair, hold Shift and click, all objects paste at their original positions (instead of by the mouse) and the mouse returns to a normal cursor.</p>
<p>When editing tilemaps using the <a href="#anchor-171">Tilemap Bar</a>:<br>
<strong>1</strong> Set normal layout selection<br>
<strong>2</strong> Set pencil tile tool<br>
<strong>3</strong> Set rectangle tile tool<br>
<strong>4</strong> Set erase tile tool<br>
<strong>X</strong> Flip horizontal<br>
<strong>Y</strong> Flip vertical<br>
<strong>Z</strong> Rotate 90 degrees clockwise</p>
<p><strong>Shift + right click</strong> Select a patch of tiles from the tilemap</p>
<a name="h2a2"></a><h3 id="h2ix2">Event Sheet View</h3>
<p>See also: <a href="#anchor-44">Event Sheet View</a></p>
<p><strong>Ctrl + L</strong> or <strong>Shift + Tab</strong> Go to associated layout (if any - event sheets only used via includes have no associated layout)</p>
<p><strong>Ctrl + F</strong> Open 'Events' ribbon tab and focus the event search field</p>
<p><strong>Ctrl + Home</strong> Go to top of sheet<br>
<strong>Ctrl + End</strong> Go to bottom of sheet</p>
<p><strong>Ctrl + F2</strong> Toggle bookmark at selected event<br>
<strong>F2</strong> Go to next bookmark in project<br>
<strong>Shift + F2</strong> Go to previous bookmark in project</p>
<p><strong>F3</strong> Toggle <a href="#anchor-170">breakpoint</a><br>
<strong>F8</strong> Copy a screenshot of the selected events, conditions or actions to the clipboard</p>
<p>In the new condition/action dialog or parameters dialog:<br>
<strong>Alt + Left</strong> Back/Cancel<br>
<strong>Alt + Right</strong> Next/Done</p>
<p><strong>Up arrow key</strong> and <strong>Down arrow key</strong> Move the selection up and down the event sheet<br>
<strong>Left arrow key</strong> and <strong>Right arrow key</strong> Move the selection sideways between Events, Conditions and Actions</p>
<p><strong>Enter</strong> Edit selected item</p>
<p><strong>Escape</strong> Clear event search</p>
<p><strong>A</strong> Add action<br>
<strong>B</strong> Add blank subevent<br>
<strong>C</strong> Add condition<br>
<strong>D</strong> Toggle selected items disabled<br>
<strong>E</strong> or <strong>Num pad +</strong> Add event below<br>
<strong>Shift + E</strong> or <strong>Num pad -</strong> Add event above<br>
<strong>G</strong> Add group<br>
<strong>I</strong> Invert selected conditions<br>
<strong>N</strong> Add include<br>
<strong>R</strong> Replace object<br>
<strong>Q</strong> Add comment<br>
<strong>S</strong> Add subevent<br>
<strong>V</strong> Add variable<br>
<strong>X</strong> Add 'Else' event following selected event<br>
<strong>Y</strong> Toggle 'Or' block</p>
<a name="h2a3"></a><h3 id="h2ix3">Parameters dialog</h3>
<p>The <a href="#anchor-60">parameters dialog</a> is where you enter expressions, e.g. the X and Y co-ordinate for <em>Set position</em>.</p>
<p><strong>F4</strong> Toggle the floating <a href="#anchor-59">expressions panel</a> visible.  This shows every expression you can use.</p>
<p><strong>Tab</strong> Next parameter<br>
<strong>Shift + Tab</strong> Previous parameter<br>
<strong>Escape</strong> Cancel<br>
<strong>Enter</strong> Done</p>
<a name="h2a4"></a><h3 id="h2ix4">Image and Animations editor</h3>
<p>See also: <a href="#anchor-48">Image and Animations editor</a></p>
<p>Quick assign origin and image points:<br>
<strong>Num pad 1</strong> or <strong>End</strong> Bottom left<br>
<strong>Num pad 2</strong> Bottom<br>
<strong>Num pad 3</strong> or <strong>Page down</strong> Bottom right<br>
<strong>Num pad 4</strong> Left<br>
<strong>Num pad 5</strong> Center<br>
<strong>Num pad 6</strong> Right<br>
<strong>Num pad 7</strong> or <strong>Home</strong> Top left<br>
<strong>Num pad 8</strong> Top<br>
<strong>Num pad 9</strong> or <strong>Page up</strong> Top right<br>
<strong>Arrow keys</strong> Nudge 1 pixel<br>
Hold Shift to apply the origin/image point to the entire animation.  Shift + Click also applies that positioning to the entire animation.</p>
<p><strong>Shift + Crop button</strong> Crop entire animation<br>
<strong>Shift + Mirror button</strong> Mirror entire animation<br>
<strong>Shift + Flip button</strong> Flip entire animation<br>
<strong>Shift + Rotate Clockwise button</strong> Rotate entire animation clockwise<br>
<strong>Shift + Rotate Anticlockwise button</strong> Rotate entire animation anticlockwise</p>
<p>Animations only:<br>
<strong>Ctrl + Left</strong> or <strong>-</strong> Previous animation frame<br>
<strong>Ctrl + Right</strong> or <strong>+</strong> Next animation frame<br>
<strong>P</strong> Preview animation<a name="anchor-169"></a></p>
<h2>3.15 Debugger</h2>
<em>Bugs</em> refer to software defects - things not working as you expected in your game or app. <em>Debugging</em> refers to the process of fixing these issues. The Construct 2 debugger is a tool to help you find and fix bugs in your game.<p></p>
<p><em>Note: the debugger is available in the Free edition of Construct 2, but the 'Watch' and 'Profile' tabs, the ability to edit values, and the ability to use <a href="#anchor-170">breakpoints</a>, are unavailable.</em></p>
<a name="h2a0"></a><h3 id="h2ix0">How to run the debugger</h3>
<p>The debugger can be run from the <a href="#anchor-38">ribbon</a> <em>Home</em> tab, the quick-launch bar, by right-clicking a layout or project in the <a href="#anchor-39">Project Bar</a>, or by using the <a href="#anchor-64">keyboard shortcut</a> <strong>Ctrl+F5</strong>.</p>
<p><img width="143" height="87" class="article-image" src="./manual_files/debugicon.png" alt="The icon for launching the debugger from the ribbon"><!--imgend--><br>
The debugger works much like an <a href="#anchor-122">ordinary preview</a>, except that an extra panel appears alongside the game in the browser showing lots of information and some useful controls.</p>
<p><a href="./manual_files/debuggerview.png" target="_blank"><img width="578" height="478" class="article-image thumb-img" src="./manual_files/debuggerview.png" alt="How the Construct 2 debugger appears in the browser"></a></p>
<div class="full-size-img"><a href="./manual_files/debuggerview.png" target="_blank">Open full size image</a></div><a href="./manual_files/debuggerview.png" target="_blank"> ⇗</a><!--imgend--><br>
When in debug mode, the address in the browser also ends with <em>/debug</em>, e.g. <em>http://localhost:50000/debug</em>. You can also switch between normal preview and the debugger by going between these URLs. You can even run the debugger on a mobile device using <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">preview over Wifi ⇗</a> and adding <em>/debug</em> to the end of the preview URL as well, e.g. <em>http://192.168.1.3:50000/debug</em>.<p></p>
<a name="h2a1"></a><h3 id="h2ix1">Customising the debugger panel</h3>
<p>The debug panel in the browser can be resized by pulling the gripper that appears in the grey titlebar of the debugger (to the left of where it says <em>Inspector</em>). This allows you to pull it out to see more information, or collapse it down to just its tools and a summary of the performance information.</p>
<p>The debugger can also be popped out in to its own window. This is especially useful on multi-monitor setups. The game will show using the full browser window, and a separate browser window displays the debug panel. Click the pop-out button indicated below to do this. Clicking it again, or closing the popup window, will restore it to the main browser window again.</p>
<p><img width="280" height="92" class="article-image" src="./manual_files/debugpopout.png" alt="The debugger&#39;s pop-out button"><!--imgend--><br>
<a name="h2a2"></a></p>
<h3 id="h2ix2">The main debugger commands</h3>
<p>Alongside the pop-out button are some other useful tools. They are as follows:</p>
<p><strong>Pause</strong>: pause the game so it is no longer progressing. This is useful to spend a while inspecting some information at a particular moment. When paused it turns in to a <strong>Resume</strong> button; click it again to resume running.</p>
<p><strong>Step</strong> can only be used when paused. It advances the game by a single frame. <a href="https://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time ⇗</a> (<em>dt</em>) is set as if the game were running at 60 FPS. This can be useful to inspect a moment frame-by-frame and watch how an event like a collision is handled.</p>
<p><strong>Save</strong> and <strong>Load</strong> make a temporary <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">savegame ⇗</a>, allowing you to quickly save the state of the game and then restore back to that state at any time later on. This can be useful for repeatedly running the same part of a game over and over again. As with ordinary savegames, the state is stored persistently in the current browser. So the savegame will not be available in a different browser, but will be available in the same browser even after closing and reopening it, rebooting, etc.</p>
<p><strong>Restart</strong> will simply refresh the game, loading it from scratch again.</p>
<a name="h2a3"></a><h3 id="h2ix3">Performance summary</h3>
<p>Some details about the performance of the game appear in a light grey. For more advice on performance, see <a href="#anchor-134">Performance Tips</a>. The displayed values are, reading from left to right:</p>
<p><strong>The object count</strong> (e.g. <em>500 objects</em>): how many objects are currently created. Using too many objects can degrade performance. This value corresponds to the <em>objectcount</em> <a href="#anchor-126">system expression</a>.</p>
<p><strong>The framerate</strong> (e.g. <em>60 FPS</em>): how many frames per second the game is running at. Most system's displays update at 60 Hz, so the game should run at 60 FPS for optimal rendering. This value corresponds to the <em>fps</em> system expression.</p>
<p><strong>The estimated CPU time</strong> (e.g. <em>20% CPU</em>): an estimate of how much CPU time is being spent in the logic of the game. This is not always accurate, especially since it only takes in to account time spent on the main javascript thread, and should only be considered a ballpark figure. The profiler can break this down in to how much time is being spent in each area of the game, and is described in more detail later on in this guide. This value corresponds to the <em>CPUUtilisation</em> system expression.</p>
<p><strong>The estimated image memory use</strong> (e.g. <em>32.5mb images</em>): an estimate of how much memory is being used by the currently loaded images in the game. This is only available in WebGL mode. Images typically use up the most memory in a game, but note this value excludes everything else, such as memory required to run the logic of the game, and memory required to play music and sound effects. See the blog post <a href="https://www.scirra.com/blog/112/remember-not-to-waste-your-memory" target="_blank">Remember not to waste your memory ⇗</a> for more advice on image memory use. This value corresponds to the <em>ImageMemoryUsage</em> system expression.</p>
<p><strong>The renderer</strong> (e.g. <em>webgl</em>): whether the game is rendering in canvas2d or webgl mode. WebGL mode is faster and supports <a href="#anchor-146">shader effects</a>. This value corresponds to the <em>renderer</em> system expression.</p>
<p>Some additional performance details appear in the <strong>Performance</strong> section of the System object's inspector view, which is displaying by default:</p>
<p><strong>Collision checks/sec</strong> (e.g. <em>1144 (~22 / tick)</em>): how many times in the last second the engine had to test for a collision between two objects. Collision checks are invoked by the <em>On collision</em> or <em>Is overlapping</em> sprite conditions, and many <a href="#anchor-72">behaviors</a> perform additional collision checks automatically. In brackets, the average checks per tick is also shown. For example if there were 600 collision checks in the last second and the framerate is 60 FPS, the estimated checks per tick will be 10. This tells you on average there were about ten collision checks per frame, although the actual value will often vary frame-by-frame.</p>
<p><strong>Poly checks/sec</strong> (e.g. <em>60 (~1 / tick)</em>): most collision checks are very fast, and the engine can tell trivially that two objects are not overlapping (by verifying that their bounding boxes do not overlap). However if two objects' bounding boxes are overlapping, the engine must do a more expensive check where the collision polygons of each object are tested against each other. This value tells how many checks of this kind were made in the last second, as well as with the average per tick as with the <em>Collision checks/sec</em> value. Usually the <em>Poly checks/sec</em> value is considerably smaller, but if it is high, it indicates a possible performance problem.</p>
<a name="h2a4"></a><h2 id="h2ix4">The 'Inspector' tab</h2>
<p>The debugger has three tabs: the <em>Inspector</em>, the <em>Watch</em>, and the <em>Profile</em> tabs. The Inspector tab is used to view and edit values .</p>
<p>The Inspector view is divided in to two sections: on the left appears a list of all the <a href="#anchor-70">object types</a> in the project, including the System object, and on the right appears a list of tables of values relating to the selected object, similar to the <a href="#anchor-40">Properties Bar</a>.</p>
<a name="h2a5"></a><h3 id="h2ix5">The object list</h3>
<p>Click the name of an object type in the object list to expand it. The number of instances of that object type appears in brackets after the object name. If the object type only has one instance, or is a global object like the System object or Audio object, it will immediately start inspecting the object. Otherwise it expands a dropdown with a list of all the object instances sorted by their <a href="#anchor-130">index ID</a> (IID). Clicking a particular instance will then inspect just that instance.</p>
<a name="h2a6"></a><h3 id="h2ix6">The values view</h3>
<p>As with the Properties Bar, the values view shows a list of categorised tables displaying all the information about the currently inspected object. The displayed values depend on what is being inspected; for example the Sprite object displays information about its current animation frame, the Audio object displays information about currently playing sound and music, and the System object displays information about the engine, layout, and layers. Most often these values correspond to object properties from the Properties bar, as well as the object's expressions.</p>
<p>Instance variables and behavior values are also shown if the selected object has any.</p>
<p>It is often useful to view these values while running the game. However, they can also be edited. As with the Properties Bar, simply click on a value and type in a new value to change it. Edited values appear in bold. Not all values are editable - those with a light grey background are read-only. This can be an excellent way to experiment with how your project works.</p>
<p>The eye icon to the right of values can be used to add the value to the <em>Watch</em> tab. This is described in more detail later on.</p>
<p>The <strong>Tools</strong> section gives you the ability to destroy the inspected object. By default the inspected object is also outlined with a dotted red rectangle in the game. If this is distracting, uncheck the <em>Highlight</em> checkbox.</p>
<p>Objects in a <a href="#anchor-150">container</a> also provide a list of links to inspect the other instances in the container with the currently inspected object.</p>
<a name="h2a7"></a><h2 id="h2ix7">The 'Watch' tab</h2>
<p>The inspector only allows you to view one object at a time, and often also includes a great deal of information, most of which you may not be interested in. Clicking the eye icon beside values in the Inspector adds that single value to the Watch tab. This allows you to combine different values from different objects in to a single space, as well as reduce the displayed values to just the ones you're interested in.</p>
<p><img width="427" height="61" class="article-image" src="./manual_files/addtowatch.png" alt="Add a value to the debugger watch"><!--imgend--><br>
In the Watch tab, values can be edited as with the Inspect tab.</p>
<p>The Watch tab shows crosses instead of eyes to the right of the values. Click the cross to remove the value from the watch. Note if you are watching a value from an object and the object is destroyed, the watch value will automatically be removed.</p>
<p>Category headers also have their own eye or cross icons. Clicking them will add or remove the entire section to or from the watch.</p>
<a name="h2a8"></a><h2 id="h2ix8">The 'Profile' tab</h2>
<p>The Profile tab provides a more detailed breakdown of the estimated CPU usage. The game must be running continuously for the profiler to be able to collect and display information. It then displays a breakdown of the estimated CPU time spent in each part of the game logic. It updates once a second and the values shown are for the previous second only.</p>
<p><img width="473" height="410" class="article-image" src="./manual_files/debugprofiler.png" alt="Construct 2&#39;s profiler"><!--imgend--><br>
It must be noted that the overall CPU usage is an estimate to begin with, and all other values are therefore estimates. The details shown in the profiler only relate to the main javascript thread, and the CPU could be busy with other tasks, such as processing audio or running pathfinding calculations. Additionally the time for the GPU to render the game is not taken in to account at all by the profiler. It is entirely possible the framerate is limited by the speed at which the GPU can render, but the profiler is not able to directly identify this. It can be inferred if the framerate is low but the CPU usage is not high.</p>
<p>Despite the above caveats, the profiler can be used to identify "hot spots" which would be good candidates to attempt to optimise first if there is a performance problem. For more performance advice, see <a href="#anchor-134">Performance Tips</a>. Note that optimisation is often not necessary and is a waste of time if the game is already running fast enough. For a deeper discussion of the subject, see the blog post <a href="https://www.scirra.com/blog/83/optimisation-dont-waste-your-time" target="_blank">Optimisation: don't waste your time ⇗</a>.</p>
<a name="h2a9"></a><h3 id="h2ix9">Profiler breakdown</h3>
<p>The profiler shows nested tables identifying how much CPU time has been spent in each part of the engine, down to individual event groups. The top-level items are:</p>
<p><strong>Events</strong>: a breakdown of how much time was spent running event logic in the event sheets used by the layout. This is first broken down in to each event sheet (in case includes were used), and then further down in to groups and nested groups of events. This can help identify the most CPU-intensive events which you may want to optimise.</p>
<p><strong>Physics simulation</strong>: how much time has been spent processing the Physics behavior. Physics simulation can be very CPU-intensive. If this value is high, consider using fewer physics objects.</p>
<p><strong>Draw calls</strong>: how long it took the CPU to issue rendering calls, <em>not including</em> the time for the GPU to complete them. In some cases, rendering calls can be quite CPU intensive, especially when very large numbers of objects are on-screen. Some browsers also forward all draw calls to another thread to be processed in parallel, in which case the <em>Draw calls</em> measurement will likely be an underestimate.</p>
<p><strong>Engine</strong>: the remaining time spent in the Construct 2 engine, which is the overall estimated CPU with the events, physics and draw calls times subtracted away. This includes processing behaviors and other engine housekeeping.</p>
<a name="h2a10"></a><h2 id="h2ix10">Breakpoints</h2>
<p>When running the debugger, it's possible to set <em>breakpoints</em> to pause execution of an event sheet on a specific event, condition or action. For more information, see the manual entry on <a href="#anchor-170">breakpoints</a>.<a name="anchor-65"></a></p>
<h1>4. Project primitives</h1>
This section outlines the <strong>primitives</strong> (i.e. basic elements) of projects.  These primitives provide the building blocks which complex games can be built from.  For an at-a-glance summary, see <a href="#anchor-32">Project structure</a> from the Overview section.<br>
<br>
Construct 2 uses a programming-free event system to design games.  If you are new to the event system, the section on <a href="#anchor-75">How events work</a> is highly recommended.<a name="anchor-66"></a><h2>4.1 Projects</h2>
A <strong>project</strong> is a complete game or app made in Construct 2.  Projects contain every element making up the game, ranging from events to sound files.  An overview of the project is shown in the <a href="#anchor-39">Project Bar</a> where elements can be added, renamed, removed and arranged in to folders for organisation.  See <a href="#anchor-32">Project structure</a> for a summary of the elements making up a project.  The rest of this manual section goes in to more detail about each part of a project.<p></p>
<p>Projects can be opened, closed and exported from the <a href="#anchor-37">File menu</a>.  See also <a href="#anchor-33">Saving and sharing projects</a> and <a href="#anchor-122">Exporting and Publishing</a>.  If you are interested in the technical details of exported projects see <a href="#anchor-35">Technology</a>.  It is recommended to follow some <a href="#anchor-34">best practices</a> while working on projects.</p>
<a name="h2a0"></a><h3 id="h2ix0">Project properties</h3>
<p>The properties for a project can be edited in the <a href="#anchor-40">Properties Bar</a> after selecting the name of the project in the Project Bar, or using the <strong>Project Properties</strong> shortcut in Layout Properties.</p>
<p>The Name, Author and Description properties are used for some of the export options, so be sure to fill them out accurately for any important projects.</p>
<p><strong>Name</strong><br>
The name or title of the project.</p>
<p><strong>Version</strong><br>
The version of the project, which conventionally is four numbers in descending importance (e.g. 1.0.0.0), where the first number is the major version and the last number is the revision number. This is also used by several exporters to assign the version to your published app. It is good practice to increment this each time you export your project.</p>
<p><strong>Description</strong><br>
A sentence or two giving a short summary of the project. Several exporters also use this as the description for your published app.</p>
<p><strong>ID</strong><br>
An ID uniquely identifying your application. This should be in reverse domain format, such as <em>com.mycompany.mygame</em>. Some exporters use this as the ID for your exported app, so try to ensure it will be unique.</p>
<p><strong>Author</strong><br>
The name of the individual or organisation developing the project.</p>
<p><strong>Email</strong><br>
A support or contact email address for the project. Some exporters use this to fill out the <em>Email</em> field of the published app.</p>
<p><strong>Website</strong><br>
A link to the author's website or other related web address. Some exporters use this to fill out the <em>Website</em> field of the published app.</p>
<p><strong>First layout</strong><br>
Select which <a href="#anchor-67">layout</a> is the first to appear when the project is exported.  When previewing in the editor usually a specific layout is previewed, so this setting has no effect until export.</p>
<p><strong>Use loader layout</strong><br>
Use <em>First layout</em> as a special layout which shows while the rest of the layout is loading.  The <em>loadingprogress</em> system expression returns the current progress from 0 to 1 (e.g. 0.5 for half completed).  For more information, see the tutorial <a href="http://www.scirra.com/tutorials/318/how-to-use-loader-layouts-to-make-custom-loading-screens" target="_blank">how to make a custom loading screen ⇗</a>.</p>
<p><strong>Pixel rounding</strong><br>
By default Construct 2 objects can be drawn at sub-pixel positions, e.g. (100.3, 200.8).  If the browser is using linear filtering, this can make fine pixel art appear blurry.  If <em>Pixel rounding</em> is set to <em>On</em>, Construct 2 objects round their position to a whole number before drawing, e.g. (100, 201).  This prevents any blurring, and can also prevent "seams" appearing on grids of objects.  Note this does not affect their actual X and Y co-ordinates, which can still be between pixels - it only affects where they are drawn on the screen.</p>
<p><strong>Preview effects</strong><br>
Whether or not to display <a href="#anchor-146">effects</a> and blend modes in the <a href="#anchor-43">Layout View</a>. If enabled, WebGL must also be enabled for the effects to appear. If disabled, WebGL effects are not rendered in the editor, and all objects are drawn as if they have <em>Normal</em> blend mode.</p>
<p><strong>Window size</strong><br>
The size, in pixels, of the viewport in to the game.  It is only used if <em>Fullscreen in browser</em> is <em>Off</em>.  A dashed line indicating the window size appears in the <a href="#anchor-43">Layout View</a>.</p>
<p><strong>Preview browser</strong><br>
Choose which browser is launched when previewing the project.  All major browsers for Windows are listed.  Note Microsoft Edge is only available on Windows 10+. Use <em>(default)</em> to launch the system default browser.  Use <em>Custom</em> to launch a custom browser set in <a href="#anchor-61">Preferences</a>.  It is <a href="#anchor-34">highly recommended</a> to test in multiple browsers before releasing your project. It is also possible to choose <em>NW.js</em>, which is essentially a standalone version of the Google Chrome browser used for desktop publishing; in this mode, the <a href="#anchor-162">NW.js plugin</a> also works and can be tested in preview.</p>
<p><strong>Fullscreen in browser</strong><br>
Instead of showing the project in a rectangle in a web page (with this option <em>Off</em>), the display can take up the entire browser window.  There are several variations; for more information see the tutorial on <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">supporting multiple screen sizes ⇗</a>.</p>
<p><strong>Fullscreen scaling</strong><br>
Only has an effect when a fullscreen mode is in use (when <em>Fullscreen in browser</em> is not <em>Off</em>). <em>High quality</em> mode renders at the full resolution of the screen. <em>Low quality</em> mode first renders at the project <em>Window Size</em>, and then simply stretches the result to fill the screen. Low quality mode often improves performance on low-end systems and is often suitable for retro-style pixellated games with <em>Point</em> sampling. However text, downscaled sprites and WebGL shaders appear with better quality and detail in high quality mode.</p>
<p><strong>Use high-DPI display</strong><br>
Some devices have a much higher resolution display, with more dots per inch (DPI) than other devices. Setting this property to <em>Yes</em> will use the full resolution of the device for maximum display quality, although this can sometimes reduce performance. Setting to <em>No</em> will treat the display like a traditional low-resolution display, which reduces detail but can improve performance.</p>
<p><strong>Orientations</strong><br>
Whether to lock the orientation on mobile devices. <em>Any</em> allows the display to switch between portrait and landscape automatically; choosing either <em>portrait</em> or <em>landscape</em> will attempt to lock the orientation to prevent it changing. Not all browsers or platforms support orientation locking, and in some browsers it must be in fullscreen mode (using the Browser object's <em>Request fullscreen</em> action) before orientation lock takes effect.</p>
<p><strong>Enable WebGL</strong><br>
Enable the faster and more powerful WebGL renderer where supported. The canvas 2D renderer will be used instead if WebGL is not supported.  See the <a href="#anchor-35">Technology</a> section for more information on renderers.  If WebGL is enabled, <a href="#anchor-146">effects</a> will also be previewed in the <a href="#anchor-43">layout view</a>.</p>
<p><strong>Sampling</strong><br>
Choose between <em>linear</em> (smooth) and <em>point</em> (pixellated) sampling when resizing images.  <em>Linear</em> is recommended for modern games with hi-res graphics, and <em>point</em> is better suited to retro games with blocky pixel art.</p>
<p><strong>Downscaling</strong><br>
Adjusts the tradeoff between rendering quality and memory use when resizing images to smaller than their original size (downscaling). The options are:<br>
<em>Low quality</em>: mipmaps are disabled (reducing memory use), but downscaled sprites may appear blocky or pixellated<br>
<em>Medium quality</em>: mipmaps are enabled. Downscaling sprites generally looks better.<br>
<em>High quality</em>: mipmaps are enabled and the spritesheet after export pads out all images to power-of-two sizes. This can significantly increase memory use, but can resolve two minor rendering issues: light fringing that can sometimes occur along the borders of downscaled objects, or a quality change in the last frame of an animation. <strong>Do not use this mode</strong> unless a rendering artefact is specifically observed and selecting this mode can be observed to resolve it: the increased memory usage can be very significant, and is not a cost that should be added for no reason. For more information see <a href="#anchor-183">Memory usage</a>.</p>
<p><strong>Physics engine</strong><br>
Choose which engine will power the <a href="#anchor-98">Physics behavior</a>. It is strongly recommended to use the <em>Box2D asm.js</em> engine for best performance. The <em>Box2D web</em> engine is kept only for backwards compatibility reasons and is no longer being actively maintained.</p>
<p><strong>Loader style</strong><br>
Change the default loader which is shown while the game is loading, or while the loader layout is itself still loading. Note the Free edition can only use the "C2 splash" style. See the tutorial <a href="http://www.scirra.com/tutorials/318/how-to-use-loader-layouts-to-make-custom-loading-screens" target="_blank">how to make a custom loading screen ⇗</a> for more information.</p>
<p><strong>Preload sounds</strong><br>
Whether to download and decode sounds before the game can start. If <em>Yes</em>, then sounds will be downloaded while the loading bar is showing. If <em>No</em> then sounds will be downloaded on-demand as the game runs, which can add a delay on the first time they are played, but it also means there is less to download before the game can start. Note this option does not preload music, which will still be streamed as the game runs.</p>
<p><strong>Pause on unfocus</strong><br>
If set to <em>Yes</em>, the preview will pause when the browser window loses focus, e.g. when switching back to work in Construct 2. This can be useful for certain workflows such as using <a href="http://www.scirra.com/tutorials/529/how-to-use-continuous-preview" target="_blank">continuous preview ⇗</a>. If set to <em>No</em> the preview will continue to run even without focus, but note switching to another browser tab or minimising the browser window will still pause (as it does with published projects).</p>
<p><strong>Clear background</strong><br>
Skip clearing the screen to transparent black at the start of every frame.  This is useful to improve performance on mobiles (see <a href="#anchor-134">Performance Tips</a>).  Every tick, the frame is firstly cleared to transparent black, then secondly the background colour of the bottom layer is filled in (if not transparent), then finally objects are drawn.  'Clear background' sets whether to do the first clear.  The layer 'transparent' property sets whether to do the second clear.  If all layouts have opaque layers in them, you can safely set 'Clear background' to 'No' since a layer background will always clear the screen.  If all layouts are completely obscured by sprites or other objects, you can also set all layers to transparent to skip both clears every tick.  However, in this case, any areas not covered by objects will appear glitchy or full of garbage pixel data.<a name="anchor-67"></a></p>
<h2>4.2 Layouts</h2>
A <strong>layout</strong> is a pre-arranged <em>layout</em> of objects.  It can represent a game level, menu or title screen.  In other tools layouts may be referred to as <em>scenes</em>, <em>rooms</em>, <em>frames</em> or <em>stages</em>.  They can be added, renamed and deleted from the <a href="#anchor-39">Project Bar</a>.  Layouts are edited in the <a href="#anchor-43">Layout View</a>.  Every layout has an associated <a href="#anchor-121">event sheet</a> which defines how the layout works.<br>
<br>
Layouts contain a stack of <a href="#anchor-85">layers</a>.  Objects that appear on the screen do not belong directly to a layout - they always sit on one of the <em>layers</em> in the layout.<br>
<br>
Layouts do not have a background color.  To set a background color, make the bottom layer opaque and set its background color.  This can be done in the <a href="#anchor-42">Layers Bar</a>.<br>
<br>
Layouts can also have <a href="#anchor-146">effects</a> applied, which affects all content appearing in the display.<br>
<br>
<h3>Adding and removing layouts</h3>
<br>
To add a layout, right-click a layout folder (such as the root level <em>Layouts</em>) in the <a href="#anchor-39">Project Bar</a> and select <strong>Add layout</strong>.<br>
<br>
To rename or remove a layout, right-click the layout itself in the Project Bar and select <strong>Rename</strong> or <strong>Delete</strong>.<br>
<br>
<h3>Layout properties</h3>
<br>
The properties for a layout can be edited in the <a href="#anchor-40">Properties Bar</a> after clicking a space in the layout or selecting the name of the layout in the Project Bar.<br>
<br>
<strong>Name</strong><br>
The name of this layout.<br>
<br>
<strong>Event sheet</strong><br>
The associated event sheet that defines how this layout works.  Event sheets can be shared between layouts using <a href="#anchor-82">includes</a> if you have a lot of similar events between layouts.<br>
<br>
<strong>Active layer</strong><br>
This is the layer new objects are placed on to.  It is also set by selecting a layer in the <a href="#anchor-42">Layers Bar</a>.  The active layer is displayed in the status bar and is also shown as a tooltip when inserting a new object.  All newly inserted objects are added to the active layer.<br>
<br>
<strong>Unbounded scrolling</strong><br>
By default the game window cannot scroll past the edges of the layout.  Set this to <em>Yes</em> to allow unlimited scrolling in any direction, even past the edges of the layout.<br>
<br>
<strong>Layout size</strong><br>
The size, in pixels, of the layout area.  If <em>Unbounded scrolling</em> is <em>On</em>, this still affects how much of the layout area is shown in the Layout View.<br>
<br>
<strong>Margins</strong><br>
The size, in pixels, of the margins.  The margins are the grey areas outside the layout area.  This only affects the Layout View and has no effect when previewing.<br>
<br>
<strong>Project properties</strong><br>
A shortcut to view the <a href="#anchor-66">project's properties</a>.<a name="anchor-85"></a><h2>4.3 Layers</h2>
A <strong>layer</strong> is like a transparent sheet of glass that objects are painted on to.  Layers can be used to show different groups of objects in front or behind each other, like the foreground and background.  Layers belong to a <a href="#anchor-67">layout</a> and can be added, edited and removed in the <a href="#anchor-42">Layers Bar</a>.  Layers can be scrolled at different rates for parallax effects, and also individually scaled and rotated, which makes them a powerful way to make interesting visual effects in games.<p></p>
<p>Layers are also important to add non-scrolling <strong>interfaces</strong> (or <strong>HUDs</strong> or <strong>UIs</strong>) to scrolling games.  A layer with its <strong>parallax</strong> set to <strong>0, 0</strong> will not scroll at all, so any objects placed on this layer will always stay in the same place on-screen.</p>
<p>A common arrangement for layers might be:</p>
<p><strong>HUD</strong> <em>(top layer - health bar, UI info etc.)</em><br>
<strong>Foreground</strong> <em>(main game objects)</em><br>
<strong>Middleground</strong> <em>(a parallaxing background layer)</em><br>
<strong>Background</strong> <em>(bottom layer - the background)</em></p>
<p>Layers can also have <a href="#anchor-146">effects</a> applied, which affects all content appearing on the layer.</p>
<a name="h2a0"></a><h3 id="h2ix0">Global layers</h3>
<p>Sometimes many layouts in a project have the same content on a particular layer, such as for interface or HUD overlaid on to the game. Changing this content then becomes a chore since changes must be repeated on every layout. <em>Global layers</em> are aimed at solving this problem.</p>
<p>If a layer's <em>Global</em> property is set to <em>Yes</em>, then every layer in the project with the same name is overridden by that layer. The initial objects, as well as its properties, are used instead of the other layer's own content and properties. Then changes can be made once to the original global layer, and the changes will be applied project-wide.</p>
<p>The layer with the <em>Global</em> property set to <em>Yes</em> is where all changes must be made from. On other layers in the project with the same name, the <em>Global</em> property will be read-only and display <em>(yes, overridden)</em> to indicate it is being substituted by a different layer. It will also not display in the layout view on other layouts, although its contents will appear when previewing the project.</p>
<a name="h2a1"></a><h3 id="h2ix1">Layer properties</h3>
<p>The properties for a layer can be edited in the <a href="#anchor-40">Properties Bar</a> after clicking the layer in the Layers Bar.  Note this also changes the active layer - see the <strong>active layer</strong> property in <a href="#anchor-67">Layout properties</a> for more information.</p>
<p><strong>Name</strong><br>
The name of the layer, which can be used to refer to the layer in the event system.</p>
<p><strong>Initial visibility</strong><br>
Whether or not the layer is initially visible <strong>when previewing</strong>.  This is different to the <strong>Visible in editor</strong> property which only affects the Layout View.</p>
<p><strong>Background color</strong><br>
The background color for the layer.  It is ignored if <strong>Transparent</strong> is <em>Yes</em>.</p>
<p><strong>Transparent</strong><br>
Ignore <em>background color</em> and make the layer have a transparent background.</p>
<p><strong>Opacity</strong><br>
Set the opacity (or semitransparency) of the layer, from 0 (invisible) to 100 (opaque).</p>
<p><strong>Force own texture</strong><br>
Force the layer to always render to an intermediate texture rather than directly to the screen.  This is useful for some kinds of effects.  However, it slows down rendering, so it should be set to <em>No</em> unless specifically needed.</p>
<p><strong>Use render cells</strong><br>
Optimise the rendering of this layer for extremely large layouts with a large number of static objects spread out across this layer. This is not normally necessary except for certain types of large game. If this is used incorrectly, it can actually make rendering less efficient, so make sure you can measure a performance improvement before using it. For more information, see the blog post <a href="https://www.scirra.com/blog/ashley/14/how-render-cells-work" target="_blank">How render cells work ⇗</a>.</p>
<p><strong>Scale rate</strong><br>
Change the rate at which the layer zooms if scaling is applied to the layer or layout, a bit like parallax but for zoom.  A scale rate of 0 means the layer will always stay at 100% scale regardless of the scaling applied.  A scale rate of 100 means it will scale normally.</p>
<p><strong>Parallax</strong><br>
Change the rate at which the layer scrolls in the horizontal and vertical directions.  A parallax rate of <em>100, 100</em> means ordinary scrolling, <em>0, 0</em> means it will never scroll (useful for UIs), <em>50, 50</em> means scrolling half as fast, etc.  Also useful for multi-layer parallaxing backgrounds.</p>
<p><strong>Global</strong><br>
See the section above on <em>Global layers</em>. If <em>Yes</em>, it will override every other layer in the project with the same name with its own contents and properties. Overridden layers display this property read-only as <em>(yes, overridden)</em>. If <em>No</em> its contents and properties are unique to itself.</p>
<p><strong>Visible in editor</strong><br>
Whether or not the layer is showing <strong>in the Layout View</strong>.  Note this is different to the <strong>Initial visibility</strong> property which only affects previewing.  This setting can also be accessed via the Layers Bar.</p>
<p><strong>Locked</strong><br>
Whether or not the layer is locked in the Layout View.  Objects on locked layers cannot be selected.  This setting can also be accessed via the Layers Bar.</p>
<p><strong>Parallax in editor</strong><br>
If enabled, the <strong>parallax</strong> properties will also be applied to the Layout View, allowing you to preview what the effect will look like.<a name="anchor-68"></a></p>
<h2>4.4 Objects</h2>
In Construct 2 <strong>objects</strong> perform most of the useful work in a project.  Most of the things you see in a Construct 2 game are represented by objects, and there are also hidden objects for other purposes (e.g. audio playback).<br>
<br>
When <a href="#anchor-54">inserting a new object</a>, typically you first choose the <strong>plugin</strong> in the dialog (e.g. <em>Sprite</em>).  This then creates an <strong>object type</strong> (e.g. <em>TrollEnemy</em>).  When the mouse turns to a crosshair this allows you to place the first <em>instance</em>, and you can duplicate the instance to create more of them.<br>
<br>
Understanding the differences between them is essential to use Construct 2 effectively, especially <em>object types</em> and <em>instances</em>.  Objects consist of the following parts, summarised below.  There are also manual sections that go in to more detail on each part.<br>
<br>
<a href="#anchor-69">Plugins</a><br>
Plugins define a kind of object.  For example, a Sprite is a kind of object, and the Audio object is a different kind.  These are defined by the <em>Sprite plugin</em> and <em>Audio plugin</em> respectively.<br>
<br>
Javascript programmers can make new plugins (and behaviors) using the <a href="http://www.scirra.com/manual/15/sdk">Javascript SDK</a>.<br>
<br>
<a href="#anchor-70">Object types</a><br>
Object types define a 'class' of an object.  For example, <em>TrollEnemy</em> and <em>OgreEnemy</em> could be different object types of the Sprite plugin.  They have different animations and events can be applied separately to make them look and act differently, despite the fact they are both Sprite objects.<br>
<br>
<a href="#anchor-71">Instances</a><br>
Using the previous example, if there were four <em>TrollEnemy</em> objects in a layout, these are <strong>instances</strong> of the <em>TrollEnemy</em> <strong>object type</strong>.  There is only one <em>TrollEnemy</em> object type no matter how many instances are created.  Instances all share the events and artwork for <em>TrollEnemy</em>.  Similarly, there could be multiple instances of the <em>OgreEnemy</em> object type.<br>
<br>
<a href="#anchor-73">Instance variables</a><br>
Instance variables are added to an <strong>object type</strong> and store numbers or text <em>per instance</em>.  For example, if you want monsters to all keep track of their own health counter, you could add a <em>health</em> instance variable.  This is essential for making interesting games - instance variables are very useful for making <em>instances</em> work independently of each other.<br>
<br>
<a href="#anchor-72">Behaviors</a><br>
Behaviors can be added to <strong>object types</strong> to add pre-packaged functionality.  For example, the <a href="#anchor-87">8 direction</a> behavior can be added to a Sprite, and it can instantly move around with the arrow keys.  This helps speed up development and increase productivity.  Behaviors are not intended to do everything in your game for you: the <a href="#anchor-74">event system</a> is where the majority of your game logic will be defined.  Behaviors are essentially time-savers and shortcuts.  Most behaviors can be replicated with events, but it simply is far more time consuming to do so.  Behaviors are very customisable, but if a behavior isn't doing quite what you want it to, you can usually resort to reproducing it in a customised way with events.<br>
<br>
All <strong>instances</strong> of an <strong>object type</strong> use its behaviors.  You cannot add a behavior to only some of the instances - they all use the behavior - although you may be able to enable or disable the behavior for individual instances.<br>
<br>
<a href="#anchor-146">Effects</a><br>
Effects change the visual appearance of an object.  Effects do not work on all platforms, because it requires <strong>WebGL</strong> support.  However, fallbacks can be set up so everything still appears reasonably when WebGL is not supported.  Note effects are separate to the <em>blend mode</em> which is supported on all platforms.<br>
<br>
<a href="#anchor-142">Families</a><br>
Families are groups of object types.  This can help avoid repeating events for different object types in large projects.<br>
<br>
<a href="#anchor-150">Containers</a><br>
Containers are an advanced feature for picking a group of instances at the same time in events.  This is useful for building composite objects (objects made from multiple objects, such as a tank made from a base sprite and a turret sprite).<a name="anchor-69"></a><h3>4.4.1 Plugins</h3>
<strong>Plugins</strong> define a kind of object. For example, a Sprite is a kind of object, and the Audio object is a different kind. These are defined by the <em>Sprite plugin</em> and <em>Audio plugin</em> respectively.  See the <a href="#anchor-106">Plugin reference</a> for more information on individual plugins.<br>
<br>
Javascript programmers can make new plugins (and behaviors) using the <a href="http://www.scirra.com/manual/15/sdk">Javascript SDK</a>.<br>
<br>
Most plugins define their own properties in the <a href="#anchor-40">Properties Bar</a>.  To see a full list, locate the plugin in the <a href="#anchor-106">Plugin reference</a>.<br>
<br>
There are three main kinds of plugins:<br>
<strong>Visual plugins</strong> (e.g. Sprite) appear in the layout and draw something to the screen.<br>
<strong>Hidden plugins</strong> (e.g. Array) are placed in a particular layout, but do not draw anything to the screen.<br>
<strong>Project-wide plugins</strong> (e.g. Mouse, Audio) are added to the entire project, and can only be added once.  There cannot be more than one object type or instance of a project-wide plugin.  They simply enable a new capability (such as being able to take mouse input).  They are most useful used in the <a href="#anchor-74">event system</a>.<br>
<br>
Construct 2 is designed modularly.  That means not much functionality is built in: you must insert a plugin before you can use the related features.  For example, you cannot play back any audio before adding the Audio plugin to a project.  This might seem unnecessary, but there are many project-wide plugins and it is unlikely every project will need to use all of them.  For example, if the Audio plugin was automatically included with every project, even projects which do not need Audio support must pay the cost of performance penalties, larger download sizes, and so on.  So remember if you do not add a plugin, it is not at all included in your project, and this helps your projects remain lean and efficient when exported.<br>
<br>
<h3>Installing third party plugins</h3>
<br>
Third party developers can create and distribute their own custom plugins using the <a href="http://www.scirra.com/manual/15/sdk">Javascript SDK</a>.  Remember that Scirra cannot support you if you have issues using third party plugins - you should contact the plugin developer for help, support or new feature requests.<br>
<br>
To install a third party plugin:
<ol>
<li>Close Construct 2</li>
<li>Copy the plugin's folder to <strong>&lt;install path&gt;\exporters\html5\plugins</strong>. You'll see each plugin has its own folder here, so to add a new plugin create a new folder and add the plugin's files inside it.  For behaviors, copy to <strong>&lt;install path&gt;\exporters\html5\behaviors</strong> instead.</li>
<li>Launch Construct 2 and the plugin or behavior should be available from the editor.</li>
</ol><a name="anchor-70"></a><h3>4.4.2 Object types</h3>
Object types are a central part of game design in Construct 2.  Object types define a 'class' of an object. For example, <em>TrollEnemy</em> and <em>OgreEnemy</em> could be different object types of the Sprite plugin. They have different animations and events can be applied separately to make them look and act differently, despite the fact they are both Sprite objects.<br>
<br>
There can be multiple <a href="#anchor-71">instances</a> of an object type in a project.  For example, you may wish for there to be four <em>TrollEnemy</em> objects awaiting the player in a game.  These four <strong>instances</strong> share the same animations, images, behaviors, instance variables and events.  (In the case of instance variables, each instance stores its own unique value, e.g. for health, and behaviors work independently for each instance too.)<br>
<br>
<strong>Object types</strong> do not themselves have a position, angle or size.  These are properties of the <strong>instances</strong> of the object type.  The <a href="#anchor-39">Project Bar</a> and <a href="#anchor-41">Object Bar</a> display the object types in the project, but not the instances.  You can also add, rename and delete object types from those bars.<br>
<br>
<a href="#anchor-74">Events</a> are made to apply to an object type.  The event then <em>filters</em> the instances that meet the condition.  For example, the event "Bullet collides with Alien" is an event that applies to all instances of the <em>Bullet</em> and <em>Alien</em> object types.  However, when the event runs, the actions only apply to the specific <em>instances</em> involved in the collision.  For more information see <a href="#anchor-75">How events work</a>.<br>
<br>
Object types can also be grouped together in to <a href="#anchor-142">Families</a>.  This can help avoiding repeating the same events for different object types.<a name="anchor-71"></a><h3>4.4.3 Instances</h3>
Object <strong>instances</strong> are the actual objects you see in a game: an <em>instance</em> of an <a href="#anchor-70">object type</a>.  For example, if there are four <em>TrollEnemy</em>s in a layout, those are four <em>instances</em> of the TrollEnemy <em>object type</em>.<br>
<br>
It is <strong>instances</strong> which have a position, angle and size in the layout.  Object types do not have these properties - they simply define a 'class' of object.<br>
<br>
Instances can be created at runtime in the <a href="#anchor-74">event system</a> (typically by the System <em>Create object</em> action and the Sprite <em>Spawn an object</em> action).  They can also be pre-arranged in <a href="#anchor-67">layouts</a> with the <a href="#anchor-43">Layout View</a> to design levels, menus and title screens.<br>
<br>
Selecting an instance in the Layout View shows its properties in the <a href="#anchor-40">Properties Bar</a>.  These are a mix of properties in common with all (or most) objects, and <a href="#anchor-69">plugin</a>-specific properties.  The common properties are described below, and plugin-specific properties are described for each plugin in the <a href="#anchor-106">Plugin reference</a>.<br>
<br>
<h3>Common instance properties</h3>
<br>
The following properties are common to all or most objects, depending on their capabilities.<br>
<br>
<strong>Name</strong><br>
The name of the associated <a href="#anchor-70">object type</a>.<br>
<br>
<strong>Plugin</strong> <em>(read only)</em><br>
A reminder of the <a href="#anchor-69">plugin</a> (kind of object) this object is based on.<br>
<br>
<strong>Global</strong><br>
By default, all instances are destroyed when the layout ends (e.g. when going to the next layout).  If <em>Global</em> is <em>Yes</em>, none of the instances of this object type will be destroyed when switching layouts.<br>
<br>
<strong>Layer</strong><br>
The <a href="#anchor-85">layer</a> the instance is placed on.<br>
<br>
<strong>Angle</strong><br>
The angle in degrees the instance is oriented at.  This can also be altered with the angle handle in the <a href="#anchor-43">Layout View</a>.<br>
<br>
<strong>Opacity</strong><br>
The instance opacity (or semitransparency), from 0 (transparent) to 100 (opaque).<br>
<br>
<strong>Position</strong><br>
The X and Y co-ordinates in the layout in pixels.  This is measured to the object's origin (see <a href="#anchor-63">image points</a>).  This can also be altered by moving the instance in the Layout View.<br>
<br>
<strong>Size</strong><br>
The width and height of the instance in pixels.  This can also be altered by dragging the resize handles in the Layout View when one instance is selected.<br>
<br>
<strong>Edit variables</strong><br>
Open the <a href="#anchor-56">Object Instance Variables dialog</a>.<br>
<br>
<strong>Edit behaviors</strong><br>
Open the <a href="#anchor-57">Object Behaviors dialog</a>.<br>
<br>
<strong>Edit effects</strong><br>
Open the <a href="#anchor-147">Effects dialog</a>.<a name="anchor-73"></a><h3>4.4.4 Instance variables</h3>
<strong>Instance Variables</strong> are added to <a href="#anchor-70">object types</a> but store numbers, text or booleans (on/off flags) individually for each <a href="#anchor-71">instance</a>.  This makes them ideal for things like health counters, since each instance tracks its own value.  Instance variables are added to object types with the <a href="#anchor-56">Object Instance Variables dialog</a>, and the initial values for each instance can be set from the <a href="#anchor-40">Properties Bar</a>.<br>
<br>
Instance variables can also be used to help control instances independently of each other.  For example, a Boolean instance variable could be used to determine if an enemy is hunting down the player (<em>true</em>) or running away (<em>false</em>).  If instances all have different values, the condition <em>Is boolean instance variable set</em> can be used to apply actions to enemies hunting down the player.  Inverting the condition (picking instances with the value being <em>false</em>) can then be used to apply actions to enemies running away.  The end result is a number of instances of the same object type acting independently: some chasing and others running away.  This is a simple example - much more complex methods can be made.<br>
<br>
In other words, an instance's <em>state</em> can be controlled using instance variables.<br>
<br>
Instance variables can also be added to <a href="#anchor-142">Families</a>.  All the object types in the family then <em>inherit</em> the instance variable.<a name="anchor-72"></a><h3>4.4.5 Behaviors</h3>
<strong>Behaviors</strong> add pre-packaged functionality to <a href="#anchor-70">object types</a> .  They can be added with the <a href="#anchor-57">Object Behaviors dialog</a>.  See the <a href="#anchor-86">Behavior reference</a> for more information on individual behaviors.<br>
<br>
An example of a behavior is the <a href="#anchor-87">8 direction</a> behavior.  This instantly allows an object to be moved around with the arrow keys. This helps speed up development and increase productivity. Behaviors are not intended to do everything in your game for you: the <a href="#anchor-74">event system</a> is where the majority of your game logic will be defined. Behaviors are essentially time-savers and shortcuts. Most behaviors can be replicated with events, but it simply is far more time consuming to do so. Behaviors are very customisable, but if a behavior isn't doing quite what you want it to, you can usually resort to reproducing it in a customised way with events.<br>
<br>
All <a href="#anchor-71">instances</a> of an object type use its behaviors. You cannot add a behavior to only some of the instances - they all use the behavior - although you may be able to enable or disable the behavior for individual instances.<br>
<br>
Some behaviors add their own properties to the <a href="#anchor-40">Properties Bar</a>.  See the <a href="#anchor-86">Behavior reference</a> for each behavior's properties<br>
<br>
Some behaviors also extend the objects they are added to with their own <a href="#anchor-76">conditions</a>, <a href="#anchor-77">actions</a> and <a href="#anchor-78">expressions</a>.  These are shown alongside the object's own conditions, actions and expressions in the <a href="#anchor-51">Add Condition or Action dialog</a> and <a href="#anchor-59">Expressions panel</a>.<br>
<br>
Behaviors can also be added to <a href="#anchor-142">Families</a>.  All the object types in the family then <em>inherit</em> the behavior.<a name="anchor-146"></a><h3>4.4.6 Effects</h3>
<p><strong>Effects</strong> change the visual appearance of objects.  They can be added with the <a href="#anchor-147">Effects dialog</a>.  Effects can also be added to <a href="#anchor-85">layers</a> and <a href="#anchor-67">layouts</a>, although effects which blend with the background cannot be used on layouts.  Effects are also sometimes referred to as <em>shaders</em> or <em>WebGL shader effects</em>, since this refers to the underlying technology that makes the effects possible.  Below is an example of the Water effect on an image.</p>
<p><img src="./manual_files/watershader.jpg" alt="Example of an effect on an image in Construct 2." width="500" height="298"></p>
<p>Construct 2 provides a library of over 70 stock effects.  Adding effects also displays them in the <a href="#anchor-43">Layout View</a> if WebGL is enabled in <a href="#anchor-66">project properties</a>. (If WebGL is disabled for a project, the layout view will display as if WebGL is not supported, not showing any effects.)  A number of examples of effects are provided in Construct 2's Examples folder.</p>
<p>Multiple effects can be applied to a single object, layer or layout.  In this case the effects are chained.  The result of the first effect is processed by the second effect, then the result of that is processed by the third effect, and so on.</p>
<h3>Support</h3>
<p>Effects require <strong>WebGL</strong> support in order to display.  See the <a href="#anchor-35">Technology</a> section on <em>Canvas renderers</em> for more information about WebGL.  In short, not all platforms or computers support WebGL.  Effects cannot display on these platforms.  To ensure your project still appears correctly when WebGL is not supported, see the section on <em>Fallbacks</em>.</p>
<p>Whether or not effects are supported can also be tested with the <em>Effects are supported</em> <a href="#anchor-124">system condition</a>.</p>
<h3>Blend mode</h3>
<p>The <em>Blend mode</em> property works on all platforms, since it is also supported by the Canvas 2D renderer.  It is only effects that require WebGL support and fallbacks to be set up.</p>
<p>The <em>Blend mode</em> provides a simple set of pre-defined ways to blend the object with the background.  For an example of how blend modes work, see the <em>Blend modes.capx</em> example in Construct 2's examples folder.</p>
<p><img src="./manual_files/blendmodes.png" alt="Various blend modes available in Construct 2." width="445" height="327"></p>
<p>If multiple effects are used, the blend mode is applied only to the <em>last</em> effect.  For example with three effects, the effect chain is processed normally, and the blend mode is only used to blend the result of the third effect with the background.</p>
<h3>Fallbacks</h3>
<p>If WebGL is not supported, you can specify what to do using the <em>Fallback</em> property in the <em>Effects</em> category in the <a href="#anchor-40">Properties Bar</a>.</p>
<p><img src="./manual_files/effectproperties.png" alt="Effect properties, including the Fallback setting" width="247" height="95"></p>
<p>The <em>Fallback</em> property does not appear if no effects are added, because there is no need to worry about any effects not being supported.</p>
<p>By default the <em>Fallback</em> property changes the <em>Blend mode</em> to <em>Normal</em> if effects are not supported.  (Remember the <em>Blend mode</em> property always works on all platforms and computers.) This will result in the object looking as if it had no effects added at all when WebGL is not supported.</p>
<p>The other fallback options allow you to change the <em>Blend mode</em> property to something else.  For example when using the Screen effect, a similar result can be achieved by using the <em>Additive</em> blend mode, so <em>Fallback</em> could be set to <em>Set 'Additive' blend</em>.  If WebGL is supported, the object will display with its Screen effect.  If WebGL is not supported, it will not run the Screen effect but then also switch to Additive blend mode, so the object always blends reasonably with the background.</p>
<p>Finally, the fallback allows you to set the object to be destroyed (or the layer to be hidden).  This can be used for optional objects with solely cosmetic effect, so if the effects cannot run the content will simply not be displayed at all.</p>
<h3>Testing</h3>
<p>Be sure to test with WebGL both enabled and disabled in project properties to ensure your fallbacks work properly and the content always displays reasonably.  You cannot assume all your users will have WebGL support, even if they use a browser which supports WebGL, because old hardware or out of date drivers may result in WebGL being disabled.  Proper testing is a <a href="#anchor-34">best practice</a>.</p>
<h3>Changing effects at runtime</h3>
<p>Objects supporting effects provide <a href="#anchor-132">common actions</a> to enable or disable effects, or set an effect parameter.  This allows you to switch effects or adjust effect parameters at runtime, allowing for greater possibilities and creative uses.  To enable or disable layout or layer effects, or change their parameters, use the relevant <a href="#anchor-125">system actions</a>.</p>
<h3>Performance</h3>
<p>Using too many effects can cause poor performance, especially on mobile devices.  Try to only use effects when it is important to the appearance of the game.</p>
<p>Creating many instances of an object using effects can be very inefficient, since the effect must be processed repeatedly for small areas.  If many instances need to use an effect, often it is more efficient to place all the instances on their own layer, and apply the effect to that layer instead.  This can improve performance whilst producing the same visual appearance.</p>
<p>Never use effects to process a static effect on an object.  For example, do not use the 'Grayscale' effect to make an object always appear grayscale. Instead apply the grayscale effect in an image editor and import a grayscale image to the object, without using any effects.  This has the same visual result, and avoids performance-degrading effect processing. Effects like 'Grayscale' should only be used for transitions or making objects only occasionally appear grayscale.</p>
<p>For more information, see the manual section on <a href="#anchor-134">performance tips</a>.</p>
<a name="anchor-142"></a><h3>4.4.7 Families</h3>
<p>In Construct 2, <strong>Families</strong> are groups of <a href="#anchor-70">object types</a>.  All the object types in a family must be from the same <a href="#anchor-69">plugin</a>, e.g. all Sprite objects (and not a mix of Sprite and Tiled Background objects, for example).</p>
<p>Families can help you avoid repeating events.  For example, instead of having the same events for the <em>Enemy1</em>, <em>Enemy2</em> and <em>Enemy3</em> objects, you can add them all to an <em>Enemies</em> family and make the events once for the family.  Then, the events automatically apply to all the object types in the family.</p>
<p>The <em>Families.capx</em> example in Construct 2's Examples folder demonstrates the advantage of this.  There are seven kinds of enemy, and they all need to be destroyed when the laser hits them.  Without families, seven separate events are necessary, as shown below:</p>
<p><img src="./manual_files/nofamilyevents.png" alt="Events not using families." width="378" height="472"></p>
<p>Using families all seven events can be replaced with a single event:</p>
<p><img src="./manual_files/familyevent.png" alt="Event using a family." width="378" height="66"></p>
<p>This makes it far easier to create and maintain projects with lots of objects that need to work in similar ways.</p>
<h3>How to create a family</h3>
<p><strong>Right-click</strong> the <em>Families</em> folder in the <a href="#anchor-39">Project Bar</a> and select <strong>Add family</strong>.  The <em>Edit Family</em> dialog appears:</p>
<p><img src="./manual_files/familiesdlg.png" alt="Edit Family dialog" width="500" height="423"></p>
<p>Objects on the left are the objects in the project that can be added to the family.  Objects on the right are the objects already in the family.  <strong>Double-click</strong> an object to transfer it to the other side.  You can select multiple objects by holding <strong>Control</strong> and clicking several objects, then clicking one of the buttons in the middle to transfer them.</p>
<p>When done, click <strong>OK</strong> and the family will appear in the Project Bar.  It can be expanded to show all the objects in the family as well:</p>
<p><img src="./manual_files/familiesprojectbar.png" alt="A family in the project bar." width="174" height="165"></p>
<p>The family, and the objects in the family, can be edited by <strong>right-clicking</strong> them and choosing options from the menu, like <em>Remove from family</em> or <em>Edit family</em>.</p>
<p>Objects can be added to multiple families.  All events for the object's families will apply to the object.</p>
<h3>Family instance variables</h3>
<p><a href="#anchor-73">Instance variables</a> can also be added to a whole family by <strong>right-clicking</strong> the family name in the Project Bar and selecting <strong>Family instance variables</strong>.</p>
<p>If you add an instance variable to a family, <em>all</em> the object types in the family <em>inherit</em> the instance variable.  For example, adding the instance variable <em>health</em> to the family <em>Enemies</em> in the above example will mean <em>BladeEnemy</em>, <em>BugEnemy</em>, <em>CrescentEnemy</em>, <em>FighterEnemy</em>, <em>SaucerEnemy</em>, <em>ScytheEnemy</em> and <em>SlicerEnemy</em> all gain a <em>health</em> instance variable.  It will also appear in the editor alongside each object's own instance variables.  However in the Event Sheet View the family will only show its own instance variables (those added directly to the family).  This means any instance variables you want to be available to the family's events must be added to the family, and not to the objects in the family.</p>
<p>If an object type belongs to multiple families, it inherits every family's instance variables.</p>
<h3>Family behaviors</h3>
<p><a href="#anchor-72">Behaviors</a> can also be added to a whole family by <strong>right-clicking</strong> the family name in the Project Bar and selecting <strong>Family behaviors</strong>.</p>
<p>As with family instance variables, if you add a behavior to a family, <em>all</em> the object types in the family <em>inherit</em> the behavior.  The behavior will appear in the events for all the objects in the family <em>and</em> the family itself.  For example adding the <em>Bullet</em> behavior to a family called <em>Bullets</em> means the bullet's <em>Set speed</em> action is available to every object in the family, as well as the family itself.</p>
<p>If an object type belongs to multiple families, it inherits every family's behaviors.</p>
<h3>Family effects</h3>
<p><a href="#anchor-146">Effects</a> can also be added to a whole family by <strong>right-clicking</strong> the family name in the Project Bar and selecting <strong>Family effects</strong>.</p>
<p>As with family instance variables and behaviors, if you add an effect to a family, <em>all</em> the object types in the family <em>inherit</em> the effect.  This can be useful for quickly applying effects to a number of different object types.</p>
<p>If an object type belongs to multiple families, it inherits every family's effects.</p>
<h3>Picking families in events</h3>
<p>Families pick instances in the event sheet independently of the object types in the family.  For example, consider <em>Family1</em> consisting of <em>SpriteA</em> and <em>SpriteB</em>.  Conditions for <em>Family1</em> will never affect which <em>SpriteA</em> and <em>SpriteB</em> instances are picked.  It will only affect which instances are affected when running an action for <em>Family1</em>.  Likewise, conditions picking <em>SpriteA</em> and <em>SpriteB</em> instances will never affect which instances are picked in <em>Family1</em>.  In other words, in the event sheet families are treated like an entirely separate object type, which just happens to have instances from other object types.  This can be taken advantage of if you need a single event to pick two separate lists of instances from the same object type.</p>
<h3>Upgrading ordinary objects to families</h3>
<p>If you make a lot of events forgetting to use a family and want to replace them, it's possible to use the <em>Replace Object</em> feature to save you re-doing every event. The process is described in the tutorial <a href="https://www.scirra.com/tutorials/535/how-to-upgrade-an-object-to-a-family" target="_blank">How to upgrade an object to a family ⇗</a>.</p>
<h3>Summary</h3>
<p>Families are a very powerful feature which are essential to help keep large projects simple.  Instance variables and behaviors added to families are inherited by every object in the family, which allows for sophisticated logic to be easily applied to many object types at once.</p>
<a name="anchor-150"></a><h3>4.4.8 Containers</h3>
<p><strong>Containers</strong> are an advanced feature to make it easy to build <em>composite objects</em> - that is, elements of your game made from multiple objects.  For example, a tank in a strategy game might be composed of two parts: a sprite for the tank base, and a different sprite for the tank turret.  This allows them to rotate independently.  Adding them both to a container then allows events to treat both objects as if they were one, because they are always picked together.</p>
<p>It is essential to be familiar with <a href="#anchor-75">how events work</a> in order to understand how containers work.</p>
<h3>Creating a container</h3>
<p>To add an object to a container, select one of the objects you want in the container and click the <strong>Create</strong> link in its properties (which appears under the <em>Container</em> category next to the label <em>No container</em>).  A dialog opens allowing you to choose the object to add to the container.</p>
<p>Further objects can be added to a container by clicking the <em>Add object</em> link in the <em>Container</em> category again.  Objects can be removed by clicking the <em>Remove</em> link.</p>
<h3>What containers do</h3>
<p>Placing objects in a container has the following effects:</p>
<ol>
<li>If one object in a container is created, every other object in its container is also automatically created.</li>
<li>If one object in a container is destroyed, every other associated object in its container is also destroyed.</li>
<li>If a condition picks one object in a container, every other associated object in its container is also picked.</li>
</ol>
<p>The first two points basically guarantee that there is the same number of instances for all the objects in a container.  In other words, containers are created and destroyed as a whole.  Using the tank base and turret container example, it is impossible to create a tank base without also automatically getting a new turret for it as well.</p>
<p>The third point is the main purpose of containers.  Containers are also <em>picked</em> in events as a whole.  This makes events treat containers as if they were one object.  For example, if a condition picks a tank base instance, it also automatically picks the base's associated turret.</p>
<h3>Examples</h3>
<p>In the following events, assume both <em>TankBase</em> and <em>TankTurret</em> are in a container.</p>
<p><img src="./manual_files/container_example1.png" alt="Container example 1" width="598" height="46"></p>
<p>In the above event, a <em>TankTurret</em> instance is also created since it is in a container with <em>TankBase</em>.  It might also be useful to add an action to set the position of the <em>TankTurret</em> to make it appear on top of the base.</p>
<p><img src="./manual_files/container_example2.png" alt="Container example 2" width="382" height="46"></p>
<p>In this event, the associated <em>TankTurret</em> instance is also destroyed since it is in a container with <em>TankBase</em>.</p>
<p><img src="./manual_files/container_example3.png" alt="Container example 3" width="523" height="46"></p>
<p>In this event, when a bullet hits the tank base, only its associated turret flashes.  If the objects were not in a container, <em>all</em> the turrets in the game would flash, as per the rules of <a href="#anchor-75">how events work</a> (since no turret was referenced in the conditions, the action applies to all of them).  However, since the objects are in a container, when the <em>TankBase</em> that was hit by a bullet is picked, its associated turret is also picked.  This makes the event work as intended, and the event treats both objects as if they were one.  This is the crux of containers, and for some uses like strategy games, there will be a large number of events taking advantage of this type of picking to ensure objects work as units and don't accidentally affect other instances.</p>
<h3>Placing container objects in a layout</h3>
<p>In the Layout View, it's possible to create an instance in a container by itself.  This appears to break rules 1 and 2 under <em>What containers do</em>, since objects in a container must always create and destroy together.  However, the editor does not enforce this.  Instead, any missing objects are created automatically when the layout starts.  It is a good idea to make sure you create enough objects anyway so you can edit the object's position, instance variables, and other properties from the Layout View.</p>
<h3>Data storage objects in a container</h3>
<p>It's possible to add data storage objects like <a href="#anchor-108">Array</a> and <a href="#anchor-140">Dictionary</a> to a container with another object.  Despite the fact these objects are invisible, a separate instance of the object is still created for each container.  This allows you to have a dedicated Array or Dictionary for each instance of an object.  This can be very useful as an advanced substitute for <a href="#anchor-73">instance variables</a>, such as if a very large number of variables is necessary, or if variables need to be dynamically added and removed.</p>
<a name="anchor-74"></a><h2>4.5 Events</h2>
<strong>Events</strong> are Construct 2's main feature: instead of complicated scripting or programming languages with fiddly syntax and difficult errors, you can define how the game works using a logical block system.  The blocks are collectively referred to as events, although there are several kinds of block making up an <a href="#anchor-121">event sheet</a>.<br>
<br>
Construct 2's event system is likely to be unfamiliar to new users.  Read <a href="#anchor-75">How Events Work</a> for a summary of how to use them.  Events are not cookie-cutter blocks that limit what you can do.  Instead they are designed to provide the basic tools you need to create sophisticated games.<br>
<br>
The basic concept of events is that <a href="#anchor-76">conditions</a> <strong>filter</strong> the <a href="#anchor-71">instances</a> meeting the condition, then the <a href="#anchor-77">actions</a> run for <em>those instances only</em>.  This allows you to control instances independently, especially when used with <a href="#anchor-73">instance variables</a>.  A common misconception is that all instances of an object type must act the same.  That is simply not the case: the fundamental way events work is to filter out individual instances, and run actions on just those that met the conditions.<br>
<br>
Events are edited in the <a href="#anchor-44">Event Sheet View</a> using the <a href="#anchor-51">Add Condition/Action dialog</a>, the <a href="#anchor-60">Parameters dialog</a> and <a href="#anchor-59">Expressions panel</a>.<br>
<br>
A diagram of a simple event is shown below.  (This does not include every feature of events - the rest are explained in this section.)<br>
<br>
<img class="article-image" src="./manual_files/eventdiagram(1).png" alt="Event diagram"><!--imgend--><br>
The parts that make up events are summarised below.  Check each relevant manual section for more information on each.  See <a href="#anchor-75">How events work</a> for a summary of how to use events.<br>
<br>
<strong>Events</strong> typically consist of <strong>conditions</strong> that must be met, <strong>actions</strong> that run if so, and optionally further <a href="#anchor-128">sub-events</a> that test more conditions, run more actions, etc.  For example if the condition <em>Bullet collides with alien</em> is met, the action <em>Destroy alien</em> may run, and the <em>Destroy</em> action affects only the instance involved in the condition.<br>
<br>
<a href="#anchor-76">Conditions</a> test that certain criteria are met.  They <em>filter</em> the instances meeting the condition.<br>
<br>
<a href="#anchor-77">Actions</a> make things happen.  They only affect the instances that were filtered by the event's conditions.<br>
<br>
<a href="#anchor-78">Expressions</a> can be sums to work out values, or retrieve values from objects, such as a Sprite's X co-ordinate.<br>
<br>
<a href="#anchor-128">Sub-events</a> follow after other events, appearing indented in the event sheet.  Their conditions can further filter instances and run more actions.<br>
<br>
<a href="#anchor-80">Groups</a> can be used to organise events.  Groups can also be enabled and disabled as a whole.<br>
<br>
<a href="#anchor-81">Comments</a> allow you to write notes and descriptions for events.  They usually are placed above the event they are describing.  This is essential to help keep a large project well-organised and maintainable.<br>
<br>
<a href="#anchor-82">Includes</a> can share event sheets between <a href="#anchor-67">layouts</a>.  This saves you from having to copy-and-paste all your events for every single layout.  Adding an include is effectively an automatic copy-paste of that event sheet's content in to another event sheet.<br>
<br>
<a href="#anchor-83">Event Variables</a> can store numbers and text either globally (for all layouts) or locally (for a specific range of events).<br>
<br>
<a href="#anchor-121">Event sheets</a> are a list of events.  These can be assigned to a specific layout, or included in to other event sheets.<br>
<br>
<h3>Scripting</h3>
<br>
Construct 2 uses the event system exclusively and does not support any scripting in the editor at all.  This is because the event system is powerful enough to replace scripting completely.  However, if you are a programmer, you may be interested in extending Construct 2 using the <a href="http://www.scirra.com/manual/15/sdk">Javascript SDK</a>.<a name="anchor-75"></a><h3>4.5.1 How events work</h3>
If you're new to Construct 2's <strong>events</strong>, this section will outline how they work.  This is essential reading for beginners!  You will be able to make much better and more reliable games with a thorough understanding of how events work.<p></p>
<p>To learn how to add and edit events, see <a href="#anchor-44">Event Sheet View</a>.</p>
<p>Events are designed to be easily readable and to intuitively "just work".  However, they have specific, well-defined ways of working which is described here.</p>
<p>Events work by <strong>filtering</strong> specific <a href="#anchor-71">instances</a> that meet some <a href="#anchor-76">conditions</a>.  The <a href="#anchor-77">actions</a> then run for <em>those instances only</em>.  For example, consider the following event:</p>
<p><img width="513" height="70" class="article-image" src="./manual_files/simpleevent.png" alt="A simple event."><!--imgend--><br>
In this example, when a <em>Bullet</em> collides with a <em>Monster</em> the event condition is met. The specific instances of <em>Bullet</em> and <em>Monster</em> that collided in the game are "picked" by the event. Actions only run on the "picked" instances. If there are other instances of <em>Bullet</em> and <em>Monster</em> in the layout, they won't be affected by the <em>Subtract 1 from health</em> and <em>Destroy</em> actions. It would be very difficult to make good games if every bullet hurt every monster!</p>
<p>Another way to think about an event is "<strong>If</strong> all conditions are met <strong>then</strong> run actions on the instances meeting the conditions".</p>
<a name="h2a0"></a><h3 id="h2ix0">Multiple conditions</h3>
<p>Adding more conditions to an event progressively filters the instances to run actions on.  For example:</p>
<p><img width="527" height="46" class="article-image" src="./manual_files/multiconditionevent_2.png" alt="An event with two conditions."><!--imgend--><br>
This event runs like this:</p>
<ol>
<li>First all <em>Monsters</em> that are on-screen are picked.</li>
<li>Then, of those on-screen, it is reduced to those with less than 5 health.</li>
<li>The action makes all monsters that are <strong>both</strong> on-screen <strong>and</strong> have less than 5 health look directly at the player.  Monsters that are off-screen or have 5 or more health are not affected.</li>
</ol>
<p>Therefore, using multiple conditions you can run actions on just the instances meeting <em>several</em> criteria.  Users from programming languages or other tools might recognise this as a logical "AND".  <em>All</em> conditions of an event must be met for the actions to run.  If no monsters are on-screen or none of those on-screen have less than 5 health, the actions <strong>do not run at all</strong>.</p>
<a name="h2a1"></a><h3 id="h2ix1">Unreferenced objects</h3>
<p>Have a look at the following event:</p>
<p><img width="446" height="45" class="article-image" src="./manual_files/unreferencedobjectevent.png" alt="An event with an unreferenced object."><!--imgend--><br>
If the user presses Spacebar and the Player's <em>PowerupEnabled</em> boolean is set, the action does <em>Monster: Destroy</em>.  Note that there aren't any conditions that filter or pick Monsters in this event.  In this case, <em>all</em> Monster instances are destroyed.  In other words, if an event doesn't reference an object in its conditions, actions apply to all the instances of that object.</p>
<p>Think of conditions as starting with <em>all</em> instances being picked, and progressively filtering them from there.  If there were no conditions, there are still all instances picked, so the action affects all of them.</p>
<a name="h2a2"></a><h3 id="h2ix2">Picking resets between events</h3>
<p>After an event ends, the next event begins from scratch.  Its conditions will start picking from all instances again.</p>
<p>On the other hand, <a href="#anchor-128">sub-events</a> (which appear indented) <strong>carry on from where its parent event left off</strong>.  A sub-event will further filter the instances left over by the event that came before it.  If an event has two sub-events, they both pick from the same set of instances the parent left - the second sub-event is not affected by the first.  In other words, events at the same indentation level always pick from the same set of instances, and events at a lower indentation level are always working with the instances handed down from above.</p>
<a name="h2a3"></a><h3 id="h2ix3">The System object</h3>
<p>In Construct 2 the System object represents built-in functionality.  It has no instances.  This means most <a href="#anchor-124">system conditions</a> do not pick any instances: they are either true or false.  If they are false the event stops running, otherwise the event continues without the picked instances having been changed.  There are exceptions, though: if a system condition uses an object, such as <em>Pick random instance</em>, that will affect the picked objects.</p>
<p>System actions do not run on any picked objects: they simply run if all of the event's conditions were met.</p>
<a name="h2a4"></a><h3 id="h2ix4">Events run top to bottom</h3>
<p>The order of events is important.  Every event is checked once per tick (about 60 times a second on most computers), and they are run from top to bottom in the event sheet.  The screen is drawn once every event has been run, then the process starts again.  This means if one event does something and the next event undoes it, you'll never see that anything happened.</p>
<p>The same applies within events: conditions are checked from top to bottom, and the actions run from top to bottom.</p>
<p>However, <strong>triggers</strong> are an exception.  See the green arrow to the left of <em>Keyboard: On Space pressed</em> from the previous example:</p>
<p><img width="446" height="45" class="article-image" src="./manual_files/unreferencedobjectevent.png" alt="Note the trigger."><!--imgend--><br>
This indicates the event is <strong>triggered</strong>.  Rather than running once per tick, this event simply runs (or "fires") upon something actually happening.  In this case, the event runs when the user hits the Spacebar key on the keyboard.  It is never checked any other time.  Since triggers run upon an event happening, they aren't checked in top-to-bottom order like other events.  This means the ordering of triggers relative to other events is not important (except relative to other triggers of the same type, since triggers still fire top-to-bottom).</p>
<p>There can only be one trigger in an event, because two triggers cannot fire simultaneously.  However, multiple triggers can be placed in 'Or' blocks (see the next section).</p>
<a name="h2a5"></a><h3 id="h2ix5">'Or' blocks</h3>
<p>As mentioned before, all conditions have to be met for an event to run.  This is called a 'Logical AND', because "condition 1 AND condition 2 AND condition 3..." etc. must be true.  However, you can change an event to run when <em>any</em> condition is true.  This is called a 'Logical OR', because the event will run if "condition 1 OR condition 2 OR condition 3..." are true.</p>
<p>Normally blocks work as 'AND' blocks.  To make an 'OR' block, right-click the block and select <strong>Make 'Or' block</strong>.  It will then display with <em>- or -</em> between each condition, as shown below.</p>
<p><img width="506" height="96" class="article-image" src="./manual_files/orevent.png" alt="An &#39;Or&#39; block."><!--imgend--><br>
Note that because OR blocks run if <em>any</em> condition is true, it's possible the event will still run if some conditions were false and did not pick any instances. In this case the actions will still run, but possibly with zero instances picked for any objects where no instances met the condition. If any actions are run for objects with no instances picked, nothing happens.</p>
<p>Also note normally you can only put one trigger in an event, but you can put multiple triggers in an 'Or' block, and the event will run if any of triggers run.</p>
<p>You can combine the block types by using <a href="#anchor-128">sub-events</a>.  This allows you to build up more advanced logic, such as an 'Or' block followed by an 'And' block.</p>
<a name="h2a6"></a><h3 id="h2ix6">Looping conditions</h3>
<p>Some events <strong>loop</strong>, which simply means they repeat their actions many times.  Note the green circular arrow in the below example to indicate this.</p>
<p><img width="517" height="61" class="article-image" src="./manual_files/eventloops2.png" alt="A looping event"><!--imgend--><br>
This means when the layout starts, the <em>Create object</em> action repeats 10 times.  The end result is 10 monsters are created at random positions in the layout on startup.</p>
<p>There can also be more conditions following the <em>Repeat</em> condition.  These are tested on each of the repeats as well, and must be true for the actions to run.  There can even be more than one loop in an event, but this is rare.</p>
<a name="h2a7"></a><h3 id="h2ix7">Families and containers</h3>
<p>Note families pick their instances entirely separately from any of the object types in the family.  For more information, see the section <em>Picking families in events</em> in the manual entry on <a href="#anchor-142">Families</a>.</p>
<p>Containers are an advanced feature that can also make groups of instances always be picked together.  For more information see the manual entry on <a href="#anchor-150">Containers</a>.</p>
<a name="h2a8"></a><h3 id="h2ix8">Summary</h3>
<p>Using this event system it's possible to make sophisticated logic for games quickly and easily.  It is a very powerful alternative to scripting or programming languages but much easier for non-technical people to use.</p>
<p>Although this section has described the essential parts of the event system, it still has not covered everything.  The rest of the <em>Events</em> section covers more features you can use in events.  The <a href="#anchor-86">Behavior reference</a>, <a href="#anchor-106">Plugin reference</a> and <a href="#anchor-123">System reference</a> also cover all the conditions, actions and expressions in Construct 2.<a name="anchor-121"></a></p>
<h3>4.5.2 Event sheets</h3>
<strong>Event Sheets</strong> are simply lists of events.  They are edited in the <a href="#anchor-44">Event Sheet View</a>.  All the event sheets in a project are listed in the <a href="#anchor-39">Project Bar</a>.<br>
<br>
<h3>Adding and removing event sheets</h3>
<br>
To add a new event sheet, right click an event sheet folder in the Project Bar (such as the root level <em>Event sheets</em> folder) and select <strong>Add event sheet</strong>.<br>
<br>
Event sheets can be renamed or deleted by right-clicking the event sheet itself in the Project Bar and selecting <strong>Rename</strong> or <strong>Delete</strong>.<br>
<br>
When adding a layout, Construct 2 will prompt to ask if you'd also like to create an event sheet for that layout.<br>
<br>
<h3>Sharing events between layouts</h3>
<br>
<a href="#anchor-67">Layouts</a> have an associated event sheet to define how the layout works.  However it is often useful to use one event sheet for multiple layouts to prevent having to duplicate all your events.  There are two ways to share events between layouts:
<ol>
<li>Set several layout's <strong>Event sheet</strong> property to the same sheet.</li>
<li>Make a separate event sheet with all the common events on it, then <a href="#anchor-82">include</a> that event sheet on other event sheets.</li>
</ol>
The second option is usually preferable since you are not forced to use exactly the same events for different layouts - you can add a few extra events to customise how it works depending on the layout.<a name="anchor-76"></a><h3>4.5.3 Conditions</h3>
In events, <strong>conditions</strong> filter <a href="#anchor-71">instances</a> that meet some criteria.  They appear to the left of the event.  <strong>All</strong> conditions in an event must be met by at least one instance for the <a href="#anchor-77">actions</a> to run.  The actions then only apply to the instances that met the conditions.<p></p>
<p><img width="494" height="129" class="article-image" src="./manual_files/eventdiagram.png" alt="Diagram of an event."><!--imgend--><br>
<strong>System conditions</strong> do not pick any instances: they are simply either true or false, unless they specifically reference an object, such as with <em>Pick random instance</em>.</p>
<p>There are three kinds of conditions: normal conditions, <strong>triggered</strong> conditions, and <strong>looping</strong> conditions.  You can also create OR blocks which run if <em>any</em> condition is true, rather than <em>all</em> the conditions.  See <a href="#anchor-75">How events work</a> for more information.</p>
<a name="h2a0"></a><h3 id="h2ix0">Adding and editing conditions</h3>
<p>When you add a new event, you are taken through the process of adding the first condition for the event.  This is described in more detail in the <a href="#anchor-44">Event Sheet View</a> entry.</p>
<p>You can add multiple conditions to an event block.  To add another condition, right-click either an existing condition or the event margin and select <strong>Add another condition</strong>.  All conditions must be met for the event to run, unless you set the event to be an OR block, in which case <em>any</em> condition can be true for the event to run.  To set an OR block, right-click the event margin and select <strong>Make 'Or' block</strong>.</p>
<p>To edit a condition, <strong>double-click</strong> it.  You can also <strong>right-click</strong> it and choose <strong>Replace</strong> or <strong>Delete</strong>.</p>
<a name="h2a1"></a><h3 id="h2ix1">Inverting conditions</h3>
<p>Conditions can be <strong>inverted</strong>, which flips the thing they test.  For example, the condition <em>Monster is overlapping Player</em> is true whenever a monster is touching the player.  However, if inverted, it appears with a red invert icon and means <em>Monster is <strong>not</strong> overlapping Player</em>.</p>
<p><img width="277" height="23" class="article-image" src="./manual_files/invertedcondition.png" alt="An inverted condition."><!--imgend--><br>
Not all conditions can be inverted (e.g. triggers can't be, because the event doesn't make sense inverted in that case).</p>
<a name="h2a2"></a><h3 id="h2ix2">Breakpoints</h3>
<p>It is possible to place a breakpoint on a condition, to pause execution when it is reached. For more information, see <a href="#anchor-170">breakpoints</a>.<a name="anchor-77"></a></p>
<h3>4.5.4 Actions</h3>
In events, <strong>actions</strong> do something, such as create an object or go to another layout.  They appear to the right of the event.<p></p>
<p><img width="494" height="129" class="article-image" src="./manual_files/eventdiagram.png" alt="Diagram of an event."><!--imgend--><br>
Actions only affect the <a href="#anchor-71">instances</a> that met the event's <a href="#anchor-76">conditions</a>.  See <a href="#anchor-75">How Events Work</a> for more information.</p>
<p>To add an action to an event, click the <strong>Add action</strong> link that appears beside the event underneath any existing actions.  For more information on adding and editing events, see <a href="#anchor-44">Event Sheet View</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Breakpoints</h3>
<p>It's possible to place a breakpoint on an action, to pause execution when it is reached. For more information, see <a href="#anchor-170">breakpoints</a>.<a name="anchor-78"></a></p>
<h3>4.5.5 Expressions</h3>
<p>In events, <strong>expressions</strong> are used to calculate sums or retrieve information from objects, such as a Sprite's X co-ordinate.  Expressions are entered in to the <a href="#anchor-60">Parameters dialog</a> when adding or editing a <a href="#anchor-76">condition</a> or <a href="#anchor-77">action</a> which has parameters.  The <a href="#anchor-59">Expressions panel</a> is also shown at the same time and provides a dictionary of all the system and object expressions available in a project.</p>
<p>Some examples of expressions, which can range from a simple number to a complex calculation, are below:</p>
<p><em>0</em><br>
<em>random(360)</em><br>
<em>Sprite.X</em><br>
<em>(Player1.X + Player2.X) / 2</em><br>
<em>Sprite.8Direction.Speed</em><br>
<em>Sprite.X + cos(Sprite.Angle) * Sprite.Speed * dt</em></p>
<h3>Numbers</h3>
<p>Numbers are simply entered as digits with an optional fractional part separated by a dot, e.g. <strong>5</strong> or <strong>1.2</strong>.</p>
<h3>Text (strings)</h3>
<p>Text is also known as <em>strings</em> in programming, and Construct 2 also sometimes uses this naming convention.  Text in expressions should be surrounded by double-quotes, e.g. <strong>"Hello"</strong></p>
<p>The double-quotes are not included as part of the text, so setting a text object to show the expression <strong>"Hello"</strong> will make it show <strong>Hello</strong>, without any double-quotes.  To include a double-quote in a string, use two double-quotes next to each other (<strong>""</strong>), e.g. <strong>"He said ""hi"" to me"</strong> will return <strong>He said "hi" to me</strong>.</p>
<p>You can use <strong>&amp;</strong> to build strings out of mixed text and numbers, e.g. <strong>"Your score is: " &amp; score</strong></p>
<p>To add a line break to a string use the <a href="#anchor-126">system expression</a> <em>newline</em>, e.g. <strong>"Hello" &amp; newline &amp; "world"</strong></p>
<h3>Operators</h3>
<p>You can use the following operators in expressions:</p>
<p><strong>+</strong> (addition)<br>
<strong>-</strong> (subtraction)<br>
<strong>*</strong> (multiplication)<br>
<strong>/</strong> (division)<br>
<strong>%</strong> (modulo, remainder after division)<br>
<strong>^</strong> (raise to power, e.g. <em>5 ^ 2 = 25</em>)<br>
<strong>&amp;</strong> (build strings, e.g. <em>"Your score is: " &amp; score</em>)</p>
<p>There are also comparison operators <strong>=</strong>, <strong>&lt;&gt;</strong>, <strong>&lt;</strong>, <strong>&lt;=</strong>, <strong>&gt;</strong>, <strong>&gt;=</strong> for comparing values.  They return 1 if the comparison is true or 0 if false.</p>
<p>&amp; can also be used as logical AND, and <strong>|</strong> is a logical OR operator.  These are useful combined with the comparison operators, e.g. <strong>score &lt; 0 | health &lt; 0</strong>, which also return 1 if true and 0 if false.</p>
<p><strong>?:</strong> is a <em>conditional</em> operator, which allows you to test conditions in expressions.  This is especially useful when used with the comparison operators and logical operators.  It takes the form <strong>condition ? result_if_true : result_if_false</strong><br>
e.g. <strong>health &lt; 0 | score &lt; 0 ? "Game over!" : "Keep going!"</strong>.<br>
The condition counts as true if it is non-zero, and false if it is zero.</p>
<h3>Object expressions</h3>
<p>Objects have their own expressions to retrieve information about the object.  These are written in the form <strong>Sprite.X</strong> (the object name, a dot, then the expression name).  The Expressions panel lists all the available expressions in the project, and they are further documented in the Reference section of the manual.</p>
<p>The expression <strong>Self</strong> can be used as a short-cut to refer to the current object.  For example, in an action for the <em>Player</em> object, <strong>Self.X</strong> refers to <strong>Player.X</strong>.</p>
<p>You can add a 0-based object index to get expressions from different object instances.  For example <strong>Sprite(0).X</strong> gets the first Sprite instance's X position, and <strong>Sprite(1).X</strong> gets the second instance's X position.  For more information see index IDs (IIDs) in <a href="#anchor-130">common features</a>.  You can also pass another expression for the index.  Negative numbers start from the opposite end, so <strong>Sprite(-1).X</strong> gets the last Sprite's X position.</p>
<h3>Behavior expressions</h3>
<p>If an object has a <a href="#anchor-72">behavior</a> with its own expressions, they are written in the form <strong>Object.Behavior.Expression</strong>, e.g. <strong>Sprite.8Direction.Speed</strong>.</p>
<h3>System expressions</h3>
<p>The built-in system expressions are listed in the <a href="#anchor-126">reference</a>.  These include some basic mathematical functions like <em>sqrt</em> (square root).</p>
<a name="anchor-128"></a><h3>4.5.6 Sub-events</h3>
<p><strong>Sub-events</strong> appear indented beneath other events.  They <strong>carry on picking instances</strong> from where the "parent" event left off.  They run after the parent event's <a href="#anchor-77">actions</a> have finished.  An example is below.</p>
<p><img src="./manual_files/subeventexample.png" alt="A sub-event example." width="452" height="131"></p>
<p>This event runs like so:</p>
<ol>
<li>Test if any <em>Monster</em> <a href="#anchor-71">instances</a> are overlapping <em>Player</em>.  If so, the instances involved are remembered.</li>
<li>The top event's actions would run next, but it doesn't have any.</li>
<li>The second event (note it is indented) then tests if the <em>Player</em>'s <strong>ShieldEnabled</strong> <a href="#anchor-73">instance variable</a> is set.  If so, it subtracts 1 from the health of the <em>Monster</em> overlapping the player.</li>
<li>The third event (also indented) tests if the <em>Player</em>'s <strong>ShieldEnabled</strong> instance variable is <strong>not</strong> set (see <a href="#anchor-76">inverting conditions</a>).  If so, it subtracts 1 from the health of the <em>Player</em>.</li>
</ol>
<p>In other words, monsters hurt the player when they touch, unless the player has <strong>ShieldEnabled</strong> in which case the monsters are hurt instead.</p>
<p>This works because the objects picked by the top event are remembered and also used for sub-events.  If the second and third events were <em>not</em> sub-events (not appearing indented) the second event would subtract 1 from the health of <em>all</em> Monsters, because it was not referenced in the event.  (See <em>Unreferenced objects</em> in <a href="#anchor-75">How events work</a> for more on this.)</p>
<p>Sub-events can have other sub-events too, which makes sub-events very powerful and flexible for setting up advanced game logic.</p>
<p>Note sub-events run after the actions only if the actions run - in the above example, if no monsters are overlapping the player, neither the actions of that event nor its sub-events run at all.</p>
<h3>Triggers in sub-events</h3>
<p>If a trigger is in a sub-event <strong>all</strong> of its parent event's conditions must be true at the time the trigger fires, otherwise the event will not run.</p>
<p>There can also only be one trigger in a single branch of sub-events.  In other words, one of the events above a trigger cannot also contain a trigger.</p>
<h3>Adding and removing sub-events</h3>
<p>To add a sub-event, <strong>right-click</strong> the event margin and choose <strong>Add sub-event</strong>.  Alternatively use the Events tab on the <a href="#anchor-38">ribbon</a>, or press the <em>S</em> <a href="#anchor-64">keyboard shortcut</a>.</p>
<p>Adding and editing conditions to sub-events works identically to ordinary events.  You can also create more deeply nested sub-events by adding a sub-event to a sub-event.</p>
<p>To delete a sub-event, select it by clicking in the event margin, and press <em>Delete</em>.</p>
<a name="anchor-80"></a><h3>4.5.7 Groups</h3>
<p><strong>Groups</strong> of events are mainly for organising events.  They can be collapsed and expanded using the <strong>+</strong> or <strong>-</strong> button in the title.  They are edited with the <a href="#anchor-47">Event Group dialog</a>.  To add an event group, right click an event or empty space in the event sheet and select <strong>Add group</strong>.  Alternatively use the Events tab on the <a href="#anchor-38">ribbon</a> or press the <em>G</em> <a href="#anchor-64">keyboard shortcut</a>.</p>
<p><img src="./manual_files/eventgroups.png" alt="Some event groups" width="482" height="188"></p>
<p>Events can be <strong>dragged and dropped</strong> in to and out of groups (be sure to drag from the event margin, and not from a condition or action).  Entire groups can also be enabled or disabled with the <strong>Set Group Active</strong> <a href="#anchor-125">system action</a>, which is useful for situations like pausing the game.</p>
<a name="anchor-81"></a><h3>4.5.8 Comments</h3>
<p>Event <strong>comments</strong> are simply notes to help you remember how events work and what they do.  They are very important to help you remember how things work in large projects!  Comments have a yellow background and appear above the event they are describing.</p>
<p><img src="./manual_files/eventcomment.png" alt="An event comment" width="474" height="65"></p>
<p>To add a comment, <strong>right-click</strong> on an event or an empty space in the event sheet and select <strong>Add comment</strong>.  Alternatively use the Events tab on the <a href="#anchor-38">ribbon</a> or press the <em>Q</em> <a href="#anchor-64">keyboard shortcut</a>.  Comments can be edited by <strong>double clicking</strong> on them.  You can make a comment with a line break by holding shift and pressing Enter.</p>
<p>If you use Construct 2 a lot, you will find comments essential to help yourself organise and understand large projects.  Coming back to a project after a few months with no comments at all can be very difficult, so don't underestimate the importance of comments.</p>
<p>Comments do not affect how anything works at all.  They are solely for your information.  Nothing typed in to comments is exported to the game whatsoever.</p>
<a name="anchor-82"></a><h3>4.5.9 Includes</h3>
<p>Event sheet <strong>includes</strong> allow you to include an <a href="#anchor-121">event sheet</a> on another event sheet.  They are a sort of automatic copy-paste of one sheet's contents to another.  This is useful for sharing events common to multiple <a href="#anchor-67">layouts</a>.  For example, you can use different event sheets for different parts of your game logic.  You could have event sheets called <em>Player input</em>, <em>Enemy control</em>, <em>Effects</em>, and so on.  Then each level of the game can include these common event sheets in the layout's own event sheet.  This allows you to share the same events between multiple layouts, without having to copy and paste all your events over and over again.</p>
<p><img src="./manual_files/includeeventsheet.png" alt="An event sheet Include" width="304" height="25"></p>
<p>Includes can be added from right-clicking an empty space in the event sheet and selecting <strong>Include event sheet</strong>.  Alternatively you can use the Events tab on the <a href="#anchor-38">ribbon</a> or press the <em>N</em> <a href="#anchor-64">keyboard shortcut</a>.</p>
<p>Construct 2 automatically prevents cyclic includes.  If two event sheets both include each other, Construct 2 will use both event sheets but not include either more than once.</p>
<a name="anchor-83"></a><h3>4.5.10 Variables</h3>
<p><strong>Event Variables</strong> are number or text values which are either <strong>global</strong> to the project or <strong>local</strong> to a range of events.  They are modified using the <a href="#anchor-55">Event Variable dialog</a>.  To add an event variable, <strong>right-click</strong> on an event, another variable, or an empty space in the event sheet, and select <strong>Add global variable</strong> or <strong>Add local variable</strong>.  Variables at the root level of the event sheet (not indented beneath anything else) become global variables, whereas variables in groups or sub-events become local variables.</p>
<p>Event variables are modified with the <a href="#anchor-125">system actions</a> in the <em>Global &amp; local variables</em> category.  They can be retrieved by simply using their name in <a href="#anchor-78">expressions</a>.</p>
<h3>Global variables</h3>
<p>Global variables show a globe icon.  They are always at the <em>top level</em> of an event sheet - they are not <a href="#anchor-128">sub-events</a> or inside any <a href="#anchor-80">groups</a>.</p>
<p><img src="./manual_files/eventglobalvariable2.png" alt="A global variable." width="256" height="20"></p>
<p>Global variables store their values between layouts.  Events in any layout can access any global variable, even if it was created in a different event sheet that is not <a href="#anchor-82">included</a>.</p>
<p>Global variables can be moved to another event sheet by cutting and pasting them.  After being cut, references to the global variable will disappear because it has been removed; this is normal and nothing to worry about.  When you paste the global variable, the references that disappeared will reappear again.</p>
<h3>Local variables</h3>
<p>Local variables are variables placed nested under other events, or inside a group.  They also show with a different icon to global variables.</p>
<p><img src="./manual_files/eventlocalvariable2.png" alt="A local variable." width="312" height="20"></p>
<p>The main difference between global and local variables is <strong>local variables can only be accessed in their scope</strong>.  A local variable's <strong>scope</strong> is its level of sub-events.  All other events at the same level of indentation, or lower levels, can access the local variable.  Events <em>above</em> it (less indented) <em>cannot</em> access the local variable.</p>
<p>For example, if an event variable is in a group of events, it becomes a local variable.  Then, it will only appear as an option for a variable in events inside that group.  In other groups or in other event sheets it does not appear at all and cannot be accessed.  This makes the variable <em>local</em> to the <em>scope</em> in which it is placed.</p>
<p>Local variables convenient for temporarily holding variables over a short range of events, such as to calculate an average value (where a temporary 'sum' variable may be necessary).  It also helps keep the project simple, since it prevents the need to create more global variables, which appear everywhere in the project even if they are not needed everywhere.</p>
<p>The scope of local variables is designed to mimic how the scope of variables works in real programming languages.</p>
<h3>Static and constant variables</h3>
<p>By default, local variables reset to their initial value whenever entering their scope (usually every tick), like local variables in programming languages.  If the variable is marked <em>static</em> in the <a href="#anchor-55">Event Variable dialog</a> it will persist its value permanently, like a global variable.</p>
<p>Both global and local variables can be marked <em>constant</em>.  This makes them read-only: they can be retrieved and compared, but not changed.</p>
<a name="anchor-170"></a><h3>4.5.11 Breakpoints</h3>
Breakpoints are an advanced feature that allow you to pause execution of the event sheet on a specific <a href="#anchor-74">event</a>, <a href="#anchor-76">condition</a> or <a href="#anchor-77">action</a> when running in the <a href="#anchor-169">debugger</a>. This can be a significant aid to debugging, since the full capabilities of the debugger can be used while stepping through events, conditions and actions one-by-one.<p></p>
<p><em>Note: breakpoints are not available in the Free edition.</em></p>
<a name="h2a0"></a><h3 id="h2ix0">Setting a breakpoint</h3>
<p>Breakpoints can be toggled on and off for the selected event block, condition or action by right-clicking on them, using the <em>Events</em> tab of the <a href="#anchor-38">ribbon</a>, or pressing the <strong>F3</strong> <a href="#anchor-64">keyboard shortcut</a>. Breakpoints can also be toggled while debugging.</p>
<p>When a breakpoint is set on an event, condition or action, a breakpoint icon appears beside it.</p>
<p><img width="283" height="67" class="article-image" src="./manual_files/setbreakpoint.png" alt="A breakpoint on an event"><!--imgend--><br>
<a name="h2a1"></a></p>
<h3 id="h2ix1">Pausing on a breakpoint</h3>
<p>When running the <a href="#anchor-169">debugger</a>, the game will automatically pause <em>just before</em> it runs an event, condition or action with a breakpoint.</p>
<p>For events, this means it pauses just before it tests the first condition. This means a top-level event with a breakpoint will pause every tick, since the event engine reaches it every tick to test its conditions. It is usually more useful to place event breakpoints on <a href="#anchor-128">sub-events</a>, since they will only pause when the parent events have been run. When paused on a breakpoint, the event has a dashed outline and the icon changes to an arrow.</p>
<p><a href="./manual_files/hitbreakpoint.png" target="_blank"><img width="578" height="123" class="article-image thumb-img" src="./manual_files/hitbreakpoint.png" alt="Hitting an event breakpoint"></a></p>
<div class="full-size-img"><a href="./manual_files/hitbreakpoint.png" target="_blank">Open full size image</a></div><a href="./manual_files/hitbreakpoint.png" target="_blank"> ⇗</a><!--imgend--><br>
For conditions, this means it pauses just before it tests the condition. Since the condition has not yet been tested, the debugger does not know whether the condition will return true or false; you must resume execution to be able to tell. Note that Construct 2 bails out of events early if any condition is false. This means a breakpoint on the second condition won't pause the game if the first condition is false, since Construct 2 will immediately skip to checking the next event. When paused on a condition, it is also indicated with a dashed outline, green arrow and also a changed background color.<p></p>
<p><img width="562" height="106" class="article-image" src="./manual_files/hitconditionbreakpoint.png" alt="Hitting a condition breakpoint"><!--imgend--><br>
For action, this means it pauses just before the action runs. Placing a breakpoint on the first action in an event is often more useful than placing a breakpoint on the event itself, since it will only pause when all the conditions have been met and before any actions have run, as opposed to just before it starts checking any conditions. When paused on an action, it is indicated similarly to a condition.</p>
<p><img width="554" height="106" class="article-image" src="./manual_files/hitactionbreakpoint.png" alt="Hitting an action breakpoint"><!--imgend--><br>
<a name="h2a2"></a></p>
<h3 id="h2ix2">Continuing execution</h3>
<p>When paused on a breakpoint, the <a href="#anchor-169">debugger</a> can be used as normal to inspect or edit values. However the <em>Pause</em> and <em>Step</em> buttons change in to <strong>Continue</strong> and <strong>Next</strong>.</p>
<p>Pressing <strong>Continue</strong> resumes until the next breakpoint is hit. Remember you can still toggle other breakpoints while paused on a breakpoint.</p>
<p>Pressing <strong>Next</strong> will step to the next event, condition or action in sequence in the event sheet. Alternatively, press <strong>F10</strong> with the browser window focused. This is useful for stepping through an event action-by-action and watching what happens in the debugger's inspector.</p>
<a name="h2a3"></a><h3 id="h2ix3">Limitations</h3>
<p>Unfortunately due to the architecture of the Construct 2 engine, breakpoints cannot be placed in the following locations:</p>
<ul>
<li>Anywhere inside a triggered event, including any sub-events to a triggered event</li>
<li>Anywhere inside a looping event (such as <em>Repeat</em> or <em>For each</em>), including any sub-events to a looping event</li>
</ul>
<p>In other words, only non-looping events which are checked every tick can have breakpoints set on them, or be stepped in to.</p>
<a name="h2a4"></a><h3 id="h2ix4">Using breakpoints</h3>
<p>Breakpoints can be incredibly useful to learn more about how your own events work and to help track down problems. They may take some getting used to in order to get the most out of them, but once familiar they can be indispensable.</p>
<p>It is especially useful to have a multi-monitor setup when using breakpoints, or with the debugger in general. This allows you to have Construct 2 showing which event it has reached on one screen, and the game running on another screen.<a name="anchor-141"></a></p>
<h2>4.6 Files</h2>
Any external files can also be imported to your project via the <a href="#anchor-39">Project Bar</a>.  This is useful for including any other resources your project might need, such as videos, additional images, JSON data, XML data, text data, documents, or other general files you might want to let the user download.<p></p>
<p>For ideas on uses for project files and possible workflows, see the tutorial <a href="http://www.scirra.com/tutorials/328/using-project-files-in-construct-2" target="_blank">Using project files in Construct 2 ⇗</a>.</p>
<p>Files can be imported by <strong>right-clicking</strong> the <strong>Files</strong> folder in the Project Bar and selecting <strong>Import Files</strong>.</p>
<p><img width="184" height="146" class="article-image" src="./manual_files/importfiles.png" alt="Importing project files."><!--imgend--><br>
By default you can add any kind of file to the project, but you can also set the file filter to only show text-based files if those are the kinds of files you are looking for.</p>
<p>Importing project files has the following effects:</p>
<ol>
<li>The file is copied to your project folder, or stored inside the .capx file.  (It is not referenced from its current location on disk, so if you change the original file, it is not updated in the project.)</li>
<li>When previewing, the file is also accessible from the preview server (<em>localhost</em>), which helps you test the use of project files.</li>
<li>The file is <a href="#anchor-122">exported</a> with your project.</li>
<li>When published, the file is also cached for offline use alongside the rest of the project.  For more information see the tutorial <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games in Construct 2 ⇗</a>.</li>
</ol>
<p>Project files can also be AJAX requested at runtime using the <a href="#anchor-107">AJAX object</a>'s <em>Request project file</em> action.  This is especially useful for loading XML or JSON data at runtime.</p>
<a name="h2a0"></a><h3 id="h2ix0">MIME types</h3>
<p>For project files to load correctly after exporting, be sure to <a href="#anchor-168">set up the right MIME types</a> on the server.<a name="anchor-84"></a></p>
<h2>4.7 Sounds &amp; Music</h2>
Sounds and Music in Construct 2 are audio files.  Any sound files the project uses will be exported with the project.  Because browser makers cannot agree on a single format for the web, these must be encoded in to <strong>two</strong> formats: <strong>Ogg Vorbis</strong> (.ogg) and <strong>MPEG-4 AAC</strong> (.m4a).<p></p>
<p>To import and play back audio in Construct 2, the following steps are required:</p>
<ol>
<li>Import sounds by right-clicking the <strong>Sounds</strong> or <strong>Music</strong> folders in the <a href="#anchor-39">Project Bar</a> and selecting <strong>Import sounds</strong> or <strong>Import music</strong>.</li>
<li>Import audio via the <a href="#anchor-52">Import Audio dialog</a>.</li>
<li>Add the <a href="#anchor-109">Audio</a> object to the project and add events to play back audio.</li>
</ol>
<p>For more information on audio support in Construct 2, see the information in the section on the <a href="#anchor-52">Import Audio dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">MIME types</h3>
<p>In order for your server to send audio files correctly, it must be <a href="#anchor-168">set up with the correct MIME types</a>. If the server sends the wrong MIME types, audio may not play in some browsers.<a name="anchor-86"></a></p>
<h1>5. Behavior Reference</h1>
<p>This section provides a reference of all the official <a href="#anchor-72">behaviors</a> that come with Construct 2.  Each has an overview of its use, a list of its properties, and a detailed list of the actions, conditions and expressions specific to that behavior.  Behaviors add their actions, conditions and expressions to the object they are added to, appearing alongside the object's own features in the <a href="#anchor-51">Add condition/action dialog</a> and <a href="#anchor-59">Expressions panel</a>.</p>
<p>Behaviors can be added and removed from objects via the <a href="#anchor-40">Properties Bar</a>, which opens the <a href="#anchor-57">Object Behaviors dialog</a> and <a href="#anchor-49">Add Behavior dialog</a>.</p>
<h3>Custom controls</h3>
<p>By default, user-controlled movement behaviors use a standard set of controls (usually based around the arrow keys).  To change these, set the <strong>Default controls</strong> property to <strong>No</strong>, and set up some events using the <strong>Simulate control</strong> action.  For an example, see the <em>Platform 4 (custom controls).capx</em> example in the Examples folder in Construct 2's install directory.  It uses the following events to change Platform's arrow key and shift controls to W, A and D:</p>
<p><img src="./manual_files/platformcustomcontrols.png" alt="Platform custom controls" width="467" height="137"></p>
<p>The <em>Simulate control</em> action does not have to be used with keyboard input.  For example, it can be used with touch input to create <a href="https://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">on-screen touch controls ⇗</a>, or with <a href="#anchor-143">Gamepad</a> input.  Alternatively, you can set up events to automatically control objects with the <em>Simulate control</em> action.  This allows you to set up computer-controlled enemies or non-player characters (NPCs), sometimes loosely referred to as "AI".</p>
<a name="anchor-87"></a><h2>5.1 8 direction</h2>
The <strong>8 Direction behavior</strong> allows an object to be moved up, down, left, right and on diagonals, controlled by the arrow keys by default.  It is often useful for controlling the player in a top-down view game.  It can also be set to 4 directions or simple up/down or left/right movement which is useful for paddles or sliders.<p></p>
<p>The 8 Direction behavior is blocked by any objects with the <a href="#anchor-104">Solid</a> behavior.</p>
<p>To set up custom or automatic controls, see the <a href="#anchor-86">behavior reference summary</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">8 Direction properties</h3>
<p><strong>Max speed</strong><br>
The maximum speed the object can travel at in any direction, in pixels per second.</p>
<p><strong>Acceleration</strong><br>
The rate the movement accelerates at, in pixels per second per second.  When reversing against the current movement, acceleration and deceleration both contribute to slowing down.</p>
<p><strong>Deceleration</strong><br>
The rate the movement decelerates to rest when not being moved, in pixels per second per second.  When reversing against the current movement, acceleration and deceleration both contribute to slowing down.</p>
<p><strong>Directions</strong><br>
Set how many directions the movement can move in.  By default it is <em>8 Directions</em>, allowing movement on diagonals.  <em>4 directions</em> prevents movement on diagonals, and <em>Up &amp; down</em> or <em>Left &amp; right</em> only allows movement along a single axis.</p>
<p><strong>Set angle</strong><br>
Whether or not the movement should also affect the objects angle.  <em>360 degree (smooth)</em> will always set the object's angle to the current angle of motion.  <em>45-degree intervals</em> will set the object's angle to 8 possible directions.  <em>90-degree intervals</em> will set the object's angle to 4 possible directions.  <em>No</em> means the behavior will not set the object's angle at all, which is useful if you want to control this yourself with events (e.g. to make the object point towards the mouse cursor).</p>
<p><strong>Default controls</strong><br>
If <em>Yes</em>, movement is controlled by the arrow keys on the keyboard.  Set to <em>No</em> to set up custom controls using the <em>Simulate control</em> action.  For more information see <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a>.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<a name="h2a1"></a><h3 id="h2ix1">8 Direction conditions</h3>
<p><strong>Compare speed</strong><br>
Compare the object's current speed in pixels per second.</p>
<p><strong>Is moving</strong><br>
True if the object has a non-zero speed (is not stopped).  Invert to test if the object is stopped.</p>
<a name="h2a2"></a><h3 id="h2ix2">8 Direction actions</h3>
<p><strong>Reverse</strong><br>
Invert the direction of motion.  Useful as a simple way to bounce the object off an obstacle.</p>
<p><strong>Set acceleration</strong><br>
<strong>Set deceleration</strong><br>
<strong>Set max speed</strong><br>
These set the corresponding properties, described under <em>8 Direction properties</em>.</p>
<p><strong>Set enabled</strong><br>
Enable or disable the movement.  If disabled, the movement no longer has any effect on the object.</p>
<p><strong>Set ignoring input</strong><br>
Set whether input is being ignored.  If input is ignored, pressing any of the control keys has no effect.  However, unlike disabling the behavior, the object can continue to move.</p>
<p><strong>Set speed</strong><br>
Set the current speed the object is moving at, in pixels per second.</p>
<p><strong>Set vector X</strong><br>
<strong>Set vector Y</strong><br>
Set the X and Y components of the movement, in pixels per second.</p>
<p><strong>Simulate control</strong><br>
Simulate one of the movement controls being held down.  Useful when setting <em>Default controls</em> to <em>No</em>.  See <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a> for more information.</p>
<p><strong>Stop</strong><br>
A shortcut for setting the speed to zero.</p>
<a name="h2a3"></a><h3 id="h2ix3">8 Direction expressions</h3>
<p><strong>Acceleration</strong><br>
<strong>Deceleration</strong><br>
<strong>MaxSpeed</strong><br>
Return the corresponding properties, described under <em>8 Direction properties</em>.</p>
<p><strong>MovingAngle</strong><br>
Get the current angle of motion (which can be different to the object's angle), in degrees.</p>
<p><strong>Speed</strong><br>
Get the current object's movement speed, in pixels per second.</p>
<p><strong>VectorX</strong><br>
<strong>VectorY</strong><br>
Get the object's current speed on each axis, in pixels per second.  For example, if the object is moving to the left at 100 pixels per second, <em>VectorX</em> is -100 and <em>VectorY</em> is 0.<a name="anchor-88"></a></p>
<h2>5.2 Anchor</h2>
The <strong>Anchor behavior</strong> is useful for automatically positioning objects relative to the window size.  This is useful for supporting multiple screen sizes.  For more information on features to support multiple screen sizes, see the tutorial <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">Supporting multiple screen sizes ⇗</a>.<p></p>
<p>Objects using the Anchor behavior should also be placed on a <a href="#anchor-85">layer</a> with its parallax set to 0, 0.  Otherwise as the game scrolls the objects may "lag" behind the screen.</p>
<a name="h2a0"></a><h3 id="h2ix0">Positioning objects relative to the window size</h3>
<p>In the top-left of the <a href="#anchor-43">Layout View</a>, a dotted outline represents the default size of the game window.  Anchored objects should be positioned inside the dotted window area, as shown below.</p>
<p><img width="547" height="333" class="article-image" src="./manual_files/anchorpositioning.png" alt="Positioning some objects with the Anchor behavior."><!--imgend--><br>
Now if the window is resized during preview, the objects maintain their relative positions, as shown below:</p>
<p><img width="421" height="491" class="article-image" src="./manual_files/anchorresized.png" alt="Anchor responding to window size."><!--imgend--><br>
This is useful for interface elements like notifications and heads-up displays (HUDs).</p>
<a name="h2a1"></a><h3 id="h2ix1">Relative positioning</h3>
<p>The <strong>Left edge</strong> and <strong>Top edge</strong> position the object relative to the window corners, without changing the object size.  For example, if the <em>Left edge</em> is set to <em>Window right</em>, the object will always stay the same distance from the <em>right</em> edge of the window.</p>
<p>The <strong>Right edge</strong> and <strong>Bottom edge</strong> resize the object relative to the window corners.  For example, if you want a Tiled Background to stretch wider as the window widens, set <em>Right edge</em> to <em>Window right</em>.</p>
<a name="h2a2"></a><h3 id="h2ix2">Anchor conditions, actions and expressions</h3>
<p>The Anchor object has a single action:</p>
<p><strong>Set enabled</strong><br>
Set whether the behavior is enabled or disabled.  If disabled, the behavior will not alter the size or position of the object.<a name="anchor-89"></a></p>
<h2>5.3 Bound to layout</h2>
<p>The <strong>Bound to Layout behavior</strong> simply prevents an object leaving the edge of the layout.  It is most useful on objects which move around but should not leave the layout area.</p>
<p>It has no conditions, actions or expressions, just the following property:</p>
<p><strong>Bound by</strong><br>
Set to <em>Edge</em> to prevent any part of the object leaving the layout.  The object will stop at the position shown below:</p>
<p><img src="./manual_files/boundtoedge.png" alt="Bounding to edge" width="217" height="192"></p>
<p>Set to <em>Origin</em> to only prevent the object's origin leaving the layout.  The result depends on where the origin is placed on the object, but with a centred origin the object will stop in a position similar to the image shown below:</p>
<p><img src="./manual_files/boundtoorigin.png" alt="Bound to origin" width="217" height="192"></p>
<a name="anchor-90"></a><h2>5.4 Bullet</h2>
The <strong>Bullet behavior</strong> simply moves an object forwards at an angle.  However, it provides extra options like gravity and bouncing that allow it to also be used like a bouncing ball.  Like the name suggests it is ideal for projectiles like bullets, but it is also useful for automatically controlling other types of objects like enemies which move forwards continuously.<p></p>
<p>For two examples of the Bullet behavior see the <em>Bouncing balls</em> and <em>Bouncing bullets</em> examples in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Bullet properties</h3>
<p><strong>Speed</strong><br>
The bullet's initial speed, in pixels per second.</p>
<p><strong>Acceleration</strong><br>
The rate of acceleration for the bullet, in pixels per second per second.  Zero will keep a constant speed, positive values accelerate, and negative values decelerate until a stop (the object will not go in to reverse).</p>
<p><strong>Gravity</strong><br>
The force of gravity, which causes acceleration downwards, in pixels per second per second.  Zero disables gravity which is useful for top-down games.  Positive values cause a parabolic path as the bullet is bullet down by gravity.</p>
<p><strong>Bounce off solids</strong><br>
If set to <em>Yes</em>, the bullet will bounce off any objects with the <a href="#anchor-104">Solid</a> behavior.  It will also calculate the angle of reflection to bounce off realistically depending on the object's shape and angle.</p>
<p><strong>Set angle</strong><br>
If set to <em>No</em>, the behavior will never change the object's angle.  If set to <em>Yes</em>, the behavior always sets the object angle to the angle of motion.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<a name="h2a1"></a><h3 id="h2ix1">Bullet conditions</h3>
<p><strong>Compare speed</strong><br>
Compare the current speed of the bullet, in pixels per second.</p>
<p><strong>Compare distance travelled</strong><br>
Compare the total distance the bullet has moved since creation, in pixels.  This does not take in to account altering the object position with other actions like <em>Set position</em>.</p>
<a name="h2a2"></a><h3 id="h2ix2">Bullet actions</h3>
<p><strong>Bounce off object</strong><br>
Make the bullet bounce off an object it has just touched.  Since this requires the bullet have only just touched the object, it is generally only useful in an <em>On collision</em> event.  It will also calculate the angle of reflection to bounce off realistically depending on the object's shape and angle.  If the bullet is not currently overlapping the given object, or is stuck deep inside it, this action will have no effect.</p>
<p><strong>Set acceleration</strong><br>
Set the bullet acceleration in pixels per second per second.</p>
<p><strong>Set angle of motion</strong><br>
Set the angle the bullet is currently moving at, in degrees.</p>
<p><strong>Set distance travelled</strong><br>
Simply changes the counter returned by the <em>DistanceTravelled</em> expression. The counter still increments according to the movement of the object.</p>
<p><strong>Set enabled</strong><br>
Enable or disable the movement.  If disabled, the behavior will stop moving the bullet, but will remember the current speed, acceleration etc. if enabled again.</p>
<p><strong>Set gravity</strong><br>
Set the acceleration caused by gravity, in pixels per second per second.</p>
<p><strong>Set speed</strong><br>
Set the bullet's current movement speed, in pixels per second.</p>
<a name="h2a3"></a><h3 id="h2ix3">Bullet expressions</h3>
<p><strong>Acceleration</strong><br>
Get the bullet's current acceleration in pixels per second per second.</p>
<p><strong>AngleOfMotion</strong><br>
Get the angle the bullet is currently moving at (which can be different to the object's angle), in degrees.</p>
<p><strong>DistanceTravelled</strong><br>
Return the total distance the bullet has moved since creation, in pixels.  This does not take in to account altering the object position with other actions like <em>Set position</em>.</p>
<p><strong>Speed</strong><br>
Get the bullet's current movement speed in pixels per second.<a name="anchor-91"></a></p>
<h2>5.5 Car</h2>
The <strong>Car behavior</strong> allows an object to accelerated forwards and backwards and have steering.  It also has a simple "drift" feature where the object can "skid" around corners (by pointing in a different direction to that it is moving in).  For an example of the Car behavior see the <em>Car behavior</em> example in the <a href="#anchor-148">Start dialog</a>.<p></p>
<p>By default the object is controlled by the arrow keys on the keyboard (Up to accelerate, down to brake, left and right to steer).  To set up custom or automatic controls, see the <a href="#anchor-86">behavior reference summary</a>.</p>
<p>The Car behavior will bounce off any objects with the <a href="#anchor-104">Solid</a> behavior.  The effect on the movement depends on the angle of impact - glancing collisions nudge the car off its current path, whereas head-on collisions stop it more or less dead.  The amount of speed lost depends on the <em>Friction</em> property.</p>
<a name="h2a0"></a><h3 id="h2ix0">Car properties</h3>
<p><strong>Max speed</strong><br>
The maximum speed, in pixels per second, the car can accelerate to.</p>
<p><strong>Acceleration</strong><br>
The rate the car accelerates at, in pixels per second per second.</p>
<p><strong>Deceleration</strong><br>
The rate the car brakes at, in pixels per second per second.</p>
<p><strong>Steer speed</strong><br>
The rate the car rotates at when steering, in degrees per second.</p>
<p><strong>Drift recover</strong><br>
The rate the car recovers from drifts, in degrees per second.  In other words, this is the rate the angle of motion catches up with the object angle.  The angle of motion can never be more than 90 degrees off the object angle.  If the drift recover is greater or equal to the <em>Steer speed</em>, no drifting ever occurs.  The lower the drift recover, the more the car will drift on corners.</p>
<p><strong>Friction</strong><br>
The amount of speed lost when colliding with a solid, from 0 (stop dead) to 1 (speed not affected at all).  For example, to slow the speed down by half when colliding with a solid, set <em>Friction</em> to 0.5.</p>
<p><strong>Set angle</strong><br>
If <em>Yes</em>, the behavior will set the object's angle.  If <em>No</em>, the behavior never changes the object's angle.</p>
<p><strong>Default controls</strong><br>
If <em>Yes</em>, the car movement is controlled by the arrow keys on the keyboard.  Set to <em>No</em> to set custom controls.  For more information see the <a href="#anchor-86">behavior reference summary</a>.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<a name="h2a1"></a><h3 id="h2ix1">Car conditions</h3>
<p><strong>Compare speed</strong><br>
Compare the current speed of the car, in pixels per second.</p>
<p><strong>Is moving</strong><br>
True if the current speed is non-zero.  Invert to test if the car is stopped.</p>
<a name="h2a2"></a><h3 id="h2ix2">Car actions</h3>
<p><strong>Set acceleration</strong><br>
<strong>Set deceleration</strong><br>
<strong>Set drift recover</strong><br>
<strong>Set friction</strong><br>
<strong>Set max speed</strong><br>
<strong>Set steer speed</strong><br>
Set the corresponding properties.  See <em>Car properties</em> for more information.</p>
<p><strong>Set enabled</strong><br>
Enable or disable the movement. If disabled, the movement no longer has any effect on the object.</p>
<p><strong>Set ignoring input</strong><br>
Set whether input is being ignored. If input is ignored, pressing any of the control keys has no effect. However, unlike disabling the behavior, the object can continue to move.</p>
<p><strong>Set speed</strong><br>
Set the current speed the object is moving at, in pixels per second.</p>
<p><strong>Simulate control</strong><br>
Simulate one of the movement controls being held down.  Useful when setting <em>Default controls</em> to <em>No</em>.  See <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a> for more information.</p>
<p><strong>Stop</strong><br>
A shortcut for setting the speed to zero.</p>
<a name="h2a3"></a><h3 id="h2ix3">Car expressions</h3>
<p><strong>Acceleration</strong><br>
<strong>Deceleration</strong><br>
<strong>DriftRecover</strong><br>
<strong>Friction</strong><br>
<strong>MaxSpeed</strong><br>
<strong>SteerSpeed</strong><br>
Return the corresponding properties.  See <em>Car properties</em> for more information.</p>
<p><strong>MovingAngle</strong><br>
Get the current angle of motion (which can be different to the object's angle), in degrees.</p>
<p><strong>Speed</strong><br>
Get the current object's movement speed, in pixels per second.</p>
<p><strong>VectorX</strong><br>
<strong>VectorY</strong><br>
Get the object's current speed on each axis, in pixels per second. For example, if the object is moving to the left at 100 pixels per second, <em>VectorX</em> is -100 and <em>VectorY</em> is 0.<a name="anchor-92"></a></p>
<h2>5.6 Custom movement</h2>
The <strong>Custom Movement behavior</strong> does not directly implement any movement for an object.  Instead, it provides features that make it easier to implement your own "custom" (event-based) movement.<p></p>
<p>The way different movements are made is out of the scope of this manual section.  Instead, it will outline the basics of the Custom Movement behavior and what its features do.  For an example of Asteroids style movement using the Custom Movement behavior, see the <em>Custom movement (asteroids)</em> example in the <a href="#anchor-148">Start dialog</a>.</p>
<p>For many games, the built-in behaviors like Platform and 8 Direction are perfectly sufficient.  Recreating existing behaviors with the Custom Movement should be avoided, since movements are difficult and time consuming to implement correctly.  The built-in behaviours have been thoroughly tested, probably have more features than you imagine (like slope detection in Platform), and are much quicker and easier to use than making your own movement.</p>
<a name="h2a0"></a><h3 id="h2ix0">Overview of custom movements</h3>
<p>Most movements in Construct 2 work by manipulating two values: the speed on the X axis (<em>dx</em>) and the speed on the Y axis (<em>dy</em>).  These are also known as <em>VectorX</em> and <em>VectorY</em> in some other behaviors.  For example, if an object is moving left at 100 pixels per second, <em>dx</em> is -100 and <em>dy</em> is 0.  The object can then be accelerated to the right by adding to <em>dx</em>.  This is also how most of the other movement behaviors that come with Construct 2 work internally (like Platform and 8 Direction).</p>
<p>The Custom Movement behavior stores the <em>dx</em> and <em>dy</em> values for you, and provides features that help easily implement the math and algorithms necessary to make a movement.</p>
<p>Every tick the Custom Movement adjusts the object's position according to the <em>dx</em> and <em>dy</em> values.  This is called a <strong>step</strong>.  The Custom Movement can also use multiple steps per tick, which can help detect collisions more accurately if the object is moving very quickly.  Each step will trigger <em>On step</em>, <em>On horizontal step</em> or <em>On vertical step</em> depending on the <em>Stepping mode</em> property.</p>
<a name="h2a1"></a><h3 id="h2ix1">Custom Movement properties</h3>
<p><strong>Stepping mode</strong><br>
How to step the movement each tick.  The number of steps taken (if not <em>None</em>) depends on the <em>Pixels per step</em> property.<br>
<em>None</em> simply steps the object once per tick according to its velocity.<br>
<em>Linear</em> will step the object in a straight line towards its destination position, triggering <em>On step</em>.<br>
<em>Horizontal then vertical</em> will step the object to its destination first on the X axis (triggering <em>On horizontal step</em>), then on the Y axis (triggering <em>On vertical step</em>).<br>
<em>Vertical then horizontal</em> will step the object to its destination first on the Y axis (triggering <em>On vertical step</em>), then on the X axis (triggering <em>On horizontal step</em>).</p>
<p><strong>Pixels per step</strong><br>
If <em>Stepping mode</em> is not <em>None</em>, this is the distance in pixels of each step towards the destination position each tick.  The default is 5, which means if the object is moving 20 pixels in a tick, it will move in four five-pixel steps.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<a name="h2a2"></a><h3 id="h2ix2">Custom Movement conditions</h3>
<p><strong>Compare speed</strong><br>
Compare the current speed of the movement, in pixels per second.  <em>Horizontal</em> and <em>Vertical</em> compares to the <em>dx</em> and <em>dy</em> speeds respectively, and <em>Overall</em> compares to the magnitude of the vector (<em>dx</em>, <em>dy</em>) (the overall movement speed).</p>
<p><strong>Is moving</strong><br>
True if either <em>dx</em> or <em>dy</em> are not zero.  Invert to test if stopped.</p>
<p><strong>On horizontal step</strong><br>
<strong>On vertical step</strong><br>
Triggered for each step along an axis when <em>Stepping mode</em> is either <em>Horizontal then vertical</em> or <em>Vertical then horizontal</em>.  This can be used to accurately detect collisions with <em>Is overlapping</em>.</p>
<p><strong>On step</strong><br>
Triggered for each step when <em>Stepping mode</em> is <em>Linear</em>.  This can be used to accurately detect collisions with <em>Is overlapping</em>.</p>
<a name="h2a3"></a><h3 id="h2ix3">Custom Movement actions</h3>
<p><strong>Set enabled</strong><br>
Enable or disable the behavior.  If disabled, the behavior will not modify the object's position.</p>
<p><strong>Rotate clockwise</strong><br>
<strong>Rotate counter-clockwise</strong><br>
<strong>Set</strong><br>
Adjust the angle of motion.  This will calculate new values for <em>dx</em> and <em>dy</em> reflecting a new angle of motion with the same overall speed. <strong>NOTE:</strong> if the overall speed is 0, then setting the angle of motion has no effect, because there is no motion. A common mistake is to set the angle of motion then the speed, and find that the angle is not used. Instead simply set the speed first then the angle of motion and it will work as expected.</p>
<p><strong>Accelerate</strong><br>
Accelerate either the overall movement, or movement on a specific axis.</p>
<p><strong>Accelerate toward angle</strong><br>
<strong>Accelerate toward position</strong><br>
Accelerate the movement towards an angle or position.</p>
<p><strong>Push out solid</strong><br>
Only valid when the behavior is currently overlapping an object with the <a href="#anchor-104">solid</a> behavior.  Automatically move the object until it is no longer overlapping the solid.  This has no effect if the object is not currently overlapping a solid.  The following techniques can be used:<br>
<em>Opposite angle</em> reverses (or 'backtracks') the object from its current angle of motion until it is no longer overlapping.<br>
<em>Nearest</em> moves the object in an eight-direction spiral out one pixel at a time until it is no longer overlapping.  The aim is for the object to end up in the nearest free space, but since only eight directions are used it will be an approximation.<br>
<em>Up</em>, <em>down</em>, <em>left</em> and <em>right</em> moves the object along a specific axis until it is no longer overlapping.</p>
<p><strong>Push out solid at angle</strong><br>
Only valid when the behavior is currently overlapping an object with the solid behavior.  Move the object from its current position at a given angle until it is no longer overlapping the solid.  This has no effect if the object is not currently overlapping a solid.</p>
<p><strong>Reverse</strong><br>
Inverts the movement by flipping the signs of <em>dx</em> and <em>dy</em>.</p>
<p><strong>Set speed</strong><br>
Set the current speed in pixels per second either for the horizontal or vertical axes, or the overall movement speed.  Setting horizontal or vertical speeds assigns <em>dx</em> and <em>dy</em> directly.  Setting the overall speed calculates new values for <em>dx</em> and <em>dy</em> such that they reflect the new overall speed while keeping the same angle of motion.</p>
<p><strong>Stop</strong><br>
A shortcut for setting both <em>dx</em> and <em>dy</em> to 0, stopping the movement.</p>
<p><strong>Stop stepping</strong><br>
Only valid in <em>On step</em>, <em>On horizontal step</em> and <em>On vertical step</em>.  Stop the current stepping for this tick.  The object can either go back to its old position (where it was at the start of the tick) or stay at its current position (possibly half way between its start and end positions). Note that in <em>Horizontal then vertical</em> or <em>Vertical then horizontal</em> modes, only the current axis is stopped. The next axis will still continue stepping, unless you also use <em>Stop stepping</em> for that axis as well.</p>
<a name="h2a4"></a><h3 id="h2ix4">Custom Movement expressions</h3>
<p><strong>dx</strong><br>
<strong>dy</strong><br>
Return the movement's <em>dx</em> and <em>dy</em> values, which are the speed in pixels per second on each axis.</p>
<p><strong>MovingAngle</strong><br>
Return the current angle of motion, in degrees, calculated as the angle of the vector (<em>dx</em>, <em>dy</em>).</p>
<p><strong>Speed</strong><br>
Return the current overall speed in pixels per second, calculated as the magnitude of the vector (<em>dx</em>, <em>dy</em>).<a name="anchor-94"></a></p>
<h2>5.7 Destroy outside layout</h2>
<p>The <strong>Destroy Outside Layout behavior</strong> simply automatically destroys an object if it leaves the layout area.  It only destroys the object if it is entirely outside the layout (i.e. no part of its bounding box is inside the layout).  The <em>Destroy Outside Layout</em> behavior has no properties, conditions, actions or expressions.</p>
<p>This behavior is often useful to prevent bullets and other projectiles flying off the layout forever.  For example, without this behavior, if the user shoots some enemies and misses, the bullets could carry on flying off outside the layout forever.  As the games go on, more and more bullets build up over time, all moving further away forever.  This gradually uses up more and more memory and CPU power causing the game to slow down.  This can easily be avoided by adding the <em>Destroy outside layout</em> behavior to the bullets, so they are automatically removed when they leave the layout area.</p>
<a name="anchor-137"></a><h2>5.8 Drag &amp; Drop</h2>
The <strong>Drag &amp; Drop behavior</strong> enables objects to be dragged and dropped either by mouse or touch.  On multi-touch devices, multiple objects can be dragged and dropped at once.<p></p>
<p>An object starts dragging when a mouse click or touch falls inside the object's collision polygon.  It is released when the mouse button is released or the touch ends.</p>
<a name="h2a0"></a><h3 id="h2ix0">Drag &amp; Drop properties</h3>
<p><strong>Axes</strong><br>
Optionally axis-limit the movement, for example only allowing the object to be dragged horizontally or vertically. The default is <em>Both</em>, allowing the object to be dragged anywhere.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<a name="h2a1"></a><h3 id="h2ix1">Drag &amp; Drop conditions</h3>
<p><strong>Is dragging</strong><br>
True if the object is currently being dragged by mouse or touch.</p>
<p><strong>Is enabled</strong><br>
True if the behavior is currently enabled; false if disabled by the <em>Set enabled</em> action.</p>
<p><strong>On drag start</strong><br>
Triggered when the object is clicked or touched inside its collision polygon.</p>
<p><strong>On drop</strong><br>
Triggered when the object is being dragged, and the mouse button is released or the touch ends.</p>
<a name="h2a2"></a><h3 id="h2ix2">Drag &amp; Drop actions</h3>
<p><strong>Set enabled</strong><br>
Enable or disable the Drag &amp; Drop behavior.  If disabled, clicking or touching the object has no effect and the object cannot be dragged.  It also becomes 'transparent' to clicks and touches, meaning other objects underneath it can still be dragged and dropped.  If the object is being dragged when it is disabled, the drag is cancelled, but <em>On drop</em> will not trigger.</p>
<p><strong>Drop</strong><br>
Stop dragging the object if it is currently being dragged.  This also triggers <em>On drop</em>.</p>
<a name="h2a3"></a><h3 id="h2ix3">Drag &amp; Drop expressions</h3>
<p>The Drag &amp; Drop behavior has no expressions.<br>
<a name="anchor-95"></a></p>
<h2>5.9 Fade</h2>
The <strong>Fade behavior</strong> fades objects in and out by changing the object's opacity over time.  By default, it makes an object fade out over 1 second then destroys it.<p></p>
<p>Fades run in the following order.  If any of the times are 0, the step is skipped.</p>
<ol>
<li>The object fades in from invisible to its set opacity, over the <em>Fade in time</em>.</li>
<li>The object remains at its current opacity for the <em>Wait time</em>.</li>
<li>The object fades out to invisible, over the <em>Fade out time</em>.</li>
<li>If <em>Destroy</em> is set to <em>After fade out</em>, the object is then destroyed.</li>
</ol>
<p>For example, with each time set to 1 second, the object will fade in from invisible for 1 second, wait for 1 second, then fade out to invisible for 1 second.</p>
<p>It is recommended to leave <em>Destroy</em> set to <em>After fade out</em>.  If set to <em>No</em>, the object still exists after fading out, but is invisible.  If many objects are using the Fade behavior, this can build up many invisible objects over time, which gradually use more memory and CPU causing the game to slow down.</p>
<a name="h2a0"></a><h3 id="h2ix0">Fade properties</h3>
<p><strong>Activate at start</strong><br>
If <em>Yes</em>, the object will begin fading as soon as it is created. If <em>No</em>, the fade will not run until you use the <em>Start</em> action.</p>
<p><strong>Fade in time</strong><br>
Time, in seconds, to fade in from invisible.  If 0, the fade in is skipped.</p>
<p><strong>Wait time</strong><br>
Time, in seconds, to wait between fade in and fade out.  If 0, the step is skipped.</p>
<p><strong>Fade out time</strong><br>
Time, in seconds, to fade out to invisible.  If 0, the fade out is skipped.</p>
<p><strong>Destroy</strong><br>
If set to <em>After fade out</em>, the object is automatically destroyed after the fade out finishes.  If <em>No</em>, the object is never destroyed by the behavior.  Be sure to destroy objects yourself as necessary, as a build-up of invisible faded-out objects can cause the game to slow down.</p>
<a name="h2a1"></a><h3 id="h2ix1">Fade conditions</h3>
<p><strong>On fade-in finished</strong><br>
<strong>On wait finished</strong><br>
<strong>On fade-out finished</strong><br>
Triggered when each stage of the fade finishes.</p>
<a name="h2a2"></a><h3 id="h2ix2">Fade actions</h3>
<p><strong>Restart fade</strong><br>
Run the entire fade from the beginning again.</p>
<p><strong>Set fade-in time</strong><br>
<strong>Set fade-out time</strong><br>
<strong>Set wait time</strong><br>
Set the corresponding properties described under <em>Fade properties</em>.</p>
<p><strong>Start fade</strong><br>
If <em>Active on start</em> is <em>No</em>, this will begin the fade.</p>
<a name="h2a3"></a><h3 id="h2ix3">Fade expressions</h3>
<p><strong>FadeInTime</strong><br>
<strong>FadeOutTime</strong><br>
<strong>WaitTime</strong><br>
Return the corresponding properties described under <em>Fade properties</em>.<br>
<a name="anchor-96"></a></p>
<h2>5.10 Flash</h2>
<p>The <strong>Flash behavior</strong> makes an object blink by toggling its visibility on and off for a period of time.  It has no properties, conditions or expressions: just the two actions listed below.</p>
<p>Simply adding the Flash behavior to an object does not do anything.  You must use the <em>Flash</em> action to make the object flash.</p>
<h3>Flash conditions</h3>
<p><strong>Is flashing</strong><br>
True if the object is currently within a flash duration.</p>
<p><strong>On flash ended</strong><br>
Triggered when the end of the flash duration is reached, and the object has returned to visible.</p>
<h3>Flash actions</h3>
<p><strong>Flash</strong><br>
Make the object flash by toggling its visibility on and off.  The 'On' time is the duration in seconds the object remains visible.  The 'Off' time is the duration in seconds the object remains invisible.  The object will alternate between these two states for the given duration in seconds.  The object is always set back to visible after the flash duration finishes.</p>
<p><strong>Stop flashing</strong><br>
If the object is currently flashing, this stops the flashing and sets the object back to visible.  If the object is not currently flashing this action has no effect.</p>
<a name="anchor-97"></a><h2>5.11 Jump-thru</h2>
The <strong>Jump-thru behavior</strong> allows the <a href="#anchor-100">Platform</a> behavior to stand on the object, and jump on to it from underneath.  This differs from the <a href="#anchor-104">Solid</a> behavior, which the Platform behavior can stand on, but not jump on to from underneath.  The image below illustrates the difference.<p></p>
<p>Note the Jump-thru behavior <strong>does not support slopes</strong>. Any slopes in your game should use the Solid behavior instead.</p>
<p><img width="473" height="254" class="article-image" src="./manual_files/jumpthru-solid.png" alt="Jumpthru vs. Solid"><!--imgend--><br>
<a name="h2a0"></a></p>
<h3 id="h2ix0">Jump-thru properties</h3>
<p><strong>Initial state</strong><br>
Set whether the behavior is initially enabled or disabled. If disabled, the object no longer acts as if it is a Jump-thru, and the Platform behavior will always fall through it.</p>
<a name="h2a1"></a><h3 id="h2ix1">Jump-thru conditions</h3>
<p><strong>Is enabled</strong><br>
True if the behavior is currently enabled. This can be changed by the <em>Initial state</em> property or the <em>Set enabled</em> action.</p>
<a name="h2a2"></a><h3 id="h2ix2">Jump-thru actions</h3>
<p><strong>Set enabled</strong><br>
Enable or disable the Jump-thru behavior for this object.<a name="anchor-163"></a></p>
<h2>5.12 Line-of-sight</h2>
The <strong>Line-of-sight (LOS) behavior</strong> allows the ability to check if two objects can "see" each other. More precisely, it will check if there are any obstacles blocking a line between the two objects.<p></p>
<p>For an example of the Line-of-sight behavior, see the <em>Line-of-sight</em> example in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Line-of-sight properties</h3>
<p><strong>Obstacles</strong><br>
Whether to use <em>Solids</em> as blocking line-of-sight, or <em>Custom</em>, where the objects blocking line-of-sight must be added using the <em>Add obstacle</em> action.</p>
<p><strong>Range</strong><br>
The maximum distance in pixels that line-of-sight can reach. If an object is further away than this distance, the object will never have line-of-sight to it, even if the intervening space is clear.</p>
<p><strong>Cone of view</strong><br>
The angle of the cone of view in which the object can have line-of-sight to other objects, relative to the current angle of the object. For example if this is 180, then the object can have line-of-sight to any objects anywhere in front of it, but never behind it. If 360, the object can have line-of-sight to objects at any angle.</p>
<p><strong>Use collision cells</strong><br>
Whether to use the <a href="https://www.scirra.com/blog/ashley/6/collision-cell-optimisation-in-r155" target="_blank">collision cells optimisation ⇗</a> when testing line of sight. Usually this is faster, but in some cases over extremely long distances it can be slower.</p>
<a name="h2a1"></a><h3 id="h2ix1">Line-of-sight conditions</h3>
<p><strong>Has LOS to object</strong><br>
Check if the object currently has line-of-sight to another object. For the condition to be true, the object must be within range, within the cone of view, and with no obstacles in the way of a straight line between the two objects. This condition also picks the instances of the chosen object that are in the line of sight.</p>
<p><strong>Has LOS to position</strong><br>
Check if the object currently has line-of-sight to a position in the layout. For the condition to be true, the object must be within range, within the cone of view, and with no obstacles in the way of a straight line between the two objects.</p>
<a name="h2a2"></a><h3 id="h2ix2">Line-of-sight actions</h3>
<p><strong>Add obstacle</strong><br>
If the <em>Obstacles</em> property is <em>Custom</em>, adds an object type to count as an obstruction to line-of-sight.</p>
<p><strong>Clear obstacles</strong><br>
If the <em>Obstacles</em> property is <em>Custom</em>, clears any object types added as obstacles with the <em>Add obstacle</em> action.</p>
<p><strong>Set cone of view</strong><br>
<strong>Set range</strong><br>
Sets the corresponding behavior properties. For more information, see <em>Line-of-sight properties</em>.</p>
<a name="h2a3"></a><h3 id="h2ix3">Line-of-sight expressions</h3>
<p><strong>ConeOfView</strong><br>
<strong>Range</strong><br>
Retrieve the corresponding behavior properties. For more information, see <em>Line-of-sight properties</em>.<a name="anchor-160"></a></p>
<h2>5.13 No Save</h2>
<p>The <strong>No Save</strong> behavior simply causes the object to be omitted from save states when using the <em>Save</em> and <em>Load</em> <a href="#anchor-125">system actions</a>.</p>
<p>Normally <em>all</em> objects are saved and loaded with these actions. Adding the <em>No Save</em> behavior will skip saving any data for the object when saving, and will not affect the object when loading. After a load, all the same objects that were there before the load are still present, and with the same properties.</p>
<p>It is a good idea to add the <em>No Save</em> behavior to objects which don't need to be saved, like scenery and background objects. It can also be used on automatically updated objects, like interface elements and text objects which update their text every tick. This will help make the saves smaller in size, and also complete saving and loading quicker.</p>
<p>For more information see the tutorial <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<p>The <em>No Save</em> behavior is also useful when using <a href="https://www.scirra.com/tutorials/529/how-to-use-continuous-preview" target="_blank">continuous preview ⇗</a>.</p>
<a name="anchor-154"></a><h2>5.14 Pathfinding</h2>
The <strong>Pathfinding</strong> behavior uses the A* pathfinding algorithm to efficiently find a short path around obstacles.  It can either report the path as a list of nodes through expressions, or automatically move the object along the determined path.<p></p>
<p>For examples of how Pathfinding works and is used, search for <strong>Pathfinding</strong> in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">The pathfinding grid</h3>
<p>The pathfinding behavior works based on dividing the layout in to a grid.  Since pixel-perfect pathfinding can be extremely slow to process, dividing the layout in to cells makes the pathfinding enormously more efficient.  The cell size can be set in the behavior property, and the larger it is the more efficient pathfinding is.  However setting a large cell size can cause problems: a cell can only be entirely obstacle or entirely free, and using large cells can close up small gaps.  For example take the following arrangement of obstacles using a cell size of 32:</p>
<p><img width="221" height="226" class="article-image" src="./manual_files/pathfinding-grid.png" alt="Pathfinding grid arrangement"><!--imgend--><br>
It appears that objects should be able to freely move around in between these objects.  However if the cells that the pathfinding behavior marks as obstacle are highlighted in red, we see this:</p>
<p><img width="221" height="226" class="article-image" src="./manual_files/pathfinding-obstacles.png" alt="Pathfinding obstacle map"><!--imgend--><br>
Some of the gaps have been closed off due to the cell size being relatively large compared to the size of the gap.  This will make the pathfinding behavior route paths entirely around the obstacles, and never through them.  We can help fix this by reducing the cell size to 20:</p>
<p><img width="221" height="226" class="article-image" src="./manual_files/pathfinding-smallergrid.png" alt="Pathfinding with a smaller grid"><!--imgend--><br>
Now we can see that the Pathfinding behavior will be able to find routes between these obstacles.  However, the smaller cell size will make the pathfinding more CPU intensive.  Generally, try to use the largest cell size that does not cause problems navigating around obstacles.</p>
<p>The <strong>Cell border</strong> property can adjust how cells are marked as obstacle.  If the border is larger than 0, then cells close to obstacles but not actually touching may also be marked as obstacles, effectively giving an extra "obstacle border".  If the border is negative, cells only just touching an obstacle may <em>not</em> be marked as an obstacle, effectively shrinking the obstacle area inwards.  The image below demonstrates the effect of different cell border values when using a cell size of 20.</p>
<p><img width="460" height="198" class="article-image" src="./manual_files/cell-borders.png" alt="Pathfinding cell border values"><!--imgend--><br>
For best efficiency, <strong>use the same cell size and border</strong> for all objects using the Pathfinding behavior in a layout.  If different objects use different values, then the Pathfinding behavior must generate multiple obstacle grids in memory, and pathfind along them separately.  You should also <strong>avoid pathfinding every tick</strong>, since this will cause extremely high CPU usage and also increase the amount of time it takes for other objects to determine their paths.</p>
<p>The grid of obstacles is only determined once on startup. If objects are moved in the layout, the pathfinding grid is <strong>not</strong> updated, and objects will continue to pathfind as if the objects were in their old positions. To update the entire obstacle grid use the <em>Regenerate obstacle map</em> action, but note this is a very CPU-intense operation and should only be done on one-off occasions. It is much more efficient to update only small parts of it (ideally only the area that has changed), which can be done with the <em>Regenerate region</em> and <em>Regenerate region around object</em> actions.</p>
<p>Note all cells outside the layout area are always obstacles.  Areas outside the layout area cannot be included in the pathfinding grid, since doing so would require an infinite amount of memory.</p>
<a name="h2a1"></a><h3 id="h2ix1">Finding paths</h3>
<p>Calculating a path can take a long time, especially if the cell size is small. To prevent this reducing the game's framerate, the paths are calculated in the background (using a Web Worker).  This means after using the <em>Find path</em> action, the resulting path is <em>not</em> immediately available.  You must wait for the <em>On path found</em> trigger to run.  Only then can you move the object along the path, or access the list of nodes from the behavior's expressions.  The game may continue to run for a fraction of a second in between <em>Find path</em> and <em>On path found</em>.</p>
<p>The result path is a sequence of nodes along the grid.  The image below demonstrates a four-node path (nodes 0 to 3).</p>
<p><img width="221" height="226" class="article-image" src="./manual_files/pathfinding-nodes.png" alt="Pathfinding nodes"><!--imgend--><br>
The nodes can be retrieved (only after <em>On path found</em>) using the <em>NodeCount</em> and <em>NodeXAt/NodeYAt</em> expressions.  Alternatively, the <em>Move along path</em> action can be used to automatically move the object along the nodes, using the speed, acceleration and rotation rate set in the behavior's properties.</p>
<p>Note it may be impossible to find a path, such as trying to navigate to a destination inside a ring of obstacles.  In this case, <em>On failed to find path</em> will be triggered instead of <em>On path found</em>.</p>
<p>If you ask the pathfinding behavior to pathfind to a destination <em>inside</em> an obstacle, it will simply find the nearest clear cell and pathfind to there instead.</p>
<a name="h2a2"></a><h3 id="h2ix2">Pathfinding properties</h3>
<p><strong>Cell size</strong><br>
The cell size, in pixels, of the grid of obstacles.  See above for more details about how this is used.</p>
<p><strong>Cell border</strong><br>
The amount, in pixels, to expand the cell size by when testing for obstacles.  See above for more details about how this is used.</p>
<p><strong>Obstacles</strong><br>
If <em>Solids</em>, the behavior will automatically mark cells touching objects with the <a href="#anchor-104">Solid behavior</a> as being obstacles.  If <em>Custom</em>, you must define which objects are obstacles by using the <em>Add obstacle</em> action on startup.</p>
<p><strong>Max speed</strong><br>
If the <em>Move along path</em> action is used, the maximum speed in pixels per second the object can move at.</p>
<p><strong>Acceleration</strong><br>
If the <em>Move along path</em> action is used, the acceleration rate in pixels per second per second.</p>
<p><strong>Deceleration</strong><br>
If the <em>Move along path</em> action is used, the deceleration rate in pixels per second per second, used when approaching the final node.</p>
<p><strong>Rotate speed</strong><br>
If the <em>Move along path</em> action is used, the rate at which the object can rotate in degrees per second.  Note this can affect the speed of the object: if the rotation speed is low, the object will have to slow down on tight corners.</p>
<p><strong>Rotate object</strong><br>
Whether to automatically set the angle of the object with the behavior to the angle of motion.</p>
<p><strong>Diagonals</strong><br>
Whether paths moving along diagonals are allowed. If disabled, the result nodes along paths will only ever change at 90-degree angles (up, right, down and left). If enabled nodes can move along diagonals as well.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<a name="h2a3"></a><h3 id="h2ix3">Pathfinding conditions</h3>
<p><strong>Compare speed</strong><br>
If moving along a path, compare the current speed of the object in pixels per second.</p>
<p><strong>Diagonals are enabled</strong><br>
True if the <em>Diagonals</em> property allows moving diagonally along cells. This can also be changed with the <em>Set diagonals enabled</em> action.</p>
<p><strong>Is calculating path</strong><br>
True if the object is currently calculating a path in the background.  This is true between the <em>Find path</em> action and the <em>On path found</em> or <em>On failed to find path</em> triggers.</p>
<p><strong>Is cell obstacle</strong><br>
Test if a cell in the obstacle grid is marked as an obstacle.  This is useful for debugging or displaying the obstacle grid.  Note the position is taken in cell co-ordinates rather than layout co-ordinates.</p>
<p><strong>Is moving along path</strong><br>
True after using the <em>Move along path</em> action until <em>On arrived</em> triggers.</p>
<p><strong>On arrived</strong><br>
Triggered after <em>Move along path</em> when the object finally arrives at its destination.</p>
<p><strong>On failed to find path</strong><br>
Triggered after the <em>Find path</em> action if no path can be found to the destination, such as if it is surrounded by a ring of obstacles.</p>
<p><strong>On path found</strong><br>
Triggered after the <em>Find path</em> action once a path has successfully been found to the destination.  The nodes are now available via the <em>NodeCount</em>, <em>NodeXAt</em> and <em>NodeYAt</em> expressions, and the <em>Move along path</em> action can also be used.</p>
<a name="h2a4"></a><h3 id="h2ix4">Pathfinding actions</h3>
<p><strong>Add obstacle</strong><br>
If the <em>Obstacles</em> property is <em>Custom</em>, add an object to mark as an obstacle in the pathfinding grid.  If this is done during the game (after <em>Start of layout</em>), you must also use <em>Regenerate obstacle map</em> for it to take effect.</p>
<p><strong>Add path cost</strong><br>
Add an object to increase the path cost in the pathfinding grid.  This can be used to simulate rough terrain - the behavior will try to find paths around them if possible, unless the route is a major shortcut.  See <strong>Example: Pathfinding path cost</strong> in the Start dialog for a demo.  If this is done during the game (after <em>Start of layout</em>), you must also use <em>Regenerate obstacle map</em> for it to take effect.</p>
<p><strong>Clear cost</strong><br>
Remove all path cost objects added with <em>Add path cost</em>. You must also use <em>Regenerate obstacle map</em> for this to take effect.</p>
<p><strong>Clear obstacles</strong><br>
Remove all obstacle objects added with <em>Add obstacle</em>. You must also use <em>Regenerate obstacle map</em> for this to take effect.</p>
<p><strong>Find path</strong><br>
Start calculating a path to a destination in the layout.  This is processed in the background and the results are not immediately ready after this action; you must wait until the <em>On path found</em> or <em>On failed to find path</em> triggers run before the result is known or the path can be moved along.  If this action is used while <em>Is calculating path</em> is true, the old path is still calculated and the result triggered, but it then immediately begins calculating the new path and will also trigger for that result.</p>
<p><strong>Regenerate obstacle map</strong><br>
Determine whether each cell in the obstacles grid is an obstacle again.  This is a very CPU intensive action and should not be used regularly. If only part of the obstacle map has changed, prefer to use one of the <em>Regenerate region</em> actions. Any changes made by using <em>Add obstacle</em>, <em>Clear obstacles</em>, <em>Add path cost</em> and <em>Clear cost</em> will take effect the next tick after this action. Note this means if you attempt to find a path immediately after this action, the obstacle map won't have been updated yet; add a 'Wait' action with a short delay to make sure the updated map is used in that case.</p>
<p><strong>Regenerate region</strong><br>
<strong>Regenerate region around object</strong><br>
As with <em>Regenerate obstacle map</em>, but only the specified area is updated. This is usually considerably faster than regenerating the entire map. However as with regenerating the entire obstacle map, changes only take effect next tick. <em>Regenerate region</em> takes a rectangle in layout co-ordinates to regenerate. <em>Regenerate region around object</em> similarly regenerates the rectangle in the layout given by an object's bounding box. Note if multiple instances have met the event's conditions, this will regenerate multiple rectangles (one for every picked object).</p>
<p><strong>Set enabled</strong><br>
Set whether the behavior is enabled or disabled.  If disabled, it will not calculate any paths or move the object.</p>
<p><strong>Move along path</strong><br>
Automatically start moving the object along the found path.  This can only be used after <em>On path found</em> - the path is not immediately known after the <em>Find path</em> action.</p>
<p><strong>Set speed</strong><br>
Set the current speed of the object if it is currently moving along its path, in pixels per second. This cannot be negative or greater than the maximum speed of the behavior.</p>
<p><strong>Stop</strong><br>
If the object is moving along its path, causes it to stop.</p>
<p><strong>Set acceleration</strong><br>
<strong>Set deceleration</strong><br>
<strong>Set diagonals enabled</strong><br>
<strong>Set max speed</strong><br>
<strong>Set rotate speed</strong><br>
Set the corresponding behavior properties.  See the property definitions above for more information.</p>
<a name="h2a5"></a><h3 id="h2ix5">Pathfinding expressions</h3>
<p><strong>CurrentNode</strong><br>
When moving along a path, the zero-based index of the node the object is currently moving towards.  This may skip ahead just before the object actually reaches the next node, in order to help it round corners.</p>
<p><strong>MovingAngle</strong><br>
The current angle of motion when moving along a path, in degrees.</p>
<p><strong>NodeCount</strong><br>
The number of nodes in the path that was found. This is only updated after <em>On path found</em>.</p>
<p><strong>NodeXAt</strong><br>
<strong>NodeYAt</strong><br>
Return the position of a node in the path that was found, in layout co-ordinates, using the zero-based index of the node. This is only available after <em>On path found</em>.</p>
<p><strong>Speed</strong><br>
The current speed in pixels per second when moving along a path.</p>
<p><strong>Acceleration</strong><br>
<strong>CellSize</strong><br>
<strong>Deceleration</strong><br>
<strong>MaxSpeed</strong><br>
<strong>RotateSpeed</strong><br>
Return the current values of the behavior properties.  For more information, see the property definitions above.<a name="anchor-161"></a></p>
<h2>5.15 Persist</h2>
<p>The <strong>Persist behavior</strong> makes the object remember its state when going to a different layout, then coming back. If a layout has objects with the Persist behavior, it is also referred to as a <em>persistent layout</em>. For an interactive example of its use, see the <strong>Persistent layouts</strong> example in the <a href="#anchor-148">Start dialog</a>.</p>
<p>Normally if you leave a layout then come back, all non-global objects reset to their initial design in the <a href="#anchor-43">Layout View</a>. However for many games this is undesirable; powerups come back, enemies respawn and return to full health, and so on. Simply adding the Persist behavior to certain objects means that they are restored to the same state you left them in when returning to a layout. Any objects that were previously destroyed remain destroyed; any new objects that were created will come back; and all properties such as instance variables are remembered. This is important for allowing the user to return to previous areas without having to re-play the whole section.</p>
<a name="anchor-98"></a><h2>5.16 Physics</h2>
The <strong>Physics behavior</strong> simulates realistic object physics.  It is powered by Box2D.  For examples of how the behavior works, search for <strong>Physics</strong> in the <a href="#anchor-148">Start dialog</a>.<p></p>
<p>The Physics behavior is relatively complex.  The following tutorials are recommended to gain a basic understanding of how to use the Physics behavior and some important points to know before beginning to use it:<br>
<a href="http://www.scirra.com/tutorials/64/physics-in-construct-2-the-basics" target="_blank">Physics in Construct 2: The basics ⇗</a><br>
<a href="http://www.scirra.com/tutorials/65/physics-in-construct-2-forces-impulses-torque-and-joints" target="_blank">Physics in Construct 2: Forces, impulses, torque and joints ⇗</a><br>
This manual section will not repeat the information in these tutorials.  Instead it will simply describe each feature of the Physics behavior.  The tutorials describe how Physics engines work, what the different types of joints are, the difference between impulses and forces, and so on in case you're not already familiar with them.</p>
<a name="h2a0"></a><h3 id="h2ix0">Using Physics in Construct 2</h3>
<p>The Physics behavior simulates physics separately to the Construct 2 layout.  Construct 2 will try to keep the Physics and Construct 2 "worlds" synchronised if one changes but not the other, but this can be unpredictable.  For example, setting an object's position or angle will cause Construct 2 to teleport the corresponding object in the physics simulation to the object's new position, which does not always properly take in to account collisions.  The same is true of using other Construct 2 behaviors at the same time as Physics.</p>
<p>Therefore it is highly recommended to control Physics objects entirely via the Physics behavior (by setting forces, impulses, torques etc.), rather than trying to manipulate objects by <em>Set position</em>, <em>Set angle</em> etc.</p>
<p>Another consequence is Physics won't respond to objects with the <em>Solid</em> or <em>Jumpthru</em> behaviors.  These behaviors are totally redundant when using Physics and have no effect.  Instead, use the <em>Immovable</em> property.</p>
<a name="h2a1"></a><h3 id="h2ix1">Physics properties</h3>
<p><strong>Immovable</strong><br>
If <em>Yes</em>, simulate the object having infinite mass.  Its density is ignored and it will never move.</p>
<p><strong>Collision mask</strong><br>
<em>Use collision mask</em> uses the object's collision polygon from the <a href="#anchor-48">Image/Animations editor</a> for physics collisions.  If it doesn't have a collision polygon it will use the object's bounding box.<br>
<em>Bounding box</em> ignores the object's collision polygon if any, and for the purposes of Physics collisions considers the object to be a rectangle.<br>
<em>Circle</em> ignores the object's collision polygon if any, and for the purposes of Physics collisions considers the object to be a circle.  This allows objects to smoothly roll along (like for example barrels).  This is especially useful since object's collision polygons is made out of straight lines, so a smooth circle cannot be created that way.</p>
<p><strong>Prevent rotation</strong><br>
Lock the object's angle so physics collisions do not cause it to rotate.</p>
<p><strong>Density</strong><br>
The density of the physics object.  Only used if <em>Immovable</em> is <em>No</em>.  The object mass is calculated as its density multiplied by the area of its collision mask.  The exact density values used are not important and have no specific units - only the relative density is significant (i.e. an object with density 6 will be twice as dense as an object with density 3).</p>
<p><strong>Friction</strong><br>
The friction coefficient of the physics object from 0 (no friction) to 1 (maximum friction).  This adjusts how easily objects move against each other while touching.</p>
<p><strong>Elasticity</strong><br>
The elasticity (also known as <em>restitution</em> or <em>bounciness</em>) of the physics object, from 0 (inelastic, like a rock) to 1 (maximum elasticity, like a rubber ball).  This affects how high objects bounce when hitting the floor.</p>
<p><strong>Linear damping</strong><br>
The rate the object slows down over time while moving, from 0 (no slowdown at all) to 1 (maximum slowdown).</p>
<p><strong>Angular damping</strong><br>
The rate the object slows down over time while spinning, from 0 (no slowdown at all) to 1 (maximum slowdown).</p>
<p><strong>Bullet</strong><br>
Enable enhanced collision detection for fast-moving objects.  This can affect performance, so do not enable it unless the object moves so fast the physics engine's standard collision detection is unreliable.</p>
<p><strong>Initial state</strong><br>
Whether the physics simulation is initially enabled or disabled. If disabled, no physics is processed for the object, and other physics objects can pass through the object as if it were empty space.</p>
<a name="h2a2"></a><h3 id="h2ix2">Physics conditions</h3>
<p><strong>Compare angular velocity</strong><br>
Compare the current angular velocity of the physics body, in degrees per second. A positive value indicates clockwise rotation and a negative value indicates anticlockwise rotation.</p>
<p><strong>Compare mass</strong><br>
Compare the mass of the physics body. This is determined by multiplying the <em>Density</em> by the area of the object's collision polygon.</p>
<p><strong>Compare velocity</strong><br>
Compare the current velocity (speed) of the physics body, in pixels per second. The velocity can be compared on an individual axis, such as just the X axis to compare the horizontal motion, or the overall velocity can be used.</p>
<p><strong>Is enabled</strong><br>
True if the physics behavior is currently enabled. When disabled the physics body is completely removed from the physics simulation, so other physics objects will pass through the object.</p>
<p><strong>Is sleeping</strong><br>
True if the object has been at rest and not moved or been disturbed for a while, so that the physics engine can stop processing it.  Note objects can still be moving imperceptibly which can prevent them from being asleep even when they appear to be stopped.</p>
<a name="h2a3"></a><h3 id="h2ix3">Physics actions: Forces</h3>
<p><strong>Apply force</strong><br>
<strong>Apply force at angle</strong><br>
<strong>Apply force towards position</strong><br>
Apply a force on the object, either at an angle, towards a position, or with custom X and Y axis forces.  Applying a force causes the object to accelerate in the direction of the force.  Forces can be applied from an image point or the object's origin.</p>
<p><strong>Apply impulse</strong><br>
<strong>Apply impulse at angle</strong><br>
<strong>Apply impulse towards position</strong><br>
Apply an impulse on the object, either at an angle, towards a position, or with custom X and Y axis impulses.  Applying an impulse simulates the object being struck, e.g. hit by a bat.  Impulses can be applied from an image point or the object's origin.</p>
<p><strong>Set velocity</strong><br>
Set the object's current velocity directly, providing a speed in pixels per second for the X and Y axes.</p>
<a name="h2a4"></a><h3 id="h2ix4">Physics actions: Global settings</h3>
<p>These actions affect Physics behaviors in general, not just the one it was set for.</p>
<p><strong>Enable/disable collisions</strong><br>
By default, all Physics objects collide with each other.  You can disable collisions between the object and another Physics object so they pass through each other.  This affects all instances of both object types.  Note: enabling collisions again when objects are overlapping can cause instability in the simulation.</p>
<p><strong>Set stepping iterations</strong><br>
Set the number of velocity iterations and position iterations used in the physics engine.  The default is 8 and 3 respectively.  Lower values run faster but are less accurate, and higher values can reduce performance but provide a more realistic simulation.</p>
<p><strong>Set stepping mode</strong><br>
Choose whether the Physics time step uses <em>dt</em> (delta time, for <em>Framerate independent</em>) or a <em>fixed</em> value.  By default it uses a fixed time step to eliminate any randomness or instability coming from <em>dt</em>, ensuring simulations are exactly reproducible every time.  Set to <em>Framerate independent</em> to adjust the time step according to the framerate, which can cause the same simulation to have different results if run twice. Note even when in this mode, the behavior clamps the maximum time step to 1/30 (about 33ms, equivalent to 30 FPS) to prevent the instability that can result from large time steps. For more information see <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a>.</p>
<p><strong>Set world gravity</strong><br>
Set the force of gravity affecting all Physics objects.  By default this is a force of 10 downwards.</p>
<a name="h2a5"></a><h3 id="h2ix5">Physics actions: Joints</h3>
<p><strong>Create distance joint</strong><br>
Fix two physics objects at a given distance apart, as if connected by a pole. An image point can be specified to connect to a specific part of the object. Note that an image point of 0 specifies the center of gravity of the object - if you intend to connect to the object origin, use -1.</p>
<p><strong>Create revolute joint</strong><br>
<strong>Create limited revolute joint</strong><br>
Hinge two physics objects together, so they can rotate freely as if connected by a pin.  Limited revolute joints only allow rotation through a certain range of angles, like the clapper of a bell. An image point can also be specified to connect to a specific part of the object. Note that an image point of 0 specifies the center of gravity of the object - if you intend to connect to the object origin, use -1.</p>
<p><strong>Remove all joints</strong><br>
Remove all joints from the object.  Any objects this object was attached to via joints is also affected.  Note some joints automatically disable collisions between the objects, so you may want to manually disable collisions again after removing joints otherwise overlapping objects will "teleport" apart (as the physics engine will try to prevent them overlapping).</p>
<a name="h2a6"></a><h3 id="h2ix6">Physics actions: Object settings</h3>
<p>These set the corresponding properties.  For more information, see <em>Physics properties</em>.</p>
<a name="h2a7"></a><h3 id="h2ix7">Physics actions: Torque</h3>
<p><strong>Apply torque</strong><br>
<strong>Apply torque towards angle</strong><br>
<strong>Apply torque towards position</strong><br>
Apply a torque (rotational acceleration) to the object, either directly, or towards an angle or position.</p>
<p><strong>Set angular velocity</strong><br>
Set the angular velocity (rate of rotation) directly, in degrees per second.</p>
<a name="h2a8"></a><h3 id="h2ix8">Physics expressions</h3>
<p><strong>AngularVelocity</strong><br>
The current angular velocity (rate of rotation) of the physics object, in degrees per second.</p>
<p><strong>CenterOfMassX</strong><br>
<strong>CenterOfMassY</strong><br>
The position of the center of mass of the physics object, as calculated by the physics engine.  This depends on the <em>collision mask</em> property, and is not necessarily in the middle of the object.</p>
<p><strong>Mass</strong><br>
The mass of the physics object, as calculated by the physics engine.  This is the area of the object's collision mask multiplied by its density.</p>
<p><strong>VelocityX</strong><br>
<strong>VelocityY</strong><br>
The current speed of the physics object, in pixels per second.</p>
<p><strong>AngularDamping</strong><br>
<strong>Density</strong><br>
<strong>Elasticity</strong><br>
<strong>Friction</strong><br>
<strong>LinearDamping</strong><br>
These return the corresponding properties.  For more information, see <em>Physics properties</em>.<a name="anchor-99"></a></p>
<h2>5.17 Pin</h2>
The <strong>Pin behavior</strong> positions an object at a relative distance and angle to another object, giving the impression it has been "pinned" to the object.  For examples, search for <strong>Pin</strong> in the <a href="#anchor-148">Start dialog</a>.<p></p>
<p>Simply adding the Pin behavior to an object does not do anything.  You must use the <em>Pin</em> action to pin the object to another object.</p>
<a name="h2a0"></a><h3 id="h2ix0">Pin conditions</h3>
<p><strong>Is pinned</strong><br>
True if the object is currently pinned to another object.</p>
<a name="h2a1"></a><h3 id="h2ix1">Pin actions</h3>
<p><strong>Pin to object</strong><br>
Pin the object to another object.  The relative distance and angle between the objects at the moment the <em>Pin</em> action is used is remembered.  The <em>Mode</em> parameter chooses how the object is moved in relation to the other object:<br>
<em>Position &amp; angle</em> (default): keep the object at its relative distance and angle to the pinned object.  The object will appear attached and stay in place as the other object moves and rotates.<br>
<em>Position only</em>: as before, but the object angle is not changed; it only maintains its relative position.<br>
<em>Angle only</em>: the object is only rotated relative to the other object, and does not have its position changed.<br>
<em>Rope style</em>: the object is not rotated, but is kept at a maximum distance from the other object.<br>
<em>Bar style</em>: the object is not rotated, but is kept at a fixed distance from the other object.<br>
For more examples, see the <em>Pin rope style.capx</em> and <em>Pin chain style.capx</em> examples in the Examples folder in Construct 2's install directory.</p>
<p><strong>Unpin</strong><br>
Unpin the object, so it is no longer being positioned by the Pin behavior.</p>
<a name="h2a2"></a><h3 id="h2ix2">Pin expressions</h3>
<p><strong>PinnedUID</strong><br>
Get the UID of the object currently pinned to, or -1 if not pinned.  For more information on UIDs, see <a href="#anchor-130">common features</a>.<a name="anchor-100"></a></p>
<h2>5.18 Platform</h2>
The <strong>Platform behavior</strong> implements a side-view "jump and run" style movement.  It supports slopes, moving platforms, "jump-thru" platforms, and arbitrary angles of gravity.  There are several examples of the Platform behavior that can be found in the <a href="#anchor-148">Start dialog</a>.<p></p>
<p>The Platform behavior will land on any objects with the <a href="#anchor-104">Solid</a> or <a href="#anchor-97">Jump-thru</a> behaviors.  Jump-thru is different in that the Platform movement can jump on to a Jump-thru from underneath, whereas jumping in to a solid from underneath causes the player to bounce off.  The image below illustrates the difference.</p>
<p><img width="473" height="254" class="article-image" src="./manual_files/jumpthru-solid.png" alt="Jumpthru vs. Solid"><!--imgend--><br>
By default the Platform movement is controlled by the left and right arrow keys and up arrow to jump.  To set up custom or automatic controls, see the <a href="#anchor-86">behavior reference summary</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Implementing reliable platform movements</h3>
<p>For the most reliable platform movement, it is recommended to use a <strong>invisible rectangle sprite with no animations</strong> with the Platform movement.  Then, the animated player object can be positioned on top of that.  Otherwise, the changing size and collision polygon of the object as its animation plays can interfere with the Platform movement's floor, wall and slope detection, causing a shaking or glitchy movement.  For more information and a complete guide, see the tutorial <a href="http://www.scirra.com/tutorials/253/how-to-make-a-platform-game" target="_blank">How to make a Platform game ⇗</a>.</p>
<a name="h2a1"></a><h3 id="h2ix1">Mirroring the player</h3>
<p>It is not necessary to duplicate all your artwork for the player for facing both left and right.  Instead, simply draw all the player's artwork for facing to the right, and use the Sprite object's <em>Set mirrored</em> action to mirror the player's image.  Set the player mirrored when pressing the movement controls.  An example is shown below.</p>
<p><img width="439" height="91" class="article-image" src="./manual_files/platformmirroring.png" alt="Mirroring for the Platform behavior"><!--imgend--><br>
A common question is how to make the player shoot left and right, since even when mirrored the player will still shoot objects to the right.  To solve this, use the <em>Is mirrored</em> condition, and if it is true, shoot to the left instead.</p>
<a name="h2a2"></a><h3 id="h2ix2">Platform properties</h3>
<p><strong>Max speed</strong><br>
The maximum floor speed in pixels per second.</p>
<p><strong>Acceleration</strong><br>
The horizontal movement acceleration in pixels per second per second.</p>
<p><strong>Deceleration</strong><br>
The horizontal movement deceleration in pixels per second per second.  When moving in the opposite direction to the direction of motion, acceleration and deceleration combine.</p>
<p><strong>Jump strength</strong><br>
The initial vertical speed of a jump in pixels per second when the jump key is pressed.</p>
<p><strong>Gravity</strong><br>
The acceleration caused by gravity, in pixels per second per second.</p>
<p><strong>Max fall speed</strong><br>
The maximum speed in pixels per second the object can accelerate to when in free-fall.</p>
<p><strong>Double jump</strong><br>
If enabled, the player may make one extra mid-air jump before landing on the ground.</p>
<p><strong>Jump sustain</strong><br>
Maximum time in milliseconds that the jump strength is sustained at while the jump control is being held before the effect of gravity takes over. This allows for variable height jumps depending on whether the jump control is tapped or held. For example if set to 200, then the jump velocity is sustained for up to the first 200ms of holding the jump control.</p>
<p><strong>Default controls</strong><br>
If <strong>Yes</strong>, movement is controlled by the left and right arrow keys and the up arrow key to jump.  Set to <em>No</em> to set up custom controls using the <em>Simulate control</em> action.  For more information see <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a>.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<a name="h2a3"></a><h3 id="h2ix3">Platform conditions</h3>
<p><strong>Compare speed</strong><br>
Compare the current speed of the object in pixels per second.</p>
<p><strong>Is by wall</strong><br>
Test if a solid blocking horizontal movement is immediately to the object's left or right.  Jump-thrus do not count as walls.</p>
<p><strong>Is double-jump enabled</strong><br>
True if double jumps are currently enabled. This is set by the <em>Double jump</em> property or <em>Set double-jump</em> action.</p>
<p><strong>Is falling</strong><br>
True if the object is in free-fall.</p>
<p><strong>Is jumping</strong><br>
True if the object is moving upwards.</p>
<p><strong>Is moving</strong><br>
True if the object's speed is non-zero.</p>
<p><strong>Is on floor</strong><br>
True if the object is currently standing on a solid or jump-thru.</p>
<p><strong>On fall</strong><br>
<strong>On jump</strong><br>
<strong>On landed</strong><br>
<strong>On moved</strong><br>
<strong>On stopped</strong><br>
These are <em>animation triggers</em>, which trigger when the platform movement is moving in to each state.  If your object has animations for any of these states, you should set the appropriate animation in each trigger.  This helps save you implementing the logic to detect state transitions yourself.</p>
<a name="h2a4"></a><h3 id="h2ix4">Platform actions</h3>
<p><strong>Fall through</strong><br>
If the player is currently standing on a <a href="#anchor-97">jump-thru</a> platform, this action will make them fall through it.  This is useful for adding an additional control, e.g. down arrow, to jump down from jump-thru platforms.</p>
<p><strong>Set acceleration</strong><br>
<strong>Set deceleration</strong><br>
<strong>Set double-jump</strong><br>
<strong>Set gravity</strong><br>
<strong>Set jump strength</strong><br>
<strong>Set jump sustain</strong><br>
<strong>Set max fall speed</strong><br>
<strong>Set max speed</strong><br>
Set the corresponding properties.  For more information, see <em>Platform properties</em>.</p>
<p><strong>Set angle of gravity</strong><br>
Change the angle of gravity, in degrees.  By default it is 90 (downwards on the screen).  This can interact interestingly with layer rotation.</p>
<p><strong>Set enabled</strong><br>
Enable or disable the Platform movement.  When disabled, the behavior has no effect on the object at all.</p>
<p><strong>Set ignoring input</strong><br>
Set whether input is being ignored. If input is ignored, pressing any of the control keys has no effect. However, unlike disabling the behavior, the object can continue to move, e.g. if in free-fall.</p>
<p><strong>Set vector X</strong><br>
<strong>Set vector Y</strong><br>
Manually set the horizontal and vertical components of motion, in pixels per second.  For example, setting the vector Y to -1000 would cause a jump with strength 1000, which could be useful for implementing springs.</p>
<p><strong>Simulate control</strong><br>
Simulate one of the movement controls being held down.  Useful when setting <em>Default controls</em> to <em>No</em>.  See <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a> for more information.</p>
<a name="h2a5"></a><h3 id="h2ix5">Platform expressions</h3>
<p><strong>Acceleration</strong><br>
<strong>Deceleration</strong><br>
<strong>Gravity</strong><br>
<strong>JumpStrength</strong><br>
<strong>JumpSustain</strong><br>
<strong>MaxFallSpeed</strong><br>
<strong>MaxSpeed</strong><br>
Return the corresponding properties.  For more information, see <em>Platform properties</em>.</p>
<p><strong>GravityAngle</strong><br>
Get the current angle of gravity, in degrees.</p>
<p><strong>MovingAngle</strong><br>
Return the current angle of motion in degrees, which can be different to the object's angle.</p>
<p><strong>Speed</strong><br>
Return the current overall speed in pixels per second.</p>
<p><strong>VectorX</strong><br>
<strong>VectorY</strong><br>
Return the current X and Y components of motion, in pixels per second.<a name="anchor-101"></a></p>
<h2>5.19 Rotate</h2>
<p>The <strong>Rotate behavior</strong> simply makes an object spin.</p>
<h3>Rotate properties</h3>
<p><strong>Speed</strong><br>
The rate of rotation, in degrees per second.  Use a positive value for clockwise rotation and negative for anticlockwise rotation.</p>
<p><strong>Acceleration</strong><br>
The rate the rotation speed changes, in degrees per second per second.  Use a positive value to accelerate clockwise and a negative to accelerate anticlockwise.</p>
<h3>Rotate conditions</h3>
<p>The Rotate behavior has no conditions.</p>
<h3>Rotate actions</h3>
<p><strong>Set acceleration</strong><br>
<strong>Set speed</strong><br>
Set the corresponding properties.  See <em>Rotate properties</em>.</p>
<h3>Rotate expressions</h3>
<p><strong>Acceleration</strong><br>
Return the corresponding <em>Acceleration</em> property.</p>
<p><strong>Speed</strong><br>
Return the current rotating speed, in degrees per second.  A positive value indicates clockwise rotation and a negative value indicates anticlockwise rotation.</p>
<a name="anchor-102"></a><h2>5.20 Scroll to</h2>
The <strong>Scroll To</strong> behavior simply centers the view on the object with the behavior.  It is a shortcut for the <em>Scroll to object</em> <a href="#anchor-125">system action</a>.  However, it also provides a <em>Shake</em> action to shake the screen, and if multiple objects have the Scroll To behavior, it will center the view in between all of them.<p></p>
<p>If you need more advanced scrolling, e.g. limited to certain regions or following the player after a delay, scroll to an invisible object which you control through events.</p>
<p>To scroll, the size of the <a href="#anchor-67">layout</a> must be bigger than the size of the <a href="#anchor-66">window</a>, or the layout's <em>Unbounded scrolling</em> property must be set to <em>Yes</em>.  Otherwise there is nowhere to scroll to and scrolling will have no effect.</p>
<p>Scroll To has no properties, conditions or expressions.</p>
<a name="h2a0"></a><h3 id="h2ix0">Scroll To actions</h3>
<p><strong>Set enabled</strong><br>
Enable or disable the behavior. When disabled, the scrolling will not be affected.</p>
<p><strong>Shake</strong><br>
Shake the screen for a duration of time, by randomly offsetting the scroll position every tick.  The <em>Magnitude</em> is the maximum distance in pixels from the scrolled position the view will be offset.  The <em>Duration</em> is how long the shake will last in seconds.  In <em>Reducing magnitude</em> mode, the <em>Magnitude</em> will gradually reduce to zero by the end of the shake duration.  In <em>Constant magnitude</em> mode, the <em>Magnitude</em> will stay the same throughout the full duration of the shake, ending abruptly.<a name="anchor-177"></a></p>
<h2>5.21 Shadow caster</h2>
The <strong>Shadow caster</strong> behavior marks an object as casting a shadow from a <a href="#anchor-178">Shadow light</a> object. For more information, see the documentation for <em>Shadow light</em>.<p></p>
<p>Shadows are cast from the object's collision polygon, if it has one, otherwise its bounding rectangle.</p>
<a name="h2a0"></a><h3 id="h2ix0">Collision polygon shape</h3>
<p>Objects with the <em>Shadow caster</em> behavior must use <a href="http://en.wikipedia.org/wiki/Convex_and_concave_polygons" target="_blank">convex collision polygons ⇗</a>. Shadows will not render correctly if they use concave polygons. If you need a concave shape, this can always be achieved by placing multiple shadow caster objects next to each other to compose a concave shape out of convex parts.</p>
<a name="h2a1"></a><h3 id="h2ix1">Shadow caster properties</h3>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, the object will not cast a shadow.</p>
<p><strong>Height</strong><br>
The simulated height of the object, which adjusts the length of shadow it casts. If the <em>Shadow light</em> height is less than or equal to the object height, it casts an "infinite" shadow which goes all the way offscreen; if it is higher, it uses the relative heights to calculate how long a shadow to cast. For example two objects with different heights will cast different length shadows.</p>
<p><strong>Tag</strong><br>
A tag for this shadow casting object. A <em>Shadow light</em> object also has a tag, and can be set to only cast shadows from shadow casters with the same or different tags to itself. This can be used to have different <em>Shadow lights</em> casting shadows off different sets of objects, such as to have shadows working at different levels of Z order.</p>
<a name="h2a2"></a><h3 id="h2ix2">Shadow caster conditions</h3>
<p><strong>Compare height</strong><br>
Compare the current height property of the behavior to a value.</p>
<p><strong>Is enabled</strong><br>
True if the behavior is currently enabled so it can cast shadows.</p>
<a name="h2a3"></a><h3 id="h2ix3">Shadow caster actions</h3>
<p><strong>Set enabled</strong><br>
Enable or disable the behavior. If disabled, the object will not cast a shadow.</p>
<p><strong>Set height</strong><br>
Set the height property of the behavior. For more information see <em>Shadow caster properties</em>.</p>
<p><strong>Set tag</strong><br>
Change the tag of the behavior. For more information see <em>Shadow caster properties</em>.</p>
<a name="h2a4"></a><h3 id="h2ix4">Shadow caster expressions</h3>
<p><strong>Height</strong><br>
Return the current height property.</p>
<p><strong>Tag</strong><br>
Return the currently set tag for the behavior.<a name="anchor-103"></a></p>
<h2>5.22 Sine</h2>
The <strong>Sine behavior</strong> can adjust an object's properties (like its position, size or angle) back and forth according to an oscillating <a href="http://en.wikipedia.org/wiki/File:Simple_sine_wave.svg" target="_blank">sine wave ⇗</a>.  This can be used to create interesting visual effects.  Despite the name, alternative wave functions like 'Triangle' can also be selected to create different effects.  A visualisation of the different wave types can be found on <a href="http://en.wikipedia.org/wiki/File:Waveforms.svg" target="_blank">Wikipedia ⇗</a>.<p></p>
<p>For examples of the Sine behavior's different modes, see the <em>Sine behavior - types</em> example in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Sine properties</h3>
<p><strong>Active on start</strong><br>
If <em>No</em>, the behavior will have no effect until the <em>Set active</em> action is used.</p>
<p><strong>Movement</strong><br>
The Sine behavior has eight different modes:<br>
<em>Horizontal</em> moves the object left and right on the X axis<br>
<em>Vertical</em> moves the object up and down on the Y axis<br>
<em>Size</em> makes the object grow and shrink<br>
<em>Width</em> stretches the object wider and narrower<br>
<em>Height</em> stretches the object taller and shorter<br>
<em>Angle</em> rotates the object clockwise and anticlockwise<br>
<em>Opacity</em> oscillates the object opacity.  Note object opacities can never go less than 0 or greater than 100.<br>
<em>Value only</em> does not modify the object.  It simply stores the oscillating value which can be accessed by the <em>Value</em> expression.  This can be useful to create custom effects or modify any other object or behavior property based on the sine behavior.<br>
<em>Forwards/backwards</em> moves the object in a straight line back and forth along the angle the object is facing at, like an angled <em>Horizontal</em> mode.</p>
<p><strong>Wave</strong><br>
The wave function used to calculate the movement.  For a visualisation see <a href="http://en.wikipedia.org/wiki/File:Waveforms.svg" target="_blank">this Wikipedia diagram ⇗</a>.<br>
<em>Sine</em> - the default smooth oscillating motion based on a sine wave.<br>
<em>Triangle</em> - a linear back-and-forth motion.<br>
<em>Sawtooth</em> - linear motion with a jump back to start.<br>
<em>Reverse sawtooth</em> - reverse linear motion with a jump back to start.<br>
<em>Square</em> - alternating between the two maximum values.</p>
<p><strong>Period</strong><br>
The duration, in seconds, of one complete back-and-forth cycle.</p>
<p><strong>Period random</strong><br>
A random number of seconds added to the period for each instance.  This can help vary the appearance when a lot of instances are using the Sine behavior.</p>
<p><strong>Period offset</strong><br>
The initial time in seconds through the cycle.  For example, if the period is 2 seconds and the period offset is 1 second, the sine behavior starts half way through a cycle.</p>
<p><strong>Period offset random</strong><br>
A random number of seconds added to the period offset for each instance.  This can help vary the appearance when a lot of instances are using the Sine behavior.</p>
<p><strong>Magnitude</strong><br>
The maximum change in the object's position, size or angle.  This is in pixels for position or size modes, or degrees for the angle mode.</p>
<p><strong>Magnitude random</strong><br>
A random value to add to the magnitude for each instance.  This can help vary the appearance when a lot of instances are using the Sine behavior.</p>
<a name="h2a1"></a><h3 id="h2ix1">Sine conditions</h3>
<p><strong>Compare magnitude</strong><br>
Compare the current magnitude of the movement.</p>
<p><strong>Compare movement</strong><br>
Compare the current movement property of the behavior.</p>
<p><strong>Compare period</strong><br>
Compare the current period of the movement, in seconds.</p>
<p><strong>Compare wave</strong><br>
Compare the current wave property of the behavior.</p>
<p><strong>Is active</strong><br>
True if the behavior is active.</p>
<a name="h2a2"></a><h3 id="h2ix2">Sine actions</h3>
<p><strong>Set active</strong><br>
Enable or disable the behavior.  When disabled, the behavior does not affect the object at all.</p>
<p><strong>Set cycle position</strong><br>
Set the progress through one cycle of the chosen wave, from 0 (the beginning of the cycle) to 1 (the end of the cycle). For example setting the cycle position to 0.5 will put it half way through the repeating motion.</p>
<p><strong>Set magnitude</strong><br>
Set the current magnitude of the cycle.  This is in pixels when modifying the size or position, and degrees when modifying the angle.</p>
<p><strong>Set movement</strong><br>
Change the movement type of the behavior, e.g. from <em>Horizontal</em> to <em>Size</em>.</p>
<p><strong>Set period</strong><br>
Set the duration of a single complete back-and-forth cycle, in seconds.</p>
<p><strong>Set wave</strong><br>
Change the wave property of the behavior, choosing a different wave function to be used to calculate the movement.</p>
<p><strong>Update initial state</strong><br>
The Sine behavior records the object's initial state upon its creation, and always oscillates relative to that, even if it is deactivated and later activated after the object has been modified. If the object changes and you wish for the Sine behavior to oscillate relative to the new state instead of its state upon creation, use this action to reset the initial state to the object's current state.</p>
<a name="h2a3"></a><h3 id="h2ix3">Sine expressions</h3>
<p><strong>CyclePosition</strong><br>
Return a value from 0 to 1 representing the progress through the current cycle.  For example, exactly half way through a cycle this returns 0.5.</p>
<p><strong>Magnitude</strong><br>
Return the current magnitude of the cycle.  This is in pixels when modifying the size or position, and degrees when modifying the angle.</p>
<p><strong>Period</strong><br>
Return the current period of a single complete back-and-forth cycle in seconds.</p>
<p><strong>Value</strong><br>
Return the current oscillating value.  This will alternate as a positive and negative value centered on zero.  This is useful to create custom effects when in <em>Value only</em> mode.<a name="anchor-104"></a></p>
<h2>5.23 Solid</h2>
The <strong>Solid behavior</strong> makes other behaviors react to the object as if it were an impassable obstacle.  Objects with this behavior are referred to as Solids.  It affects the following behaviors:<p></p>
<ul>
<li><a href="#anchor-87">8 Direction</a>, which is blocked by Solids</li>
<li><a href="#anchor-90">Bullet</a>, which can optionally bounce off Solids</li>
<li><a href="#anchor-91">Car</a>, which bounces off Solids</li>
<li><a href="#anchor-163">Line-of-sight</a>, which by default has line-of-sight obstructed by Solids</li>
<li><a href="#anchor-100">Platform</a>, which can land on Solids.  Platform cannot jump on to solids from underneath - for this, use the <a href="#anchor-97">Jump-thru</a> behavior.</li>
<li><a href="#anchor-154">Pathfinding</a>, which by default uses solids as path obstacles.</li>
</ul>
<p>Note that the <a href="#anchor-98">Physics</a> behavior is <strong>not</strong> affected by Solid objects.  Instead, use the Physics behavior with <em>Immovable</em> set to <em>Yes</em>.</p>
<p>The Solid behavior has no properties, conditions, actions or expressions apart from the <em>Set enabled</em> action. Because of this, it is also known as an attribute.  The Solid behavior is a fundamental attribute in Construct 2, and several other Construct 2 features also interact with Solid objects.  For example, the <a href="#anchor-92">Custom Movement</a> behavior has actions to push the object out of solids.</p>
<a name="h2a0"></a><h3 id="h2ix0">Avoid crushing/trapping objects with Solids</h3>
<p>The behaviors which respond to the Solid behavior usually get stuck if Solid objects crush or otherwise trap the object deep inside the Solid object.  In this case there is no solution for the movement.  The only three options are 1) let the object get stuck, 2) allow the object to move inside solids, or 3) teleport the object to the nearest free space, which in some cases can be quite far away.  Since options 2 and 3 can cause strange glitches if allowed, Construct 2 will deliberately make the object unable to move, and this is the intended behavior.  Therefore, it is up to you to design your games in such a way that the player cannot be crushed or trapped by moving Solid objects.  You should be especially careful when moving Solids up against other Solids.</p>
<p>It is only by moving (or re-enabling) Solids, or using <em>Set position</em>, that objects can become trapped.  If none of the Solids in your game move and you do not "teleport" the player around with <em>Set position</em>, it should be impossible for the player to ever get trapped in solids.</p>
<a name="h2a1"></a><h3 id="h2ix1">Solid properties</h3>
<p><strong>Initial state</strong><br>
Set whether the behavior is initially enabled or disabled. If disabled, the object no longer acts as if it is solid, and objects will be able to pass through it.</p>
<a name="h2a2"></a><h3 id="h2ix2">Solid conditions</h3>
<p><strong>Is enabled</strong><br>
True if the behavior is currently enabled. This can be changed by the <em>Initial state</em> property or the <em>Set enabled</em> action.</p>
<a name="h2a3"></a><h3 id="h2ix3">Solid actions</h3>
<p><strong>Set enabled</strong><br>
Enable or disable Solid for this object. Be careful not to trap objects by enabling the solid when an object is overlapping it; see <em>Avoid crushing/trapping objects with Solids</em>.<a name="anchor-167"></a></p>
<h2>5.24 Timer</h2>
The <strong>Timer</strong> behavior simply triggers its <em>On timer</em> condition regularly or once after a delay. This is like using the system <em>Every X seconds</em> conditions, or the system <em>Wait</em> action, except that times are kept for each instance individually. The rate of <em>On timer</em> triggering is affected by the time scale. The timer behavior is a more convenient alternative to adding <em>dt</em> to an instance variable every tick.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Tags</h3>
<p>A single Timer behavior can keep track of multiple timers. To distinguish between then, a <em>tag</em> is used. A tag is simply a string, which can be anything. For example, starting a timer with tag "attack" will trigger <em>On timer "attack"</em>, but not <em>On timer "defend"</em>.</p>
<p>When a timer is stopped, or after a one-off timer triggers, it no longer exists and the timer expressions cannot be used to retrieve any information about it.</p>
<a name="h2a1"></a><h3 id="h2ix1">Timer conditions</h3>
<p><strong>On timer</strong><br>
Triggers either regularly, or once off, after a timer that was started with the same tag has reached its duration.  <strong>NOTE:</strong> this trigger can fire with multiple instances picked, if their timers all reach their time in the same tick. This can sometimes work unexpectedly if the actions expect there to be just one instance picked. The workaround is to add a <em>For each</em> condition after this trigger to ensure the actions run once per instance.</p>
<a name="h2a2"></a><h3 id="h2ix2">Timer actions</h3>
<p><strong>Start timer</strong><br>
Set a new timer, or if the timer exists, re-start it with new options. <em>Duration</em> is the time until <em>On timer</em> triggers. If <em>Type</em> is <em>Once</em>, <em>On trigger</em> will fire once and not again until <em>Start timer</em> is used again; if <em>Regular</em>, <em>On timer</em> will keep firing every <em>Duration</em> seconds. The tag allows multiple timers to run at once. The corresponding <em>On timer</em> condition must use the same tag.</p>
<p><strong>Stop timer</strong><br>
Stop a timer with a specific tag. <em>On timer</em> will no longer trigger after this action.</p>
<a name="h2a3"></a><h3 id="h2ix3">Timer expressions</h3>
<p><strong>CurrentTime(tag)</strong><br>
The time in seconds since <em>On timer</em> last triggered, for a timer with a specific tag.</p>
<p><strong>Duration(tag)</strong><br>
The duration in seconds for a timer with a specific tag.</p>
<p><strong>TotalTime(tag)</strong><br>
The time in seconds since a timer with a specific tag was started with the <em>Start timer</em> action. This is only useful with regular timers, since it will always equal the <em>CurrentTime</em> expression for one-off timers (after which they fire and the timer no longer exists, so these expressions return 0).<br>
<a name="anchor-152"></a></p>
<h2>5.25 Turret</h2>
The <strong>Turret behavior</strong> can automatically detect objects within a certain range and rotate towards them.  It optionally includes features to determine when to fire, as well as <em>predictive aim</em>.<p></p>
<p>For examples of the Turret behavior, search for <em>Turret</em> in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">How Turrets work</h3>
<p>Before a turret will target anything, you must use the <em>Add object to target</em> action so the object knows which objects to look for.  Calling this once on the start of layout is sufficient.  You can also give the turret a <a href="#anchor-142">Family</a> to target, allowing it to easily target a collection of different objects.</p>
<p>Once one of these objects enters the Turret's range (the distance between the objects is lower than the <em>Range</em> property), and the turret does not already have a target, then the turret acquires that object as a target.  <em>On target acquired</em> is triggered, and if <em>Rotate</em> is set to <em>Yes</em> the object will start rotating towards the target.  Once the turret is pointing in the direction of the target, <em>On shoot</em> will trigger at the frequency determined by the <em>Rate of fire</em> property.  If you want the turret to fire upon the target, spawn a projectile in the <em>On shoot</em> event.</p>
<p>If the target leaves the turret's range, the turret will lose the target and stop firing.  If another target is already in range, it will immediately acquire that; otherwise it will simply wait until the next target enters range.  Also note if <em>Target mode</em> is set to <em>Nearest</em>, the turret may switch to another target before the current target leaves range, if the new target comes closer than the existing target.</p>
<a name="h2a1"></a><h3 id="h2ix1">Predictive aim</h3>
<p>A useful feature of the Turret behavior is the ability to use <strong>predictive aim</strong>.  For an interactive demonstration of this see <strong>Example: Turret predictive aim</strong> in the <a href="#anchor-148">Start dialog</a>.</p>
<p>Normally turrets aim directly at a target.  This often means moving targets are never hit, because by the time the projectile arrives, the object has moved somewhere else.  Predictive aim solves this by aiming the turret at where the object will be by the time the projectile arrives, <em>if</em> it maintains the same velocity.  In order for this to work, the Turret behavior must have the speed of the projectile set in its <em>Projectile speed</em> property, so it can determine how long it will take for the projectile to arrive.  The projectile must also use a fixed speed, and not have any acceleration or deceleration.</p>
<p>It is still possible for targets to dodge predictive aiming turrets, by changing direction or speed while the projectile travels towards it.  However this is considerably more difficult compared to not using predictive aim, and the overall accuracy of the turret will be significantly improved.</p>
<a name="h2a2"></a><h3 id="h2ix2">Turret properties</h3>
<p><strong>Range</strong><br>
The range, in pixels, that the turret can detect targets in.  Any targets further away from the turret than this distance will be ignored.</p>
<p><strong>Rate of fire</strong><br>
The rate at which to trigger <em>On shoot</em>, when the turret has both acquired a target and rotated to point in the direction of the target.</p>
<p><strong>Rotate</strong><br>
Whether to automatically set the object's angle according to the angle of the turret.</p>
<p><strong>Rotate speed</strong><br>
The speed at which the turret can rotate towards targets, in degrees per second.</p>
<p><strong>Target mode</strong><br>
If <em>First in range</em>, the turret will always track the same target until it leaves range, even if other targets come in range.  If <em>Nearest</em>, the turret may switch to a different target before its current target leaves range, if another target comes closer.</p>
<p><strong>Predictive aim</strong><br>
Whether to enable predictive aim or not.  If enabled, you must set the correct <em>Projectile speed</em> for the predictive aim to work correctly.  For more information see the section on <em>Predictive aim</em> above.</p>
<p><strong>Projectile speed</strong><br>
If <em>Predictive aim</em> is enabled, this must be set to the projectile speed in pixels per second for the predictive aim to work correctly.  For more information, see the section on <em>Predictive aim</em> above.</p>
<p><strong>Initial state</strong><br>
Whether the behavior is initially enabled or disabled. If disabled, it can be enabled at runtime using the <em>Set enabled</em> action.</p>
<p><strong>Use collision cells</strong><br>
Whether to use the <a href="https://www.scirra.com/blog/ashley/6/collision-cell-optimisation-in-r155" target="_blank">collision cells optimisation ⇗</a> when looking for targets that are within range. Usually this is faster, but with extremely long ranges it can sometimes be slower.</p>
<a name="h2a3"></a><h3 id="h2ix3">Turret conditions</h3>
<p><strong>Has target</strong><br>
True if the turret currently has a target acquired.</p>
<p><strong>On shoot</strong><br>
Triggered at the frequency given by the <em>Rate of fire</em> property, when the turret both has a target and has rotated to point towards it.  If the turret is to fire upon the target, you should spawn a projectile from the turret in this trigger.</p>
<p><strong>On target acquired</strong><br>
Triggered when the turret has no target, but acquires one as it enters range.</p>
<a name="h2a4"></a><h3 id="h2ix4">Turret actions</h3>
<p><strong>Acquire target</strong><br>
Target a specific object if it is in range.  If the object is out of range, the action is ignored.  If in range, the turret will switch to targeting the given object, even if it already has a different target.  Note if <em>Target mode</em> is <em>Nearest</em>, the turret may still immediately switch to a nearer target.</p>
<p><strong>Add object to target</strong><br>
Use on startup to tell the turret which objects it should target.  Use a <a href="#anchor-142">Family</a> to conveniently target a whole group of objects.</p>
<p><strong>Clear targets</strong><br>
Remove all targets added using the <em>Add object to target</em> action.  The turret will no longer target any objects at all.</p>
<p><strong>Unacquire target</strong><br>
Tell the turret to forget its existing target, even if it is in range.  This frees it up to target a different object, but it may choose to immediately target the same object again unless the <em>Acquire target</em> action is used immediately afterwards.</p>
<p><strong>Set enabled</strong><br>
Enable or disable the behavior.  If disabled, the behavior will not detect targets, rotate the object, or run any triggers.</p>
<p><strong>Set predictive aim</strong><br>
<strong>Set projectile speed</strong><br>
<strong>Set range</strong><br>
<strong>Set rate of fire</strong><br>
<strong>Set rotate</strong><br>
<strong>Set rotate speed</strong><br>
<strong>Set target mode</strong><br>
Set the corresponding properties.  For more information, see <em>Turret properties</em>.</p>
<a name="h2a5"></a><h3 id="h2ix5">Turret expressions</h3>
<p><strong>Range</strong><br>
<strong>RateOfFire</strong><br>
<strong>RotateSpeed</strong><br>
Retrieve the corresponding properties.  For more information, see <em>Turret properties</em>.</p>
<p><strong>TargetUID</strong><br>
Get the UID of the currently targeted object, if any.  For more information about UIDs, see <a href="#anchor-130">Common Features</a>.<a name="anchor-105"></a></p>
<h2>5.26 Wrap</h2>
The <strong>Wrap behavior</strong> simply repositions an object to the opposite side of the layout or viewport if it leaves the area.  It has no conditions, actions or expressions. The <strong>Wrap to</strong> property allows you to choose whether to wrap the object when it leaves the layout area, or when it leaves the visible viewport.<p></p>
<p>The object only wraps once it is fully outside the area, i.e. no part of its bounding box is in the layout or viewport area.<br>
<a name="anchor-106"></a></p>
<h1>6. Plugin reference</h1>
<p>This section provides a reference of all the official <a href="#anchor-69">plugins</a> that come with Construct 2.  Each has an overview of its use, a list of its properties, and a detailed list of the actions, conditions and expressions specific to that plugin.</p>
<p>Many plugins share common actions, conditions and expressions.  These are described in <a href="#anchor-130">Common features</a> rather than repeating the information for each plugin.</p>
<a name="anchor-130"></a><h2>6.1 Common features</h2>
<p>Many plugins share common <a href="#anchor-76">conditions</a>, <a href="#anchor-77">actions</a> and <a href="#anchor-78">expressions</a>, such as for the object's size and position.  Rather than repeating the descriptions of these for each plugin, they are listed in this section.</p>
<p>Not all objects use all the common features; some may use only a few of the ones listed here.  This is provided as a reference for the features shown to you in Construct 2 rather than describing any particular plugin's features.</p>
<ul>
<li><a href="#anchor-131">Common conditions</a></li>
<li><a href="#anchor-132">Common actions</a></li>
<li><a href="#anchor-133">Common expressions</a></li>
</ul>
<h3>Unique IDs (UIDs)</h3>
<p>All objects at runtime have a unique ID assigned, which is a number starting at 0 for the first <a href="#anchor-71">instance</a> and incrementing by 1 for every other instance.  It is returned by the object's <em>UID</em> expression.  This number can be used to uniquely identify a single instance throughout an entire game.  For example, it can be stored in <a href="#anchor-73">instance variables</a> or <a href="#anchor-83">event variables</a> and later picked again by using the <em>Pick by unique ID</em> condition.</p>
<h3>Index IDs (IIDs)</h3>
<p>All objects at runtime have an index ID assigned, which is the number of the instance within its own <a href="#anchor-70">object type</a>.  It is returned by the object's <em>IID</em> expression.  For example, the first instance in two object types both have the IID 0, the second 1, and so on.  Therefore the IID neither identifies a unique instance like the UID, nor does it persistently refer to the same instance (if IID 0 is destroyed, the next instance becomes IID 0).  However, it can be useful for advanced users taking advantage of <a href="#anchor-78">object expression indexing</a> and the <em>Pick Nth instance</em> <a href="#anchor-124">system condition</a>.</p>
<a name="anchor-131"></a><h3>6.1.1 Common conditions</h3>
The following <a href="#anchor-76">conditions</a> are common to several plugins.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Angle</h3>
<p>Note angles in Construct 2 start with 0 degrees facing right and increment clockwise.</p>
<p><strong>Is between angles</strong><br>
True if the object's current angle is between the two given angles in degrees.  The first and second angles must be in clockwise order.  That is, <em>Is between 0 and 45 degrees</em> is true if the object is in a 45 degree area, but <em>Is between 45 and 0 degrees</em> is true if the object is in the 315 degree area from 45 degrees through 0 degrees.</p>
<p><strong>Is clockwise from</strong><br>
True if the object's current angle is clockwise from the given angle in degrees.  Invert to test if the object is anticlockwise from the given angle.  For example, an object at 45 degrees is clockwise from 0 degrees, but an object at 0 degrees is anticlockwise from 45 degrees.</p>
<p><strong>Is within angle</strong><br>
True if the object's current angle is within a number of degrees of another angle.  This is more reliable than testing if the object's angle exactly equals an angle, e.g. <em>Is within 0.5 degrees of 90 degrees</em> is probably better than <em>Angle equals 90 degrees</em>, since there are many cases an object can be very close to, but not exactly, 90 degrees.</p>
<a name="h2a1"></a><h3 id="h2ix1">Appearance</h3>
<p><strong>Compare opacity</strong><br>
Compare the object's current opacity, from 0 (transparent) to 100 (opaque).</p>
<p><strong>Is visible</strong><br>
True if the object is currently visible.  Invert to test if invisible.  This only tests the visibility set by the <em>Set visible</em> action; it is not affected by the object being offscreen, having 0 opacity, or being on an invisible layer.</p>
<a name="h2a2"></a><h3 id="h2ix2">Instance variables</h3>
<p><strong>Compare instance variable</strong><br>
Compare the current value of one of the object's <a href="#anchor-73">instance variables</a>.</p>
<p><strong>Is boolean instance variable set</strong><br>
Test if one of the object's boolean <a href="#anchor-73">instance variables</a> is set to <em>true</em>.  Invert the condition to test if false.</p>
<p><strong>Pick highest/lowest</strong><br>
Pick the single instance with the highest or the lowest instance variable value of all the instances. Note this still only picks a single instance even if multiple instances have the same highest or lowest value; in this case an arbitrary instance is selected.</p>
<a name="h2a3"></a><h3 id="h2ix3">Misc</h3>
<p><strong>On created</strong><br>
<strong>On destroyed</strong><br>
Triggered for each instance that is created or destroyed during the running of the game.  <em>On created</em> is also trigged for each object already on a layout when the layout starts. For example, a one-shot particle effect could be spawned every time an object is created, and an explosion created every time the object is destroyed.  These conditions are analogous to <em>constructors</em> and <em>destructors</em> in traditional programming languages (commands which run at the creation and destruction of an object).  Be careful not to create an object of the same type in an <em>On created</em> event (e.g. <em>On Sprite2 created: create Sprite2</em>) since this will create an infinite loop and cause the game to hang.</p>
<a name="h2a4"></a><h3 id="h2ix4">Pick</h3>
<p><strong>Pick by unique ID</strong> (UID)<br>
Pick the instance matching a given unique ID (UID) number.</p>
<p><strong>Pick nearest/furthest</strong><br>
Pick the instance either nearest or furthest from a given position in the layout.</p>
<a name="h2a5"></a><h3 id="h2ix5">Size &amp; Position</h3>
<p><strong>Compare width</strong><br>
<strong>Compare height</strong><br>
Compare the object's current size, in pixels.</p>
<p><strong>Compare X</strong><br>
<strong>Compare Y</strong><br>
Compare the object's current position in the layout, in pixels.  Note that objects can be positioned between pixels, e.g. at (5.5, 10.33333).  Because of this it's usually a bad idea to rely on an object being at an exact position.</p>
<p><strong>Is on-screen</strong><br>
True if any part of the object's bounding box is within the screen area.  This is not affected by the object's visibility or opacity.</p>
<p><strong>Is outside layout</strong><br>
True if the entire object's bounding box is outside the layout area.</p>
<a name="h2a6"></a><h3 id="h2ix6">Z Order</h3>
<p><strong>Is on layer</strong><br>
Pick all instances on a given layer, specified either by its name or zero-based index.</p>
<p><strong>Pick top/bottom</strong><br>
Pick either the top-most or bottom-most instance, taking in to account layers and Z index.  For example, the instance at the front of the top most layer is the top instance.<a name="anchor-132"></a></p>
<h3>6.1.2 Common actions</h3>
The following <a href="#anchor-77">actions</a> are common to several plugins.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Angle</h3>
<p>Note angles in Construct 2 start with 0 degrees facing right and increment clockwise.</p>
<p><strong>Rotate clockwise</strong><br>
Rotate the object a number of degrees clockwise.</p>
<p><strong>Rotate counter-clockwise</strong><br>
Rotate the object a number of degrees counter-clockwise.</p>
<p><strong>Rotate toward angle</strong><br>
Rotate the object a number of degrees toward another angle.  If the object is close to the target angle it will not overshoot (it will end up exactly at the target angle).</p>
<p><strong>Rotate toward position</strong><br>
Rotate the object a number of degrees toward a position.  If the object is close to facing the target angle it will not overshoot (it will end up exactly at the target angle).</p>
<p><strong>Set angle</strong><br>
Set the object's angle in degrees, from 0 to 360.  0 degrees is facing right and angles increment clockwise.</p>
<p><strong>Set angle toward position</strong><br>
Set the object's angle to face a position in the layout.</p>
<a name="h2a1"></a><h3 id="h2ix1">Appearance</h3>
<p>Not all objects support the actions relating to effects.  For more information see <a href="#anchor-146">Effects</a>.</p>
<p><strong>Set blend mode</strong><br>
Change the way the object blends with the background by altering the object's <em>Blend mode</em> property.</p>
<p><strong>Set effect enabled</strong><br>
Enable or disable one of the effects added to the object.</p>
<p><strong>Set effect parameter</strong><br>
Change the value of one of the parameters for an effect added to the object.  The parameter to change is specified by its zero-based index, i.e. 0 to change the first parameter, 1 to change the second parameter, and so on.</p>
<p><strong>Set opacity</strong><br>
Set the object's opacity (or 'semitransparency'), from 0 (transparent) to 100 (opaque).</p>
<p><strong>Set visible</strong><br>
Set the object visible or invisible (hidden).</p>
<a name="h2a2"></a><h3 id="h2ix2">Instance variables</h3>
<p><strong>Add to</strong><br>
<strong>Subtract from</strong><br>
Modify a number <a href="#anchor-73">instance variable</a>.</p>
<p><strong>Set</strong><br>
Set a number or text <a href="#anchor-73">instance variable</a>.</p>
<p><strong>Set boolean</strong><br>
Set a boolean <a href="#anchor-73">instance variable</a>, which can hold either a <em>true</em> or <em>false</em> value.</p>
<p><strong>Toggle boolean</strong><br>
Toggle a boolean <a href="#anchor-73">instance variable</a>, which flips it from <em>true</em> to <em>false</em> or vice versa.</p>
<a name="h2a3"></a><h3 id="h2ix3">Misc</h3>
<p><strong>Destroy</strong><br>
Remove the object from the game.</p>
<p><strong>Set from JSON</strong><br>
Set the state of this object from a string of data in JSON format. This must come from a prior use of the <em>AsJSON</em> expression.</p>
<a name="h2a4"></a><h3 id="h2ix4">Size &amp; Position</h3>
<p><strong>Move at angle</strong><br>
Move the object a number of pixels at a given angle in degrees.</p>
<p><strong>Move forward</strong><br>
Move the object a number of pixels forward at the object's current angle.</p>
<p><strong>Set width</strong><br>
<strong>Set height</strong><br>
<strong>Set size</strong><br>
Set the object's current size in pixels.</p>
<p><strong>Set X</strong><br>
<strong>Set Y</strong><br>
<strong>Set position</strong><br>
Set the object's current position in the layout, in pixels.  The origin (0,0) is the top-left of the layout and the Y axis increments downwards.</p>
<p><strong>Set position to another object</strong><br>
Position the object at another object.  It can also be positioned relative to an <a href="#anchor-63">image point</a> on the given object.</p>
<a name="h2a5"></a><h3 id="h2ix5">Z Order</h3>
<p><strong>Move to bottom</strong><br>
<strong>Move to top</strong><br>
Position the object either at the bottom or top of its current layer.</p>
<p><strong>Move to layer</strong><br>
Move the object to the top of a given layer, either by its name or zero-based index.  If the object is already on the given layer this action has no effect.</p>
<p><strong>Move to object</strong><br>
Move the object next to another object in the Z order. You can choose to place the object to be placed in front or behind another object. If the target object is on a different layer, the object will also be moved to the target object's layer and then Z ordered next to it.<a name="anchor-133"></a></p>
<h3>6.1.3 Common expressions</h3>
The following <a href="#anchor-78">expressions</a> are common to several plugins.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Angle</h3>
<p><strong>Angle</strong><br>
The object's current angle, in degrees.  0 degrees is facing right and angles increment clockwise.</p>
<a name="h2a1"></a><h3 id="h2ix1">Appearance</h3>
<p><strong>Opacity</strong><br>
The object's current opacity (semitransparency), from 0 (transparent) to 100 (opaque).</p>
<a name="h2a2"></a><h3 id="h2ix2">Misc</h3>
<p><strong>AsJSON</strong><br>
Save the object state to a string of data in JSON format, and return it. This can be downloaded or otherwise stored, and later the state of the object restored using the <em>Set from JSON</em> action.</p>
<p><strong>Count</strong><br>
The number of <a href="#anchor-71">instances</a> of the <a href="#anchor-70">object type</a>.</p>
<p><strong>PickedCount</strong><br>
The number of instances meeting the event's conditions.  For example, if the event has the condition "Mouse is over Sprite", <em>Sprite.PickedCount</em> will return the number of Sprite instances that the mouse is over.</p>
<p><strong>IID</strong><br>
Return the instance's index ID (IID).  See <a href="#anchor-130">common features</a>.</p>
<p><strong>UID</strong><br>
Return the instance's unique ID (UID).  See <a href="#anchor-130">common features</a>.</p>
<a name="h2a3"></a><h3 id="h2ix3">Size &amp; Position</h3>
<p><strong>BBoxLeft</strong><br>
<strong>BBoxRight</strong><br>
<strong>BBoxTop</strong><br>
<strong>BBoxBottom</strong><br>
Return the layout co-ordinates of the object's axis-aligned bounding box. This is the smallest unrotated box that completely encloses the object, taking in to account any rotation or stretching.</p>
<p><strong>Width</strong><br>
<strong>Height</strong><br>
Return the size of the object in pixels.</p>
<p><strong>ImagePointX</strong><br>
<strong>ImagePointY</strong><br>
Return the position of one of the object's <a href="#anchor-63">image points</a> in layout co-ordinates.  Either the image point's name or its number can be passed.</p>
<p><strong>X</strong><br>
<strong>Y</strong><br>
Return the object's position in the layout, in pixels.  The origin (0,0) is at the top-left of the layout and the Y axis increments downwards.</p>
<a name="h2a4"></a><h3 id="h2ix4">Time</h3>
<p><strong>dt</strong><br>
Return delta-time according to the object's own timescale.  See <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.</p>
<a name="h2a5"></a><h3 id="h2ix5">Z Order</h3>
<p><strong>LayerName</strong><br>
The name of the layer the instance is currently on.</p>
<p><strong>LayerNumber</strong><br>
The zero-based index of the layer the instance is currently on.</p>
<p><strong>ZIndex</strong><br>
Get the zero-based index of the Z order of this instance within its current layer.  0 is the bottom instance, increasing up to the top instance.<a name="anchor-151"></a></p>
<h2>6.2 9-patch</h2>
The <strong>9-patch plugin</strong> allows an image to be resized by stretching or tiling the edges, corners and fill separately.  It is useful for conveniently making resizable windows or user interface elements that can take any size and still appear correctly.  The image below demonstrates how a 9-patch looks compared to a <a href="#anchor-115">Sprite</a> object, which just stretches its entire image.<p></p>
<p><img width="505" height="180" class="article-image" src="./manual_files/9patchdemo.png" alt="9-patch versus Sprite object"><!--imgend--><br>
The 9-patch object uses a single image, but automatically cuts it up in to nine sections using <strong>margins</strong> set in the object properties.  By setting the left, top, right and bottom margins, the object then automatically works out the size and position of all nine sections.</p>
<p><img width="299" height="302" class="article-image" src="./manual_files/9pathdiagram.png" alt="9-patch margins"><!--imgend--><br>
The edge and fill sections can be stretched or tiled independently, allowing for a better appearance when resized.  Take care not to set the margins such that sections overlap or have a zero size, since this may cause the object to display incorrectly.</p>
<p>For an interactive demo of the 9-patch plugin, see <strong>Example: 9-patch object</strong> in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">9-patch properties</h3>
<p><strong>Image</strong><br>
Click the <em>Edit</em> link, or double-click the object in the Layout View, to edit the source image used for the 9-patch.</p>
<p><strong>Left margin</strong><br>
<strong>Right margin</strong><br>
<strong>Top margin</strong><br>
<strong>Bottom margin</strong><br>
The margins of each side of the 9-patch, in pixels.  See the image above for a visualisation of how these margins are used to determine the nine sections.</p>
<p><strong>Edges</strong><br>
Use <em>Stretch</em> to stretch each edge patch to the size of the object. Use <em>Tile</em> to repeat the edge patches instead.</p>
<p><strong>Fill</strong><br>
Use <em>Stretch</em> to stretch the fill patch to the size of the object. Use <em>Tile</em> to repeat the fill patch inside the object instead, like a Tiled Background.  Use <em>Transparent</em> if you don't want a fill image.</p>
<p><strong>Initial visibility</strong><br>
Set whether the object is visible or invisible at the start of the layout.</p>
<p><strong>Hotspot</strong><br>
Choose the position of the hotspot (or origin) of the object relative to its unrotated bounding rectangle.</p>
<p><strong>Seams</strong><br>
To ensure seamless rendering under all circumstances, by default the patches internally overlap by 1 pixel (using the <em>Overlap</em> setting). However for semi-transparent patches this can cause a visible seam; in this case it is preferable to use the <em>Exact</em> setting instead.</p>
<a name="h2a1"></a><h3 id="h2ix1">9-patch conditions, actions and expressions</h3>
<p>The 9-patch object has no conditions, actions or expressions of its own.  See <a href="#anchor-130">Common Features</a> for documentation on the conditions, actions and expressions it shares with other plugins.<a name="anchor-184"></a></p>
<h2>6.3 AdMob</h2>
The <strong>AdMob</strong> plugin can show ads from the AdMob ad service.<p></p>
<p>AdMob is currently only officially supported with the Intel® XDK. However it should also be supported by PhoneGap CLI with the <em>com.cranberrygame.phonegap.plugin.ad.admob</em> plugin, and on PhoneGap Build in future.</p>
<a name="h2a0"></a><h3 id="h2ix0">Setting up</h3>
<p>To get started with the plugin, follow these steps:</p>
<ol>
<li>Go to <a href="http://www.admob.com/" target="_blank">www.admob.com ⇗</a> and sign up an account. (This is free)</li>
<li>Once logged in, create Ad Unit IDs for the ad types you want to use</li>
<li>Add the AdMob object to your Construct 2 project</li>
<li>In the AdMob object's properties, copy and paste in the relevant Ad Unit IDs from your account</li>
<li>Now you can add actions to show ads in your game.</li>
</ol>
<a name="h2a1"></a><h3 id="h2ix1">Exporting</h3>
<p>Remember to set the <em>Test mode</em> property to <em>No</em> before publishing.</p>
<p>Currently only Crosswalk is supported via the <em>Android</em> export option. Once your project is open in the Intel® XDK, follow these steps:</p>
<ol>
<li>Go to the 'Projects' tab (in the top-left)</li>
<li>Under 'CORDOVA 3.X HYBRID MOBILE APP SETTINGS', click 'Plugins and Permissions'</li>
<li>Click 'Third Party Plugins'</li>
<li>Click 'Get Plugin from the Web'</li>
<li>Enter the following details:</li>
</ol>
<p>Name: AdMob Plugin<br>
Plugin ID: com.cranberrygame.phonegap.plugin.ad.admob<br>
Check the 'Plugin is located in the Apache Cordova Plugins Registry' box</p>
<p>Then click 'Import'.</p>
<p>Now your XDK project can support AdMob Ads. The above steps must be done for every XDK project you wish to use AdMob Ads with.</p>
<a name="h2a2"></a><h3 id="h2ix2">AdMob properties</h3>
<p><strong>Overlap</strong><br>
Whether banner ads should overlap the game, or reduce the game viewport size to fit the ad alongside.</p>
<p><strong>Test Mode</strong><br>
Display ads for testing use only. Be sure to set to <em>No</em> before publishing.</p>
<p><strong>Banner ID / Interstitial ID</strong> (for various platforms)<br>
Paste in the Ad Unit IDs from your AdMob account in to these properties.</p>
<a name="h2a3"></a><h3 id="h2ix3">AdMob conditions</h3>
<p><strong>Is showing banner ad</strong><br>
True if currently displaying a banner ad.</p>
<p><strong>Is showing interstitial</strong><br>
True if currently displaying an interstitial ad.</p>
<p><strong>On banner ad received</strong><br>
Triggered after <em>Preload banner ad</em> when the ad has been downloaded and is ready to be displayed.</p>
<p><strong>On interstitial dismissed</strong><br>
Triggered when an interstitial ad is closed.</p>
<p><strong>On interstitial presented</strong><br>
Triggered when an interstitial ad is first displayed.</p>
<p><strong>On interstitial received</strong><br>
Triggered after <em>Preload interstitial</em> when the ad has been downloaded and is ready to be displayed.</p>
<a name="h2a4"></a><h3 id="h2ix4">AdMob actions</h3>
<p><strong>Hide banner ad</strong><br>
Hide any currently showing banner ad.</p>
<p><strong>Preload banner ad</strong><br>
Start downloading a banner ad. When it is ready, <em>On banner ad received</em> is triggered, and then the ad can be displayed without any delay.</p>
<p><strong>Preload interstitial</strong><br>
Start downloading an interstitial ad. When it is ready, <em>On interstitial received</em> is triggered, and then the ad can be displayed without any delay.</p>
<p><strong>Reload banner ad</strong><br>
Reload a currently showing banner ad, replacing it with a different one.</p>
<p><strong>Reload interstitial</strong><br>
Reload a currently showing interstitial ad, replacing it with a different one.</p>
<p><strong>Show banner ad</strong><br>
Show a banner ad at a given position and size.</p>
<p><strong>Show interstitial</strong><br>
Show an interstitial ad which has been preloaded. Alternatively if nothing has been preloaded, it will download an interstitial and then show it when ready.</p>
<a name="h2a5"></a><h3 id="h2ix5">AdMob expressions</h3>
<p>The AdMob object has no expressions.<a name="anchor-107"></a></p>
<h2>6.4 AJAX</h2>
The <strong>AJAX</strong> plugin allows web pages to be requested during the running of the game.  Its name derives from "Asynchronous JavaScript and XML", a technique familiar to most web developers.  The AJAX object is designed for use by web developers already familiar with the technique - this reference will not describe the principles of AJAX itself, only how to use it in Construct 2 with the AJAX object.  Using the AJAX object can sometimes involve custom server-side scripting which is beyond the scope of this manual, but requesting simple static resources like text files is straightforward, as well as project files.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">How to make a request</h3>
<p>The basic usage of the AJAX object consists of:</p>
<ol>
<li>Use the <em>Request</em> action to load a URL.</li>
<li>A moment later after the request completes, <em>On completed</em> triggers.</li>
<li>The <em>LastData</em> expression can be used to access the content of the response.</li>
</ol>
<p>The <em>tokenat</em> <a href="#anchor-126">system expression</a> may be useful to split simple responses.  Alternatively, you could load <em>LastData</em> in to the <a href="#anchor-139">XML plugin</a> to read it as an XML document.</p>
<a name="h2a1"></a><h3 id="h2ix1">Tags</h3>
<p>A different tag can be provided for each request.  This is a simple string you set to tell apart different requests.  For example, on startup you may request both <em>foo.php</em> with tag <em>"foo"</em> and <em>bar.php</em> with tag <em>"bar"</em>.  When the first request completes, <em>On "foo" completed</em> triggers; when the second request completes, <em>On "bar" completed</em> triggers.  Requests can complete in a different order to the order they were made, so without tags it would be impossible to tell which request was completing.</p>
<a name="h2a2"></a><h3 id="h2ix2">Making AJAX requests cross-domain or in preview</h3>
<p>By default, browsers <strong>block AJAX requests across domains</strong>.  This means, for example, a game on <em>scirra.com</em> can request other pages on <em>scirra.com</em>, but cannot request pages on <em>facebook.com</em>.  This is an important security feature of web browsers (it is not specific to Construct 2 or its AJAX object).</p>
<p>Also, when previewing in Construct 2 the game runs on <em>localhost</em>.  This counts as a different domain to the rest of the internet, so typically AJAX requests to <em>any</em> web page will fail during preview, <em>unless</em> the server explicitly allows cross-domain requests.</p>
<p>If you want AJAX requests to your server to work from any domain, or in preview, you can configure it to send the following HTTP header:</p>
<p><strong>Access-Control-Allow-Origin: *</strong></p>
<p>This will enable AJAX requests from any domain, but you should still be aware of the possible security implications of this.  For more information on cross-domain requests see <a href="https://developer.mozilla.org/En/HTTP_access_control" target="_blank">HTTP access control on MDN ⇗</a>.</p>
<a name="h2a3"></a><h3 id="h2ix3">In NW.js</h3>
<p>When exporting desktop applications with NW.js, the AJAX object can also load files from the application folder. Simply use the <em>Request URL</em> action and enter the name of a file in the same directory as the application, e.g. <em>"example.txt"</em>. Note if a project file exists with the same name, this will always load the project file instead.</p>
<a name="h2a4"></a><h3 id="h2ix4">MIME types</h3>
<p>AJAX requests for files on your own server requires that your <a href="#anchor-168">server has the correct MIME types set up</a>.</p>
<a name="h2a5"></a><h3 id="h2ix5">AJAX conditions</h3>
<p><strong>On completed</strong><br>
Triggered when a request with the same tag has completed successfully.  The <em>LastData</em> expression contains the response.</p>
<p><strong>On error</strong><br>
Triggered when a request with the same tag has failed.  This can be for a number of reasons, such as the server being down or the request timing out.  (The <em>LastData</em> expression is not set since there is no response.)</p>
<p><strong>On progress</strong><br>
For long running requests (e.g. downloading a large file), <em>On progress</em> triggers periodically and updates the <em>Progress</em> expression with the state of the request.  This is useful for making progress bars for AJAX requests.</p>
<a name="h2a6"></a><h3 id="h2ix6">AJAX actions</h3>
<p><strong>Override MIME type</strong><br>
In some cases you may wish to interpret the server's response with a different MIME type to the one the server indicates. For example a misconfigured server may return a text file with the wrong character set, and you want to force the response to be interpreted as UTF-8. In this case you could override the MIME type as <em>text/plain; charset=utf-8</em> to avoid garbling the text. This action only applies to the next AJAX request that is made, after which the MIME type will be set back to the default setting of accepting what the server response indicates.</p>
<p><strong>Post to URL</strong><br>
Send a request with data to a URL and retrieve the response.  A tag is provided to match it up with the <em>On completed</em>, <em>On progress</em> and <em>On error</em> triggers.  Construct 2 does not automatically URL encode the post data - use the <em>URLEncode</em> system expression to ensure the data is in the correct format for posting.  Note post data is in the same format as a query string, e.g. "foo=1&amp;bar=2". The method can also be specified: by default it is POST, but for some APIs you may need to change this to PUT, DELETE or another HTTP method.</p>
<p><strong>Request URL</strong><br>
Send a GET request to retrieve the contents of a URL.  A tag is provided to match it up with the <em>On completed</em>, <em>On progress</em> and <em>On error</em> triggers.</p>
<p><strong>Request project file</strong><br>
Request the contents of a <a href="#anchor-141">project file</a>.  A tag is provided to match it up with the <em>On completed</em>, <em>On progress</em> and <em>On error</em> triggers.</p>
<p><strong>Set request header</strong><br>
Set a HTTP header on the next AJAX request that is made. After the next AJAX request all the headers set with this action are cleared again, so it only takes effect once.</p>
<p><strong>Set timeout</strong><br>
Set the amount of time a request has to complete in seconds; if the timeout expires without the request completing successfully, it will instead fail and trigger <em>On error</em>. This action only affects subsequent requests, and does not affect any requests that have already started. If the timeout is set to -1 it restores the default browser timeout.</p>
<a name="h2a7"></a><h3 id="h2ix7">AJAX expressions</h3>
<p><strong>LastData</strong><br>
The contents of the last response.  This is set in the <em>On completed</em> trigger.  If used in a different event, it contains the response of the last completed request.  The <em>tokenat</em> <a href="#anchor-126">system expression</a> may be useful to split simple responses</p>
<p><strong>Progress</strong><br>
Return the progress of the AJAX request in an <em>On progress</em> event.  The progress is represented as a number from 0 to 1, e.g. 0.5 for half completed.<a name="anchor-108"></a></p>
<h2>6.5 Array</h2>
<p>The <strong>Array</strong> object stores lists of values (numbers or text).  It is analogous to arrays in traditional programming languages.</p>
<h3>About Arrays</h3>
<p>Array supports up to three dimensions.  For example, a simple list of ten values would be a 10 x 1 x 1 array.  Note that you should not set a size of 0 on any of the dimensions else the <em>entire</em> array becomes empty; it is correct to have a size of 1 on unused dimensions.</p>
<p>Each element of an array can store a number or some text.  The number or text in an element can be changed with the <em>Set</em> actions, and accessed with the <em>At</em> expression.  For example, a 10 x 10 x 1 array is analogous to a 2D grid with a total of 100 values.  A number could be stored at the position (3, 7) with the action <em>Set at XY</em>, and accessed with <em>Array.At(3, 7)</em>.  Note like the rest of Construct 2, indices are zero-based, so the first element is at 0.  In this example, <em>Array.At(0, 0)</em> would return the first number in the grid.</p>
<p>Array can store either text or a number in any of the elements.  Numbers and text can also be mixed within an array.</p>
<p>Arrays do not automatically resize.  If you access a value outside the array bounds, it returns the number 0.  If you set a value outside the array bounds, it will have no effect.</p>
<h3>Manipulating arrays</h3>
<p>A one-dimensional array, sized N x 1 x 1, serves as a simple list of N values.  The actions in the <em>Manipulation</em> category (e.g. <em>Push</em>, <em>Pop</em>) allow one-dimensional arrays to be used like other data structures.  (These actions work with multidimensional arrays, but are intended for the one-dimensional case.)</p>
<p>For example, the following scheme implements a queue (first in first out, or 'FIFO'):</p>
<ul>
<li>Add new items with <strong>Push front</strong></li>
<li>Retrieve the next value with <em>Array.Back</em></li>
<li>Remove the retrieved value with <em>Pop back</em></li>
</ul>
<p>The following scheme implements a stack (last in first out, or 'LIFO'):</p>
<ul>
<li>Add new items with <strong>Push back</strong></li>
<li>Retrieve the next value with <em>Array.Back</em></li>
<li>Remove the retrieved value with <em>Pop back</em></li>
</ul>
<h3>Array properties</h3>
<p><strong>Width</strong> (X dimension)<br>
<strong>Height</strong> (Y dimension)<br>
<strong>Depth</strong> (Z dimension)<br>
The size of the array.  If you want a one-dimensional array (i.e. a list of values), use A x 1 x 1.  If you want a two-dimensional array (i.e. a grid of values) use A x B x 1.</p>
<h3>Array conditions</h3>
<p><strong>Compare at X</strong><br>
<strong>Compare at XY</strong><br>
<strong>Compare at XYZ</strong><br>
Compare a value at a position in the array.  Indices are zero-based.  All values outside the array return the number 0.  If <em>Compare at X</em> is used, the Y and Z indices are 0.  If <em>Compare at XY</em> is used, the Z index is 0.</p>
<p><strong>For each element</strong><br>
A repeating condition that runs once for each element in the array.  This therefore runs <em>width x height x depth</em> times.</p>
<p><strong>Compare current value</strong><br>
Only valid in a <em>For each element</em> loop, either as a following condition or in a <a href="#anchor-128">sub-event</a>.</p>
<p><strong>Contains value</strong><br>
Searches the entire array to check if any of the elements contains the given value.  For example, you can use this to test if the string <em>"sword"</em> is stored anywhere in the array.</p>
<p><strong>Is empty</strong><br>
Test if the array is empty.  The array is empty when the total number of elements is zero, calculated as <em>width x height x depth</em>.  Therefore the array is empty when any axis has a size of zero.  This can be useful when using Array as a data structure (e.g. when pushing and popping values).</p>
<h3>Array actions</h3>
<p><strong>Clear</strong><br>
Set every element in the array to the number 0.</p>
<p><strong>Set at X</strong><br>
<strong>Set at XY</strong><br>
<strong>Set at XYZ</strong><br>
Write a value at a position in the array.  Indices are zero-based.  Writing to values outside the array has no effect.  If <em>Set at X</em> is used, the Y and Z indices are 0.  If <em>Set at XY</em> is used, the Z index is 0.</p>
<p><strong>Set size</strong><br>
Set the dimensions of the array.  Values are preserved, but if the new array is smaller it is truncated.  If the new array is larger, new elements are set to store the number 0.  If any of the dimensions are 0 the entire array is empty, so usually all the dimensions are at least 1.</p>
<p><strong>Download</strong><br>
Invokes a browser download of a file containing the Array's contents in JSON format.  This is intended for offline development, e.g. creating level editors.</p>
<p><strong>Load</strong><br>
Load the contents of the array from a string in JSON format.  This must have been retrieved from either the <em>Download</em> action or the <em>AsJSON</em> expression.  It could also be retrieved dynamically from the <a href="#anchor-107">AJAX</a> object.</p>
<p><strong>Push</strong><br>
Add a new value either to the beginning (front) or end (back) of an axis.  Since the Array is a 3D cube of values, technically this inserts a new 2D plane of elements all with the given value.  However in 1D arrays this adds a single element, and in 2D arrays it inserts a new row of elements.</p>
<p><strong>Pop</strong><br>
Delete the value at either the beginning (front) or end (back) of an axis.  Since the Array is a 3D cube of values, technically this removes a 2D plane of elements.  However in 1D arrays this removes a single element, and in 2D arrays it removes a whole row of elements.</p>
<p><strong>Insert</strong><br>
Insert a new value at a specific index on an axis.  Since the Array is a 3D cube of values, technically this inserts a new 2D plane of elements all with the given value.  However in 1D arrays this adds a single element, and in 2D arrays it inserts a new row of elements.</p>
<p><strong>Delete</strong><br>
Delete the value at a specific index on an axis.  Since the Array is a 3D cube of values, technically this removes a 2D plane of elements.  However in 1D arrays this removes a single element, and in 2D arrays it removes a whole row of elements.</p>
<p><strong>Reverse</strong><br>
Reverse the order of elements on an axis.  Note that in multidimensional arrays this only reverses one axis.  For example reversing the X axis in a 2D array will reverse the order of the columns while preserving the contents of each column.</p>
<p><strong>Sort</strong><br>
Sorts the order of elements on an axis in ascending order.  Note that in multidimensional arrays this sorts based on the first element on the axis.  For example sorting the X axis in a 2D array will sort the order of the columns based on the elements at Y co-ordinate 0, while preserving the contents of each column.</p>
<h3>Array expressions</h3>
<p><strong>At(X)</strong><br>
<strong>At(X, Y)</strong><br>
<strong>At(X, Y, Z)</strong><br>
Retrieve a value at a position in the array.  Indices are zero-based.  Reading values outside the array returns the number 0.  If the Y or Z indices are not provided then 0 is used.</p>
<p><strong>CurX</strong><br>
<strong>CurY</strong><br>
<strong>CurZ</strong><br>
The current zero-based index for each dimension in a <em>For each element</em> loop.</p>
<p><strong>CurValue</strong><br>
The current value in a <em>For each element</em> loop.  This is a shortcut for <em>Array.At(Array.CurX, Array.CurY, Array.CurZ)</em>.</p>
<p><strong>Width</strong><br>
<strong>Height</strong><br>
<strong>Depth</strong><br>
Return the size of each of the array's dimensions.</p>
<p><strong>Front</strong><br>
Shortcut to access the first value in the array, which is the same as <em>At(0, 0, 0)</em>.</p>
<p><strong>Back</strong><br>
Shortcut to access the last value on the X axis, which is the same as <em>At(Self.Width - 1, 0, 0)</em>.</p>
<p><strong>IndexOf</strong><br>
<strong>LastIndexOf</strong><br>
Searches the array X axis for a given value and returns the index it is found at, or -1 if not found.  <em>IndexOf</em> finds the first matching element, and <em>LastIndexOf</em> finds the last matching element.</p>
<p><strong>AsJSON</strong><br>
Return the contents of the array as a string in JSON format.  This can later be loaded in to the array with the <em>Load</em> action.</p>
<a name="anchor-109"></a><h2>6.6 Audio</h2>
The <strong>Audio</strong> object plays back audio files that have been imported to the project.  It must be inserted to each project that needs to use audio playback.  Audio files can be imported to a project by right-clicking the <strong>Sounds</strong> or <strong>Music</strong> folders in the <a href="#anchor-39">Project Bar</a> and selecting <em>Import...</em>, which brings up the <a href="#anchor-52">Import Audio dialog</a>.  See the relevant sections for more information on the steps involved to import audio files.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Categorise audio files correctly</h3>
<p>It is important to organise audio files appropriately, because audio files in the <strong>Sounds</strong> project folder are downloaded completely before playing, but files in the <strong>Music</strong> folder are streamed. This means if a Music track is accidentally put in the Sounds folder, it would have to download completely (which could take a couple of minutes) before it started playing. However, audio in the Music folder can start playing immediately since it is streamed from the server.</p>
<a name="h2a1"></a><h3 id="h2ix1">Preloading sounds</h3>
<p>The <em>Preload sounds</em> <a href="#anchor-66">project property</a> determines whether sounds (excluding music) are downloaded while the loading bar is showing. Preloading sounds means there is more to download before the game can start, but all sound effects can play immediately once it starts. If sounds are not preloaded, the game starts sooner since it did not need to download any sounds, but sounds will be downloaded on-demand during the game.  In other words, nothing is downloaded until a <em>Play</em> action starts playing an audio file.  Then it starts downloading and will play when finished downloading.  This also helps minimise the bandwidth requirement on the server since unused audio is never downloaded.  However, it can introduce a delay before audio plays for the first time.  The delay on first play is a one-off, because after the first play the sound is already downloaded and can be played immediately if played a second time.</p>
<p>The <em>Preload</em> action can also be used to start downloading an audio file without actually playing it.  This can be done on <em>Start of layout</em> to start downloading a few important sound effects so there is no delay when they are played for the first time when <em>Preload sounds</em> is off. Note that preloading sounds when <em>Preload sounds</em> is <em>Yes</em> has no effect, because by the time the event can run all sounds will have already been loaded.</p>
<p>Music is never preloaded, since music tracks often involve a large download size, and it is not usually important to have music play with as little latency as possible. Music will still stream from the server while playing, but if the latency is important, the <em>Preload</em> action can be used to load it in advance of playing.</p>
<a name="h2a2"></a><h3 id="h2ix2">Audio tags</h3>
<p>Some actions affect audio parameters such as the volume for sounds which are already playing.  However there can often be many sounds playing at once in a game.  In order to identify which sounds you want to affect, sounds are played with an associated <em>tag</em>.  This is any string that identifies the sound.  For example, the player's weapon sound effect could be played with the tag <em>"PlayerWeapon"</em> and an enemy's weapon with the tag <em>"EnemyWeapon"</em>.  Then, the tag can be used in the <em>Set Volume</em> action to specify which sound to set the volume for.  Tags are case insensitive.</p>
<p>Multiple sounds can also play at once using the same tag.  In this case actions like <em>Set Volume</em> affect <strong>all</strong> the sounds playing with that tag.</p>
<p>A tag which is an empty string (<em>""</em>) has a special meaning: it refers only to the last sound played with the <em>Play</em> action.  This is convenient for playing a sound and immediately setting its volume and other parameters.</p>
<a name="h2a3"></a><h3 id="h2ix3">MIME types</h3>
<p>Make sure after exporting your server has the <a href="#anchor-168">correct MIME types set up</a>, otherwise audio may fail to play in some browsers.</p>
<a name="h2a4"></a><h3 id="h2ix4">Mobile limitations</h3>
<p>Safari on iOS and Chrome for Android share a limitation in playing music. While sound effects can be played at any time, music is only allowed to start playing when the user touches the screen. This is a limitation in the browsers themselves. As a result, if you play music on the start of layout, you may find in these browsers it does not actually start until the next touch.</p>
<p>Safari on iOS has a further limitation that no audio can play at all until the first touch. In other words, audio starts off muted and the first touch unmutes audio playback.</p>
<p>Usually you do not need to handle this in your events. If you try to play sound or music on 'start of layout', the audio object will automatically queue it up for playback the next time the user touches the screen. However you should be aware of this when designing your game. If the first touch changes layout or stops the music, then the music may never be heard. You may want to start playback then encourage the user to touch the screen with a 'Play' icon or something similar.</p>
<a name="h2a5"></a><h3 id="h2ix5">Advanced audio</h3>
<p>The Audio object supports some advanced features, such as positioned sounds and convolution effects. However these depend on the Web Audio API which is not supported in all browsers. You can detect if these features are available using the <em>Advanced audio supported</em> condition. If it is not supported, the advanced audio features will not change the sound in any way.</p>
<p><strong>Positioned sounds</strong> are an advanced audio feature that allow you to play a sound at a position, or on an object, in the layout. Using a 3D audio engine, the pan and volume are adjusted according to their relative position to the listener. This is an easy way to enhance realism and further immerse the player in the game.</p>
<a name="h2a6"></a><h3 id="h2ix6">Audio properties</h3>
<p><strong>Timescale audio</strong><br>
The game timescale can be used to speed up or slow down playback of the game, for effects like slow-motion.  See <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.  This property controls whether or not audio is affected by the game's timescale.<br>
<em>Off</em> will play back audio the same regardless of the timescale.<br>
<em>On (sounds only)</em> will play back audio from the Sounds project folder at a different rate depending on the timescale, but will always play back audio from the Music project folder at the same rate.<br>
<em>On (sounds and music)</em> will play back all audio at a different rate depending on the timescale.<br>
Some browsers may not support audio timescaling at all; test on multiple browsers to establish support.  Also, different browsers may use different time-stretching algortihms for audio.  Browsers can either alter pitch, going to lower pitch for lower time scales like a tape machine playing at a different speed; alternatively they can change the playback speed without affecting the pitch.  Test on multiple browsers to establish the exact effect achieved.</p>
<p><strong>Save/load</strong><br>
When using <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">savegames ⇗</a>, what audio state should be saved and restored. If <em>All</em>, all sound and music is saved and restored upon loading a game, so that music and sound effects keep rewinding to the same point they were at upon saving.<br>
<em>Sounds only</em> will only restore the sound effects playing at the time of the save, and allow music to keep playing through unaffected when loading a game.<br>
<em>Music only</em> conversely only restores the music playing at the time of the save, and allows sound effects to keep playing through unaffected when loading a game.<br>
<em>None</em> does not save or load any audio state at all. Audio will be completely unaffected when loading a game, and any playing music and sound effects will continue to play out to their end.</p>
<p><strong>Play in background</strong><br>
If <em>No</em>, then switching browser tab, minimising the browser window, switching to a different mobile app, or otherwise hiding the window will pause all audio and resume it when switching back. This is intended to avoid annoying the user with continued music playback when deciding to do something else, and also helps save battery on mobile. However for some types of app such as music players it may be desirable to keep music playing in these cases, in which case setting to <em>Yes</em> allows continued audio playback even when in the background.</p>
<p><strong>Panning model</strong><br>
How positioned sounds are panned. <em>HRTF</em> uses a realistic model of human hearing, whereas <em>equal power</em> is a simple method that preserves the overall power in a stereo channel.</p>
<p><strong>Distance model</strong><br>
The formula to determine volume reduction of positioned sounds relative to the distance to the listener. The options are:<br>
<em>Linear</em>, using the equation <em>1 - rolloffFactor * (distance - refDistance) / (maxDistance - refDistance)</em><br>
<em>Inverse</em>, using the equation <em>refDistance / (refDistance + rolloffFactor * (distance - refDistance))</em><br>
<em>Exponential</em>, using the equation <em>pow(distance / refDistance, -rolloffFactor)</em>.</p>
<p><strong>Listener Z height</strong><br>
The height of the listener above the layout, in layout pixels, used to determine relative volume and panning of positioned sounds. A low Z height will have intense changes over small distances, whereas a high Z height will have smaller changes over larger distances.</p>
<p><strong>Reference distance</strong><br>
The distance at which the volume of positioned sounds begins to reduce. For best results this should be at least as much as the <em>Listener Z height</em>.</p>
<p><strong>Maximum distance</strong><br>
The maximum distance in pixels beyond which positioned sounds no longer reduce their volume.</p>
<p><strong>Roll-off factor</strong><br>
How quickly the volume reduces as positioned sounds move away from the listener. A high roll-off factor means sounds get quieter quickly, whereas a low roll-off factor means sounds will not lose much volume.</p>
<p><strong>Speed of sound</strong><br>
The speed of sound, in layout pixels per second, used for determining the doppler shift of positioned sounds.</p>
<p><strong>Doppler factor</strong><br>
How much pitch shift occurs due to the doppler effect. A value of 0 will disable doppler effects completely, and values greater than 1 will exaggerate the doppler effect.</p>
<a name="h2a7"></a><h3 id="h2ix7">Audio conditions</h3>
<p><strong>Advanced audio supported</strong><br>
If true, the current browser supports all the features in the <em>Advanced</em> categories of the Audio object. If false, none of these features will have any effect on playback.</p>
<p><strong>Is any playing</strong><br>
True if any audio is currently playing.</p>
<p><strong>Is silent</strong><br>
True if the object has been set in to silent mode using the <em>Set silent</em> action.</p>
<p><strong>Is tag playing</strong><br>
True if any audio with a given tag is currently playing.</p>
<p><strong>On ended</strong><br>
Triggered when a sound with a given tag finishes playing.  This is not triggered for looping sounds.</p>
<p><strong>Preloads complete</strong><br>
True when all audio preloaded with one of the preload actions has finished loading.</p>
<a name="h2a8"></a><h3 id="h2ix8">Audio actions: General</h3>
<p><strong>Play</strong><br>
<strong>Play (by name)</strong><br>
Start playing an audio file with a given tag.  The latter action gives you the opportunity to use an expression for the audio file name.  The sound can optionally be set to looping when it starts playing.  A volume can also be set, given in decibels (dB).  A volume of 0 dB is original volume, and below 0 dB attenuates the sound. Note amplification is not supported. For example, entering a value of -10 plays the audio back 10 dB quieter (about half as loud).  Prefer setting the intended volume in the <em>Play</em> action; even if followed immediately by a <em>Set volume</em> action, some platforms will momentarily play the audio at the volume given in the <em>Play</em> action.</p>
<p><strong>Preload</strong><br>
<strong>Preload (by name)</strong><br>
Start downloading an audio file so it has no delay before playing.  See the section <em>Preloading sounds</em> above for more information.  Audio does not have to be preloaded before playing - it is optional and only serves to possibly reduce the delay before audio plays for the first time.  Once all audio preloaded with this action finishes loading, the <em>On preloads complete</em> trigger fires. Note if the project <em>Preload sounds</em> property is <em>Yes</em>, there is no point preloading any sounds, since they will always be loaded before the game starts - in this case it only makes sense to preload music.</p>
<p><strong>Seek to</strong><br>
Seek a currently playing sound to a different location in the audio file. The time to seek to is given in seconds.</p>
<p><strong>Set looping</strong><br>
Set a sound either looping (repeating when it finishes) or not looping (stopping when it finishes).  Not all browsers currently support this feature; test on multiple browsers to identify support.</p>
<p><strong>Set master volume</strong><br>
Set the overall volume that is applied to all audio playback.</p>
<p><strong>Set muted</strong><br>
Set a sound either muted (silent) or unmuted (audible).</p>
<p><strong>Set paused</strong><br>
Pause or resume some audio by its tag.</p>
<p><strong>Set playback rate</strong><br>
Change the rate a sound plays back at.  Different browsers may use different time-stretching algorithms (either pitch preserving or pitch altering) or not support the option at all; test in multiple browsers to identify the actual affect achieved.  If the <em>Timescale audio</em> property is enabled, it combines with the playback rate set by this action.</p>
<p><strong>Set silent</strong><br>
Enable, disable or toggle <em>Silent mode</em>.  In silent mode all currently playing sounds are muted and no new sounds will play.  This is useful for quickly creating an audio toggle on a title screen.</p>
<p><strong>Set volume</strong><br>
Change the volume of a sound.  The volume is given in decibels (dB).  A volume of 0 dB is original volume, and below 0 dB attenuates the sound. Note amplification is not supported. For example, entering a value of -10 plays the audio back 10 dB quieter (about half as loud). Note it is best to set the initial volume in the Play action instead of setting it with this action immediately after playing, since that can sometimes cause a moment of playback at the wrong volume.</p>
<p><strong>Stop</strong><br>
Stop a sound playing immediately.</p>
<p><strong>Stop all</strong><br>
Stop all currently playing sounds.</p>
<a name="h2a9"></a><h3 id="h2ix9">Audio actions: Positioned sound</h3>
<p><strong>Play at object</strong><br>
<strong>Play at object (by name)</strong><br>
As per the ordinary <em>Play</em> actions, but the sound is positioned at an object. If the object moves or rotates during playback, the sound follows with it. The velocity of the object is used to determine doppler shifts. A cone can be specified to create directional sounds, which follows the object's angle.</p>
<p><strong>Play at position</strong><br>
<strong>Play at position (by name)</strong><br>
As per the <em>Play at object</em> action, but the sound does not move. It is simply played at a position and angle in the layout. Doppler effects can still occur based on the listener's velocity relative to the sound.</p>
<p><strong>Set listener Z</strong><br>
Set the <em>Listener Z</em> property of the audio object.</p>
<a name="h2a10"></a><h3 id="h2ix10">Audio actions: Effects</h3>
<p>A selection of well-known audio effects can be added using the "Add effect" actions. Each tag has its own effect chain, and multiple effects can be added to a tag. All audio played with the given tag is then processed by the effect chain. This can be used to create environmental effects and other creative audio features. Audio signal processing is a complex topic and somewhat out of the scope of this manual, so it will not be detailed exhaustively here. Anyone with light experience in audio recording or production should already be familiar with all the effects available. For interactive examples, search for <em>Audio</em> in Construct 2's Start dialog. A brief summary of each effect is provided below:</p>
<ul>
<li><strong>Analyser</strong>: doesn't change the audio, but can report back frequency domain data</li>
<li><strong>Compressor</strong>: automatically boost or reduce volume to even out the overall volume level</li>
<li><strong>Convolution</strong>: an advanced effect using another sound as an impulse response to process the audio. This allows for real-world locations to be recorded and the environmental reverb applied to games</li>
<li><strong>Delay</strong>: a feedback loop with a delay, making a sort of simple echo effect.</li>
<li><strong>Distortion</strong>: a guitar-amplifier style signal distortion</li>
<li><strong>Filter</strong>: boost or reduce certain frequencies, such as a low-pass filter (which cuts out high frequencies). Useful for simple atmospherics, treble/bass adjustment, etc.</li>
<li><strong>Flanger</strong>: delays the sound by a few milliseconds then mixes it back in with itself. By oscillating the delay time a sweeping effect is created</li>
<li><strong>Gain</strong>: a simple volume control, which might be useful in longer effect chains. The <strong>Mute</strong> effect is also simply a zero gain effect, which can be useful to add after analysers (so the audio is analysed, but not heard).</li>
<li><strong>Phaser</strong>: phase-shifts the sound then mixes it back in with itself. By oscillating the phase shift another sweeping effect is created</li>
<li><strong>Tremolo</strong>: automatically oscillates the volume up and down, also known as amplitude modulation. Some interesting amplitude modulation effects can be created by moving the modulation frequency in to the audible range (above 20 Hz).</li>
<li><strong>Ring modulator</strong>: like tremolo, but oscillates all the way through to a full phase inversion</li>
</ul>
<p>The <strong>Remove all effects</strong> action clears a tag's effects chain, allowing you to add a different selection of effects. The <strong>Set effect parameter</strong> also allows effect parameters to by dynamically set or faded during playback. Each effect also has a wet/dry mix which can be used to fade in and fade out effects.</p>
<a name="h2a11"></a><h3 id="h2ix11">Audio expressions</h3>
<p><strong>AnalyserFreqBinAt(Tag, Index, Bin)</strong><br>
Get the magnitude of energy in an analyser's frequency bin. Advanced audio must be supported, and an analyser effect already added to a tag. <em>Index</em> must be the index of the effect (for example, 0 if the analyser is the first added effect for that tag, 1 if the second added effect, and so on). <em>Bin</em> is the frequency bin number to retrieve from, up to <em>AnalyserFreqBinCount</em>.</p>
<p><strong>AnalyserFreqBinCount(Tag, Index)</strong><br>
Get the number of frequency bins returned by an analyser. Advanced audio must be supported, and an analyser effect already added to a tag. <em>Index</em> must be the index of the effect (for example, 0 if the analyser is the first added effect for that tag, 1 if the second added effect, and so on).</p>
<p><strong>AnalyserPeakLevel(Tag, Index)</strong><br>
Get the peak level of audio in the last FFT window from an analyser. <em>Index</em> must be the index of the effect (for example, 0 if the analyser is the first added effect for that tag, 1 if the second added effect, and so on). The value is returned in dBFS (0 dB for peak level, and negative values for lower). If you intend to use this value it is recommended to use an FFT size of 1024, because at a system sample rate of 44.1 KHz the value will update about 43 times a second. Games usually run at 60 FPS, and smaller FFT sizes may cause FFT windows to be missed since they change faster than the framerate.</p>
<p><strong>AnalyserRMSLevel(Tag, Index)</strong><br>
Get the RMS level of audio in the last FFT window from an analyser (the square root of the average of the squared sample values). <em>Index</em> must be the index of the effect (for example, 0 if the analyser is the first added effect for that tag, 1 if the second added effect, and so on). The value is returned in dBFS (0 dB for peak level, and negative values for lower). If you intend to use this value it is recommended to use an FFT size of 1024, because at a system sample rate of 44.1 KHz the value will update about 43 times a second. Games usually run at 60 FPS, and smaller FFT sizes may cause FFT windows to be missed since they change faster than the framerate.</p>
<p><strong>EffectCount(Tag)</strong><br>
Get the number of effects in the effect chain for a tag.</p>
<p><strong>Duration(Tag)</strong><br>
Get the duration in seconds of an audio sample with a tag.</p>
<p><strong>MasterVolume</strong><br>
Return the current master volume set using the <em>Set master volume</em> action.</p>
<p><strong>PlaybackTime(Tag)</strong><br>
Get the current playback time in seconds of a sound with a tag. This starts at 0 and counts up to the duration, except for looping sounds which keep counting up past the duration.</p>
<p><strong>Volume(Tag)</strong><br>
Get the volume set for a sound with a tag.<a name="anchor-110"></a></p>
<h2>6.7 Browser</h2>
The <strong>Browser</strong> object accesses features of the web browser running the HTML5 game.  It also switch to and from fullscreen mode, detect if the game is updating in the background, and determine if the page is visible.<p></p>
<p>Security limitations sometimes prevent browser actions.  For example, the window <em>Close</em> action can only be used when the window was created by a javascript <em>window.open</em> call.</p>
<a name="h2a0"></a><h3 id="h2ix0">Risks with Javascript string execution</h3>
<p>The Browser object provides two ways to run a string as Javascript code: the <em>Execute Javascript</em> action, and the <em>ExecJS</em> expression. While occasionally useful, <strong>these are widely regarded as dangerous</strong>.</p>
<p>Here are a couple of the problems you may experience with these features:</p>
<ul>
<li>If you execute a string containing user input, it's possible the user can inject javascript to be executed. This can cause a security vulnerability, crash the game, or allow the user to cheat.</li>
<li>If you inadvertently use a feature only available on certain platforms, your game will crash on other platforms that do not support the feature. Construct 2 normally protects you from this since it's well-tested on many platforms, but it's an easy mistake to make if you execute Javascript by yourself. Certain non-browser platforms like CocoonJS have a very limited feature set available so are especially easy to break.</li>
<li>By default, code is minified on export. If you do not write Javascript that is compatible with Google Closure Compiler's ADVANCED mode, it may be broken and crash the game after export.</li>
<li>Executing strings of Javascript from events can often result in dense and unreadable code which is difficult to modify in future.</li>
</ul>
<p>Using the official <a href="http://www.scirra.com/manual/15/sdk">Javascript SDK</a> is almost always a more elegant way of including custom Javascript in Construct 2 projects. <strong>If at all possible, write your javascript in a plugin using the SDK.</strong></p>
<a name="h2a1"></a><h3 id="h2ix1">Browser conditions</h3>
<p><strong>Cookies enabled</strong><br>
True if the user has cookies enabled in their browser.  (Typically it is rare for them to be disabled since many web sites rely on cookies to work properly.)</p>
<p><strong>Is online</strong><br>
True if the browser currently has an active connection to the internet.  Construct 2 games can work offline - see <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games ⇗</a> for more information.</p>
<p><strong>On resized</strong><br>
Triggered when the browser window displaying the game is resized.  This includes when changing orientation on a mobile device.  The system expressions <em>WindowWidth</em> and <em>WindowHeight</em> will update to reflect the new size if a fullscreen mode is in use.</p>
<p><strong>On went online</strong><br>
<strong>On went offline</strong><br>
Triggered if the connection to the internet is becomes available or unavailable during the running of the game.  This is common on mobile devices which may be moving in and out of signal areas.  The <em>Is online</em> condition also changes to reflect the connection status.</p>
<p><strong>Is portrait/landscape</strong><br>
Determine if the current display is portrait (height is greater than width) or landscape (width is greater than height). This is performed by making a simple check on the window size of the browser, so also returns accordingly on a desktop browser depending on its dimensions.</p>
<p><strong>On back button</strong><br>
Triggered when the user presses the device's 'Back' button.  Note not all devices have this button (e.g. iOS devices only have a 'Home' button) and not all platforms support this trigger.</p>
<p><strong>On menu button</strong><br>
Triggered when the user presses the device's 'Menu' button.  Note not all devices have this button (e.g. iOS devices only have a 'Home' button) and not all platforms support this trigger.</p>
<p><strong>On search button</strong><br>
Triggered when the user presses the device's 'Search' button.  Note not all devices have this button (e.g. iOS devices only have a 'Home' button) and not all platforms support this trigger.</p>
<p><strong>Is downloading update</strong><br>
True if the game is running from cache, but downloading an updated version in the background.  This can be used to implement a simple auto-updater.  See <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games ⇗</a> for more information.</p>
<p><strong>On update ready</strong><br>
Triggered when the game is running from cache, but an updated version has finished downloading in the background.  If the user is still on the game's menu or title screen, you may wish to prompt them to refresh the page (or just do it automatically) so the new version is loaded.  See <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games ⇗</a> for more information.</p>
<p><strong>Is fullscreen</strong><br>
True if the browser is running in fullscreen mode.</p>
<p><strong>Page is visible</strong><br>
True if the page the HTML5 game is running on is currently visible.  The page counts as hidden if the window is minimised, the page is in a different tab to the one being viewed, or on a mobile device when the app goes in to the background. When the page is hidden the game automatically pauses.</p>
<p><strong>On suspended</strong><br>
<strong>On resumed</strong><br>
Triggered when the page's visibility changes, or when a mobile app is going in to the background or foreground.  When invisible or in the background the app is suspended: all events stop running and all audio is muted.</p>
<p><strong>Supports requesting fullscreen</strong><br>
True if the current platform supports the <em>Request fullscreen</em> action. This can be used to determine whether a fullscreen button should be shown.</p>
<a name="h2a2"></a><h3 id="h2ix2">Browser actions</h3>
<p><strong>Execute Javascript</strong><br>
Run a string of Javascript code. <strong>Great care is necessary to use this correctly - see the section 'Risks with Javascript string execution' above.</strong></p>
<p><strong>Start group</strong><br>
<strong>End group</strong><br>
Start or end a group in the <a href="https://www.scirra.com/tutorials/147/checking-for-errors-in-browsers" target="_blank">browser error console ⇗</a>. Groups appear indented, and the browser may give the option to expand/collapse the group easily. Groups can optionally be named. To create a group, use <em>Start group</em>, then a series of <em>Log</em> actions, then the <em>End group</em> action.</p>
<p><strong>Log</strong><br>
Log a message, warning or error to the <a href="https://www.scirra.com/tutorials/147/checking-for-errors-in-browsers" target="_blank">browser error console ⇗</a>. This can be useful for debugging, testing and diagnostics. </p>
<p><strong>Vibrate</strong><br>
Vibrate the device with a given pattern, if the device/platform supports vibration. The pattern is given as a comma-separated list of times in milliseconds, alternating between vibrate time and waiting. For example the string "200,100,200" specifies a 200ms vibration, 100ms pause, then another 200ms vibration. This allows a single action to specify a whole vibrate pattern.</p>
<p><strong>Go back</strong><br>
<strong>Go forward</strong><br>
Move through the browser navigation history as if clicking the Back and Forward buttons on the browser.</p>
<p><strong>Go home</strong><br>
Navigate to the browser's set homepage.</p>
<p><strong>Go to URL</strong><br>
Navigate to a given URL.  Note this uses the same window/tab as is showing the HTML5 game, so this action will end the game. The <em>Target</em> can be used to select which frame to redirect, which is only useful if the game is displayed within a frame (e.g. an iframe embed), and the frame has permission to redirect the parent frame (i.e. it is not sandboxed). Possible targets are:<br>
<em>Self</em>: redirect only the frame that is currently showing the game.<br>
<em>Parent</em>: redirect the parent frame.<br>
<em>Top</em>: redirect the top level frame (only different to the parent if more than one frame is used)</p>
<p><strong>Invoke download</strong><br>
Invoke a URL as a file download in the browser. Even if this points to a web page or document, it will be downloaded as a file in the browser interface. The URL can point to any address on the Internet, or it can be the name of any imported project file, or it can be a data URL (useful for downloading canvas snapshots). The filename parameter allows you to choose the filename the browser gives to the download, which can be different to the name of the resource being downloaded.</p>
<p><strong>Invoke download of string</strong><br>
As with <em>Invoke download</em>, but instead of providing a URL to download, a string of the actual data to download as a file is used. A data URI combining the MIME type and data is created, then passed to the browser to download. This is convenient for downloading strings in JSON format as files, e.g. object data from the <em>AsJSON</em> expression.</p>
<p><strong>Open URL in new window</strong><br>
Navigate to a given URL in a new window (or tab if the browser settings override).  This continues to run the HTML5 game in the old window or tab.</p>
<p><strong>Reload</strong><br>
Force the page to refresh.  This effectively restarts the game.</p>
<p><strong>Alert</strong><br>
Bring up a simple 'alert' message box.</p>
<p><strong>Blur</strong><br>
Unfocus the browser window.</p>
<p><strong>Cancel fullscreen</strong><br>
Return to windowed mode if the browser is currently in fullscreen mode.</p>
<p><strong>Close</strong><br>
Close the current window, if the script has permission to do so.</p>
<p><strong>Focus</strong><br>
Focus the browser window.</p>
<p><strong>Lock orientation</strong><br>
<strong>Unlock orientation</strong><br>
Lock the display of the game to a portrait or landscape mode only, if the current platform supports this. This only has effect on mobile devices. The game may have to already be displaying in fullscreen (using the <em>Request fullscreen</em> action) before the orientation can be locked. Unlocking the orientation restores whatever behavior was set before locking, such as automatically changing orientation depending on the way the device is being held.</p>
<p><strong>Request fullscreen</strong><br>
Request that the browser enter fullscreen mode.  Note the browser may ignore this request unless the action is in a user-initiated event, such as a mouse click, key press, touch event or button press. The fullscreen modes that can be entered correspond to the <em>Fullscreen in browser</em> <a href="#anchor-66">project property</a>.  For more information see <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">supporting multiple screen sizes ⇗</a>. Note not all platforms support requesting fullscreen - use the <em>Supports requesting fullscreen</em> condition to check for availability.</p>
<a name="h2a3"></a><h3 id="h2ix3">Browser expressions</h3>
<p><strong>BatteryLevel</strong><br>
Return the current battery charge level from 0 (discharged) to 1 (fully charged). For example, to get the battery level as a percentage, use <em>round(Browser.BatteryLevel * 100)</em>. If the device does not have a battery or the level is unknown, returns 1.</p>
<p><strong>BatteryTimeLeft</strong><br>
If the device has a battery and the remaining time is known, returns the estimated time in seconds until the system will have to shut down due to battery discharge. If no battery is present or the time left is unknown, returns infinity.</p>
<p><strong>ExecJS</strong><br>
Run a string of Javascript code, and return the result if it is a string or a number. <strong>Great care is necessary to use this correctly - see the section 'Risks with Javascript string execution' above.</strong></p>
<p><strong>Language</strong><br>
Get the browser's current language setting, e.g. <em>en-US</em>.</p>
<p><strong>Name</strong><br>
Get the name the browser reports for itself.  This may be inaccurate for backwards compatibility reasons, e.g. Google Chrome reports its name as <em>Netscape</em>.</p>
<p><strong>Platform</strong><br>
Get the current platform the browser reports itself running on, e.g. <em>Win32</em> for Windows.</p>
<p><strong>Product</strong><br>
Get the product the browser reports for itself.  This may be inaccurate for backwards compatibility reasons, e.g. Google Chrome reports its product as <em>Gecko</em>.</p>
<p><strong>UserAgent</strong><br>
Return the full user agent string for the browser, e.g. <em>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.63</em>.</p>
<p><strong>Vendor</strong><br>
Get the vendor the browser reports for itself, e.g. <em>Google Inc.</em> for Google Chrome.</p>
<p><strong>Version</strong><br>
Get the version the browser reports for itself as a string.  This can simply be a subset of the user agent string.</p>
<p><strong>Bandwidth</strong><br>
The estimated available bandwidth in megabits per second of the detected connection technology. Note this may not be a reliable value - for example if the browser detects it is connected via Ethernet it may report the estimated Ethernet bandwidth, whereas further up the network is a router with a lower bandwidth. If the bandwidth is unknown, it returns positive infinity.</p>
<p><strong>ConnectionType</strong><br>
The type of connection technology in use if it is known. This can be <em>"bluetooth"</em>, <em>"cellular"</em>, <em>"ethernet"</em>, <em>"wifi"</em>, <em>"wimax"</em>, <em>"other"</em>, <em>"unknown"</em> or <em>"none"</em> (indicating offline mode).</p>
<p><strong>DevicePixelRatio</strong><br>
The number of physical display pixels per CSS pixel. This can be a useful indicator of display density. For example, 'retina' displays report the value as 2, whereas ordinary displays report the value as 1.</p>
<p><strong>ScreenWidth</strong><br>
<strong>ScreenHeight</strong><br>
Retrieve the dimensions of the entire device screen. This is the complete display area available to the operating system.</p>
<p><strong>Title</strong><br>
The current HTML document's title.</p>
<p><strong>Domain</strong><br>
The current domain, e.g. <em>scirra.com</em>.</p>
<p><strong>Hash</strong><br>
The string after the hash at the end of the URL, including the hash.  For example, if the current URL is <em>http://scirra.com/mygame/index.html#teapot</em>, this returns <em>#teapot</em>.</p>
<p><strong>PathName</strong><br>
The path relative to the domain in the URL.  For example the path name of <em>http://scirra.com/mygame/index.html#teapot</em> is <em>/mygame/index.html</em>.</p>
<p><strong>Protocol</strong><br>
The current protocol, usually either <em>http:</em> or <em>https:</em>.</p>
<p><strong>QueryParam</strong><br>
Return a query string parameter by name.  For example, if the URL ends with <em>index.html?foo=bar&amp;baz=wan</em>, <em>QueryParam("foo")</em> returns <em>bar</em> and <em>QueryParam("baz")</em> returns <em>wan</em>.</p>
<p><strong>QueryString</strong><br>
Return the full URL query string including the question mark.  For example, if the URL ends with <em>index.html?foo=bar&amp;baz=wan</em>, this returns <em>?foo=bar&amp;baz=wan</em>.</p>
<p><strong>Referrer</strong><br>
Get the previous page that linked to this page, if any.</p>
<p><strong>URL</strong><br>
Get the complete current URL in the browser address bar, including the protocol.<a name="anchor-111"></a></p>
<h2>6.8 Button</h2>
<p>The <strong>Button</strong> object creates a form button which the user can click to perform an action.  It can also be set to be a <strong>checkbox</strong>.  Below shows both modes of the Button object in Google Chrome: a push button on the left, and a checkbox on the right.</p>
<p><img src="./manual_files/buttontypes.png" alt="Button types" width="213" height="63"></p>
<p>Form controls are actual HTML elements floating above the game canvas in the HTML page.  Therefore, nothing can be displayed on top of a form control, apart from other form controls.</p>
<p>Form controls position themselves according to the layer parallax, scale and so on.  However they are not truly "in the game" (since they float above), so it is recommended to avoid using scrolling, parallax and layer scaling with form controls, otherwise the end result can feel unnatural.</p>
<h3>Styling Button objects</h3>
<p>Button controls can be customised in a huge number of ways via CSS (Cascading Style Sheets).  Rather than adding actions to set all of the possible properties, the Button object exposes a <em>Set CSS style</em> action.  Knowing CSS will of course be an advantage here, but it is simple to use for simple properties.  A few examples are listed below.</p>
<p><em>Make the text red:</em> Set "color" to "red"<br>
<em>Make the background yellow:</em> Set "background-color" to "yellow"<br>
<em>Make the border a thick light grey:</em> Set "border" to "3px solid #AAAAAA"<br>
<em>Make the font bigger:</em> Set "font-size" to "2em"<br>
<em>Make a dashed red border:</em> Set "border" to "2px dashed red"</p>
<h3>Button properties</h3>
<p><strong>Type</strong><br>
Either <em>Button</em> for a push-button or <em>Checkbox</em> for a checked/unchecked control.  See the image above for a demonstration of both types.</p>
<p><strong>Text</strong><br>
The text appearing on the button face or checkbox label.</p>
<p><strong>Tooltip</strong><br>
A tooltip that appears in most browsers if the user hovers the mouse over the button and waits.  Leave blank for no tooltip.</p>
<p><strong>Initial visibility</strong><br>
Whether or not the button is shown on startup.  If <em>Invisible</em>, the button must be shown with the <em>Set visible</em> action.</p>
<p><strong>Enabled</strong><br>
Whether the button is initially enabled.  If <em>No</em>, the button will be greyed out and cannot be pushed.</p>
<p><strong>Auto font size</strong><br>
Automatically set the font-size property of the element according to the layout and layer scale.  This will prevent the font-size CSS property being manually set with the <em>Set CSS style</em> action.  Set to <em>No</em> if you intend to use <em>Set CSS style</em> to adjust the font-size property.</p>
<p><strong>ID</strong> (optional)<br>
An optional <em>id</em> attribute for the element in the DOM (Document Object Model).  This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p>
<p><strong>Checked</strong><br>
If <em>Type</em> is <em>Checkbox</em>, this is the initial check state of the control.</p>
<h3>Button conditions</h3>
<p><strong>Is checked</strong><br>
If <em>Type</em> is <em>Checkbox</em>, is true if the control is currently checked.</p>
<p><strong>On clicked</strong><br>
Triggered when the user pushes the button or checks/unchecks the control, either by keyboard, mouse or touch input.</p>
<h3>Button actions</h3>
<p><strong>Set CSS style</strong><br>
Set a CSS (Cascading Style Sheets) style on the Button element.  For more information, see the section <em>Styling Button objects</em>.  Note that if the <em>Auto font size</em> property is set to <em>Yes</em>, any changes to the font-size property will be overridden.</p>
<p><strong>Set checked</strong><br>
If <em>Type</em> is <em>Checkbox</em>, set the current check state of the control.</p>
<p><strong>Set enabled</strong><br>
Set the button enabled or disabled.  When disabled, the button appears greyed out and cannot be pushed.</p>
<p><strong>Set focused</strong><br>
Set the input focus to the button.</p>
<p><strong>Set text</strong><br>
Set the text on the button face.</p>
<p><strong>Set tooltip</strong><br>
Set the text that appears for the button tooltip.  Leave blank for no tooltip.</p>
<p><strong>Set unfocused</strong><br>
Remove the input focus from the button.</p>
<p><strong>Toggle checked</strong><br>
If <em>Type</em> is <em>Checkbox</em>, toggles the check state of the control.</p>
<h3>Button expressions</h3>
<p>The Button object does not have any of its own expressions.</p>
<a name="anchor-140"></a><h2>6.9 Dictionary</h2>
<p>The <strong>Dictionary</strong> object stores strings and numbers.  Each value has an associated key, which is a string.  It is a data storage object - it does not do any spell checking or language-specific features.</p>
<p>Key names in the Dictionary object are always case sensitive.  This means the key "SCORE" is considered different to the key "score".</p>
<h3>Example</h3>
<p>Suppose the number 100 is stored with the key "score", and the string "Joe" stored with the key "name".  The result storage looks like the following table:</p>
<p>"name": "Joe"<br>
"score": 100</p>
<p>Retrieving the key "name" with <em>Dictionary.Get("name")</em> returns "Joe", and retrieving "score" likewise returns 100.  Setting "score" to 50 will change the value for the key.</p>
<p>This is like storing data in instance variables or event variables, but since you can use strings as keys you can store any number of values.</p>
<h2>Dictionary conditions</h2>
<p><strong>Compare value</strong><br>
Compare the value stored for a key.</p>
<p><strong>Has key</strong><br>
Check if a key exists in storage.</p>
<p><strong>Is empty</strong><br>
True when there are no keys in storage.</p>
<p><strong>For each key</strong><br>
Repeat the event once for each key in storage.  The <em>CurrentKey</em> and <em>CurrentValue</em> expressions return the current key and its value respectively.</p>
<p><strong>Compare current value</strong><br>
Only valid in a <em>For each key</em> event. Compare the value of the current key.</p>
<h2>Dictionary actions</h2>
<p><strong>Add key</strong><br>
Add a new key to storage, with a given value.  If the key already exists, its value is updated.</p>
<p><strong>Clear</strong><br>
Remove all keys from storage, making the object empty.</p>
<p><strong>Delete key</strong><br>
Remove a key and its value from storage.  If the key does not exist, this has no effect.</p>
<p><strong>Set key</strong><br>
Update the value for a key which already exists.  If the key does not exist, this has no effect.  (Unlike <em>Add key</em>, the key will not be created.)</p>
<p><strong>Download</strong> (JSON)<br>
Invokes a browser download of a file containing the Dictionary's contents in JSON format.  This is intended for offline development, e.g. creating level editors.</p>
<p><strong>Load</strong> (JSON)<br>
Load all keys and values from JSON data previously retrieved from the Dictionary object using either the <em>Download</em> action or the <em>AsJSON</em> expression.</p>
<h2>Dictionary expressions</h2>
<p><strong>Get</strong><br>
Return the value stored for a key, e.g. <em>Dictionary.Get("score")</em>. If the key does not exist, it returns 0.</p>
<p><strong>KeyCount</strong><br>
Return the number of keys in storage.</p>
<p><strong>CurrentKey</strong><br>
<strong>CurrentValue</strong><br>
In a <em>For each key</em> event, these return the key and its value (respectively) for the current key being iterated.</p>
<p><strong>AsJSON</strong><br>
Return the contents of the Dictionary object in JSON format.  This can be later loaded back with the <em>Load</em> action, sent to a server via AJAX, saved to disk, and so on.</p>
<a name="anchor-112"></a><h2>6.10 Facebook</h2>
The <strong>Facebook</strong> object allows you to integrate your game with Facebook.  The tutorial <a href="http://www.scirra.com/tutorials/58/how-to-make-a-facebook-game" target="_blank">How to make a Facebook game ⇗</a> covers how to publish the game on Facebook and has a step-by-step guide to get started with the Facebook object.  This manual section will simply describe its features.<p></p>
<p>The Facebook object can be used in any web-hosted game, not just in Facebook games.  For example, you could have a game running on your own server.  The Facebook object still allows you to integrate with user's Facebook accounts even when the user is playing the game on your website.  However, it is still necessary to submit the app to Facebook so you have an App ID.  Apps can be submitted to Facebook via <a href="http://www.facebook.com/developers" target="_blank">Facebook Developers ⇗</a>.</p>
<p>The Facebook object makes asynchronous requests.  This means the game keeps running while operations which may take several seconds (like submitting a score) complete in the background.  Therefore, the Facebook object works around the principle of an action which starts a task (like <em>Publish score</em>), which then triggers a condition when it has completed (like <em>On score submitted</em>).  These may be a few seconds apart and the game continues to run in between, rather than freezing the game while it waits for completion.  As with most asynchronous requests, actions may complete in a different order to that which they were made.</p>
<a name="h2a0"></a><h3 id="h2ix0">Readiness</h3>
<p>The Facebook object takes a moment to load on startup.  Do not attempt to use the Facebook object before <em>On ready</em> has triggered or <em>Is ready</em> is true, otherwise the actions will be ignored.</p>
<p>You must enter the <strong>App ID</strong> for the Facebook object to successfully load, even in testing.  If you don't enter it, the object will never become ready.  This is because Facebook prevent you using the API unless you have a real App ID to give it.</p>
<a name="h2a1"></a><h3 id="h2ix1">Logging in</h3>
<p>The user must successfully log in with their Facebook account before they can use any other features of the Facebook object, such as posting to the user's wall.  This is done with the <strong>Log in</strong> action, and since login can take a few seconds you must wait until <em>On user logged in</em> triggers before using any other features.</p>
<a name="h2a2"></a><h3 id="h2ix2">Facebook Properties</h3>
<p><strong>App ID</strong><br>
The App ID given for your app in the Facebook Developers section.</p>
<p><strong>App Secret</strong><br>
This is only necessary if you plan to use the Scores API.  Otherwise <em>do not enter the app secret</em>.  The app secret can be found in the Facebook Developers section for your app and is currently necessary to enable the Scores API.</p>
<a name="h2a3"></a><h3 id="h2ix3">Facebook conditions</h3>
<p><strong>Is ready</strong><br>
True if the Facebook object is ready to be used.  When false, the Facebook object is still loading the necessary scripts and all actions will be ignored.</p>
<p><strong>Is user logged in</strong><br>
True if the user is currently logged in with their Facebook account.</p>
<p><strong>On name available</strong><br>
Triggered shortly after <em>On user logged in</em>, when the expressions to get the user's name are available.</p>
<p><strong>On ready</strong><br>
Triggered when the Facebook object is ready to be used.  Before this triggers, the Facebook object is still loading the necessary scripts and all actions will be ignored.</p>
<p><strong>On user logged in</strong><br>
Triggered when the user has successfully logged in.  It also triggers on startup if the user has previously logged in, and they have returned to the app with a remembered login.  This also triggers at the start of each layout throughout the game while the user is logged in.</p>
<p><strong>On user logged out</strong><br>
Triggered if the user logs out during the game.</p>
<p><strong>On hi-score</strong><br>
Triggers once for each hi-score after the <em>Request hi-score board</em> action.  The <em>HiscoreName</em>, <em>HiscoreRank</em> and <em>Score</em> expressions contain the current hi-score information.</p>
<p><strong>On score submitted</strong><br>
Triggers when the <em>Publish score</em> action has successfully completed.</p>
<p><strong>On user top score available</strong><br>
Triggers when the <em>Request user top score</em> action has successfully completed.  The <em>Score</em> expression has the user's top score.</p>
<a name="h2a4"></a><h3 id="h2ix4">Facebook actions</h3>
<p><strong>Log in</strong><br>
Open a popup window requesting the user to log in.  This can only be called in a user-input event, such as a key press, button push, mouse click or touch screen tap.  The user may cancel at the log in screen so logging in is not guaranteed to be successful.  You must provide a comma-separated list of permissions to request. Some features of the Facebook plugin depend on the user approving certain permissions.  Do not request permissions that your application does not need. You can find documentation on the available permissions in the <a href="https://developers.facebook.com/docs/facebook-login/permissions" target="_blank">Facebook developer's guide ⇗</a>.</p>
<p><strong>Log out</strong><br>
Log the current user out from Facebook.</p>
<p><strong>Prompt to share link</strong><br>
Open a dialog prompting the current user to share a URL of your choosing on their wall.  Descriptions and a thumbnail image can optionally be provided.  This does not require any permissions, but the user is free to cancel the action.</p>
<p><strong>Prompt to share this app</strong><br>
Open a dialog prompting the current user to share the URL to the current Facebook app on their wall.  Descriptions and a thumbnail image can optionally be provided.  This does not require any permissions, but the user is free to cancel the action.</p>
<p><strong>Prompt wall post</strong><br>
Open a dialog prompting the current user to make a wall post.  No content or links is added - it is an empty text box for the user to type anything they like.  This does not require any permissions, but the user is free to cancel the action.</p>
<p><strong>Publish link</strong><br>
Automatically publish a URL to the user's wall without any prompt.  Descriptions and a thumbnail image can optionally be provided.  This requires that the user has logged in with the <em>Publish to stream</em> permission.</p>
<p><strong>Publish wall post</strong><br>
Automatically publish a message to the user's wall without any prompt.  This requires that the user has logged in with the <em>Publish to stream</em> permission.</p>
<p><strong>Publish score</strong><br>
Publish a numerical score to the hi-score board for the game.  This requires that the user has logged in with the <em>Publish scores</em> permission.  When the action completes, it triggers <em>On score submitted</em>.</p>
<p><strong>Request hi-score board</strong><br>
Request the game's hi-scores.  This requires that the user has logged in with the <em>Publish scores</em> permission.  This action will repeatedly trigger <em>On hi-score</em> once per score on the hi-score board.  It is up to you to find a way to display these scores; appending each hi-score to a text object is a simple way to display them.</p>
<p><strong>Request user top score</strong><br>
Request the current logged in user's top score for this game.  This requires that the user has logged in with the <em>Publish scores</em> permission.  When the action completes, it triggers <em>On user top score available</em>.</p>
<a name="h2a5"></a><h3 id="h2ix5">Facebook expressions</h3>
<p><strong>FirstName</strong><br>
The current user's first name.  This is only set after <em>On name available</em> triggers.</p>
<p><strong>FullName</strong><br>
The current user's full name.  This is only set after <em>On name available</em> triggers.</p>
<p><strong>LastName</strong><br>
The current user's full name.  This is only set after <em>On name available</em> triggers.</p>
<p><strong>UserID</strong><br>
The current user's ID, which can be used to distinguish different users with the same name.  This is only set if the user is logged in.</p>
<p><strong>HiscoreName</strong><br>
The current hi-score board entry name.  This is only set in an <em>On hi-score</em> event.</p>
<p><strong>HiscoreRank</strong><br>
The current hi-score board entry rank, from 1 down to the number of hi-score entries requested.  This is only set in an <em>On hi-score</em> event.</p>
<p><strong>HiscoreUserID</strong><br>
Return the user ID of the current hi-score board entry.  This is unique even if two people on the hi-score board have the same name.</p>
<p><strong>Score</strong><br>
Either the current hi-score in an <em>On hi-score</em> event, or the current user's score in <em>On user top score available</em>.<a name="anchor-182"></a></p>
<h2>6.11 File chooser</h2>
The <strong>File chooser</strong> plugin is a form control that allows the user to pick a file on their local system and load it. For example, a text file can be chosen and its contents read, or a picture chosen and the image displayed in-game. Some mobile browsers also allow a picture to be taken with the device camera instead of choosing an existing file, then the taken photo image file is passed as the chosen file.<p></p>
<p>The appearance of the file chooser button varies depending on the platform. Several browsers display a "Choose file" button.</p>
<a name="h2a0"></a><h3 id="h2ix0">Using files</h3>
<p>Once a file has been selected, it can be accessed using a URL. While many URLs reference web resources on the Internet, the File Chooser plugin returns a special URL that refers to the local file. This URL typically starts with "blob:" (since the browser's term for an arbitrary set of data is a "blob") followed by some kind of unique ID. By accessing this URL the local file is accessed, without using any Internet connection, so this also works offline.</p>
<p>The file URL can be used like any other URL. For example, it can be requested by the <a href="#anchor-107">AJAX object</a> to load its contents as text, or passed to the Sprite object's <em>Load image from URL</em> action to display it.</p>
<a name="h2a1"></a><h3 id="h2ix1">File Chooser properties</h3>
<p><strong>Accept</strong><br>
The file type filter to accept. This can be a comma-separated list of file extensions, e.g. ".png,.jpg,.jpeg", or a MIME type, such as <em>image/*</em> for any image file, <em>video/*</em> for any video file, and so on. If left empty, the file chooser will be able to choose any kind of file.</p>
<p><strong>Select</strong><br>
Whether to allow selecting a single file only, or multiple files in one go.</p>
<p><strong>Initial visibility</strong><br>
Whether the control is initially visible or hidden.</p>
<p><strong>ID</strong><br>
An optional <em>id</em> attribute for the element in the DOM (Document Object Model). This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p>
<a name="h2a2"></a><h3 id="h2ix2">File Chooser conditions</h3>
<p><strong>On changed</strong><br>
Triggered when a file or set of files has been chosen from the input control.</p>
<a name="h2a3"></a><h3 id="h2ix3">File Chooser actions</h3>
<p><strong>Set CSS style</strong><br>
Set a CSS (Cascading Style Sheets) style on the input element. Refer to a CSS reference to identify which styles and values can be applied.</p>
<p><strong>Release file</strong><br>
Release a previously returned file URL. This allows the browser to release memory for the file. If the user chooses lots of files or chooses them regularly this action should be used to release the files after they are no longer needed.</p>
<a name="h2a4"></a><h3 id="h2ix4">File Chooser expressions</h3>
<p><strong>FileCount</strong><br>
The number of chosen files. If <em>Select</em> is <em>Single</em>, this is always 1. If <em>Multiple</em> then this returns the number of chosen files.</p>
<p><strong>FileNameAt(index)</strong><br>
Return the name of the chosen file at an index. In <em>Single</em> select mode, the index should always be 0, since only one file can be chosen.</p>
<p><strong>FileSizeAt(index)</strong><br>
Return the size of the chosen file in bytes at an index. In <em>Single</em> select mode, the index should always be 0, since only one file can be chosen.</p>
<p><strong>FileTypeAt(index)</strong><br>
Return the MIME type of the chosen file at an index. The MIME type is the standardised Internet media type of the file contents. For example, this can be <em>image/png</em> for a PNG image, <em>image/jpeg</em> for a JPEG image, or <em>text/plain</em> for a plaintext file. In <em>Single</em> select mode, the index should always be 0, since only one file can be chosen.</p>
<p><strong>FileURLAt(index)</strong><br>
The URL to access the local file's contents at an index. For more information see <em>Using files</em> above. In <em>Single</em> select mode, the index should always be 0, since only one file can be chosen.<a name="anchor-149"></a></p>
<h2>6.12 Function</h2>
The <strong>Function</strong> object can run a different event (<em>On function</em>) in an action (<em>Call function</em>).  This is analogous to functions in traditional programming languages.  Using functions can help you organise events and avoid having to duplicate groups of actions or events.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">About functions</h3>
<p>The main purpose of the Function object is using the <em>Call function</em> action.  This takes the name of a function (e.g. <em>Call function "CreateEnemy"</em>).  The action then triggers the corresponding <em>On function</em> event (e.g. <em>On function "CreateEnemy"</em>), running the event's actions and any sub-events, before returning to the original <em>Call function</em> action and continuing from where it was.</p>
<p>As another example, suppose you create an enemy with random stats in a game every 5 seconds using this event:</p>
<p><img width="509" height="150" class="article-image" src="./manual_files/function_example1.png" alt="Function example 1"><!--imgend--><br>
Suppose there are two other events where you want to create the same kind of enemy: one when a player walks in to a trap, and another one every 4 seconds when in a boss fight.  Without functions, you may have to copy-and-paste the actions multiple times, like this:</p>
<p><img width="518" height="471" class="article-image" src="./manual_files/function_example2.png" alt="Function example 2"><!--imgend--><br>
Notice this is becoming inconvenient.  There may be times you need to repeat the actions in even more places.  If you want to make a change, you then have to find every place you repeated the actions, and repeat the change.  We can remove the repetition using functions.  By creating a <em>CreateEnemy</em> function which has the repeated actions, we can replace all the repeated actions with a <em>Call function</em> action like this:</p>
<p><img width="518" height="307" class="article-image" src="./manual_files/function_example3.png" alt="Function example 3"><!--imgend--><br>
This works identically to the previous events, but is much shorter and more convenient.  We can use <em>Call "CreateEnemy"</em> action anywhere we want to create an enemy, and it uses the same set of actions in the <em>On "CreateEnemy"</em> event.</p>
<p>It is often useful to split many parts of your events in to functions like this, so they can be conveniently re-used across event sheets.</p>
<a name="h2a1"></a><h3 id="h2ix1">Parameters</h3>
<p>When calling a function, you can also pass <em>parameters</em>.  These are simply numbers or strings that are made available to the function.  For example, the <em>CreateEnemy</em> function from the previous example could be modified to take two parameters: the X and the Y co-ordinates at which to create the enemy.  This helps functions to be made more general purpose by using extra information from the action calling the function.</p>
<p>To add a parameter to a function call, click the <strong>Add parameter</strong> link that appears in the <a href="#anchor-60">Parameters dialog</a> when editing the <em>Call function</em> action.  This is a special link that only appears for this action in the Function object.  Inside an <em>On function</em> event, you can then use the <em>Param</em> expression with the zero-based index of the parameter to retrieve the corresponding value.</p>
<a name="h2a2"></a><h3 id="h2ix2">Advanced function features</h3>
<p>Like in programming languages, the Function object supports the following:</p>
<ul>
<li>Functions calling other functions</li>
<li>Functions calling themselves (recursion)</li>
<li>Returning values from functions</li>
<li>Calling functions from expressions (which also returns the return value)</li>
</ul>
<p>Note that functions calling other functions or recursing create a new "stack" of local variables.  In other words, like in programming languages, local variables are unique at each level of function call.  This does not apply to static local variables or global variables.</p>
<p>Also note the Function object logs to the browser console if it is used incorrectly, such as calling a non-existent function or accessing a parameter that was not passed.  This can help identify problems using functions in large projects.  See <a href="http://www.scirra.com/tutorials/147/checking-for-errors-in-browsers" target="_blank">Checking for errors in browsers ⇗</a> for more information on viewing the browser console.</p>
<a name="h2a3"></a><h3 id="h2ix3">Returning values from functions</h3>
<p>Functions can also return a result.  For example, a <em>factorial</em> function could calculate the mathematical result and return it.  In an <em>On function</em> event, the return value can be set using the <em>Set return value</em> action.</p>
<p>If the event was called using the <em>Call function</em> action, the returned value is afterwards available using the <em>ReturnValue</em> expression.  Functions can also be called directly from an expression using the <em>Call</em> expression; in this case the return value is automatically returned as the result of the <em>Call</em> expression.</p>
<a name="h2a4"></a><h3 id="h2ix4">Javascript integration</h3>
<p>It is strongly recommended to use the <a href="http://www.scirra.com/manual/15/sdk">Javascript plugin SDK</a> to integrate Javascript code with Construct 2. However it is possible to trigger a function in the Function object from Javascript code using the following function:</p>
<pre class="brush: js;">    if (c2_callFunction)
        c2_callFunction("name", ["param1", "param2"]);
</pre><p>Note if the Function object is not included in a project, the <em>c2_callFunction</em> function will not exist, so the <em>if</em> check is necessary before using it. The function with the given "name" is triggered synchronously. Parameters are optional and can be omitted, but must be provided as an array in the second argument, and parameters may only be string or number values (any other types will return as 0 in Construct 2). The <em>c2_callFunction</em> method also returns the return value set in Construct 2 (if any), and also can only return a string or number.</p>
<a name="h2a5"></a><h3 id="h2ix5">Function conditions</h3>
<p><strong>Compare parameter</strong><br>
Compare the value of one of the parameters to a function call.  This condition should only be used in an <em>On function</em> event, since outside of function calls there are no parameters set.</p>
<p><strong>On function</strong><br>
Triggered when the corresponding <em>Call function</em> action is used.</p>
<a name="h2a6"></a><h3 id="h2ix6">Function actions</h3>
<p><strong>Call expression</strong><br>
This is an alternative to the <em>Call function</em> action. It simply provides a parameter to enter an expression, and the result is ignored. You can use this to call a function via the <em>Function.Call(...)</em> expression, which may be more convenient if using a very large number of parameters.</p>
<p><strong>Call function</strong><br>
Trigger the corresponding <em>On function</em> events.  Additional parameters can be passed that are accessed by the <em>Param</em> expression.</p>
<p><strong>Set return value</strong><br>
In a function event, set the value to be returned to the caller.  This is either returned by the <em>Call</em> expression or accessed later using the <em>ReturnValue</em> expression.</p>
<a name="h2a7"></a><h3 id="h2ix7">Function expressions</h3>
<p><strong>Call</strong><br>
Call a function directly from an expression.  The expression returns the return value that was set in the function, or 0 if no return value was set.  Additional parameters can optionally be added after the name of the function, e.g. <em>Function.Call("CreateEnemy", 123, 456)</em>.</p>
<p><strong>Param</strong><br>
Retrieve a parameter passed to a function call by its zero-based index.  For example, <em>Function.Param(0)</em> returns the value of the first parameter.</p>
<p><strong>ParamCount</strong><br>
Return the number of parameters passed to a function call.</p>
<p><strong>ReturnValue</strong><br>
Return the value set using the <em>Set return value</em> action from the last function call.  If <em>Set return value</em> is not used in a function, it returns 0.<a name="anchor-186"></a></p>
<h2>6.13 Game Center</h2>
The <strong>Game Center</strong> plugin allows access to Game Center on iOS when built with PhoneGap or the Intel XDK.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Setting up</h3>
<p>To set up your game for Game Center, it must be appropriately configured on the iTunes store. Please follow Apple's <a href="https://developer.apple.com/library/ios/GCConfigGuide" target="_blank">Game Center configuration guide ⇗</a> for more information.</p>
<p>Before your game can use any Game Center features, you must use the <em>Authenticate</em> action. This can be done on <em>Start of layout</em> or when pressing an in-game <em>Login</em> button. The user will either be prompted to log in or be automatically re-authorised.</p>
<p>Be warned that if you fail Game Center authorisation too many times your device may be blocked from accessing it. To help avoid this while testing, go in to <em>Settings</em> on your iOS device and make sure Game Center is enabled and signed in from there. It should automatically pick up your account when using the <em>Authenticate</em> action.</p>
<a name="h2a1"></a><h3 id="h2ix1">Game Center properties</h3>
<p>The Game Center object has no properties.</p>
<a name="h2a2"></a><h3 id="h2ix2">Game Center conditions</h3>
<p><strong>On achievement list error</strong><br>
<strong>On achievement list received</strong><br>
Triggered after the <em>Request achievements</em> action, depending on whether an error occurred or it completed successfully.</p>
<p><strong>On achievement report error</strong><br>
<strong>On achievement report success</strong><br>
Triggered after the <em>Report achievement</em> action, depending on whether an error occurred or it completed successfully.</p>
<p><strong>On achievement reset error</strong><br>
<strong>On achievement reset success</strong><br>
Triggered after the <em>Reset achievements</em> action, depending on whether an error occurred or it completed successfully.</p>
<p><strong>On auth fail</strong><br>
<strong>On auth success</strong><br>
Triggered after the <em>Authenticate</em> action depending on whether login was successful or not. <em>On auth success</em> must trigger before any other Game Center features can be used.</p>
<p><strong>On player image fail</strong><br>
<strong>On player image received</strong><br>
Triggered after the <em>Request player image</em> action depending on whether an error occurred or it completed successfully.</p>
<p><strong>On leaderboard displayed</strong><br>
<strong>On leaderboard error</strong><br>
Triggered after the <em>Show leaderboard</em> action depending on whether the leaderboard could be successfully displayed or not.</p>
<p><strong>On score submit fail</strong><br>
<strong>On score submit success</strong><br>
Triggered after the <em>Submit score</em> action depending on whether the submission was successful or not.</p>
<a name="h2a3"></a><h3 id="h2ix3">Game Center actions</h3>
<p><strong>Report achievement</strong><br>
Report that the player has gained an achievement, or increased its percentage completion, by its achievement ID. Afterwards, <em>On achievement report error/success</em> triggers depending on success.</p>
<p><strong>Request achievements</strong><br>
Request a list of available and completed achievements. Afterwards, <em>On achievement list error/success</em> triggers depending on success.</p>
<p><strong>Reset achievements</strong><br>
Reset all the player's achievements and scores to their default states. Afterwards, <em>On achievement reset error/success</em> triggers depending on success.</p>
<p><strong>Authenticate</strong><br>
Prompt the player to log in to Game Center, or automatically log them in again. This must be done before any Game Center features can be used. Afterwards, <em>On auth fail/success</em> triggers depending on success.</p>
<p><strong>Request player image</strong><br>
Request a URL to the current player's image. Afterwards, <em>On player image fail/success</em> triggers depending on success.</p>
<p><strong>Show leaderboard</strong><br>
Display top scores on a leaderboard by its ID. <em>On leaderboard displayed/error</em> triggers depending on success.</p>
<p><strong>Submit score</strong><br>
Submit a score to a leaderboard. <em>On score submit fail/success</em> triggers depending on success.</p>
<a name="h2a4"></a><h3 id="h2ix4">Game Center expressions</h3>
<p><strong>AchievementCount</strong><br>
After <em>On achievement list received</em>, the number of achievements in the list.</p>
<p><strong>AchievementAt(index)</strong><br>
After <em>On achievement list received</em>, the zero-based index of the achievement to retrieve.</p>
<p><strong>PlayerID</strong><br>
<strong>UserAlias</strong><br>
<strong>UserDisplayName</strong><br>
After <em>On auth success</em>, the details about the current player.</p>
<p><strong>PlayerImageURL</strong><br>
After <em>On player image received</em>, the URL to the image for the current player. This can be loaded in to a Sprite object using the <em>Load image from URL</em> action.<a name="anchor-143"></a></p>
<h2>6.14 Gamepad</h2>
The <strong>Gamepad</strong> object allows you to detect input from a connected console controller, PC gamepad or joystick.  While a range of devices ought to work with the Gamepad object, it is designed for and works best with the XBox 360 controller, or similarly designed controllers (with the same button/stick layout).<p></p>
<p>Unfortunately whether or not a specific device is supported depends on a lot of factors, including the operating system, available drivers, and the browser's support. This makes it difficult to know in advance if a specific device will work.  The XBox 360 controller works out of the box on Windows systems with the Google Chrome browser.  The Playstation 3 controller does not typically work without installing third party drivers since it is not officially supported.  For this reason it is recommended to test with Google Chrome on Windows with an XBox 360 controller, and always support an alternative input method such as <a href="#anchor-113">Keyboard</a> input.</p>
<p>Most mobile devices do not have a physical socket to connect a controller to.  Therefore Gamepad input can usually only be used with desktop computers.  For mobile devices with touchscreen input, focus on designing <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">touch controls ⇗</a>.</p>
<p>To prevent allowing websites to track you by your available controllers, most browsers supporting Gamepad input will report that there are no controllers connected until a button is pressed on one of the devices.</p>
<a name="h2a0"></a><h3 id="h2ix0">Key mapping</h3>
<p>Different controllers have different button layouts, or the buttons have different names.  For example, the Playstation 3 controller uses <em>square</em>, <em>circle</em>, <em>triangle</em> and <em>X</em> buttons, whereas the XBox 360 controller uses <em>A</em>, <em>B</em>, <em>X</em> and <em>Y</em> (note that <em>X</em> appears in a different position in each controller too).  For consistency, the Gamepad object refers to the XBox 360 layout only.</p>
<p>The Gamepad object will also attempt to map other controller's keys to the XBox 360 layout internally, to ensure the same button always triggers the same event.  However it is impractical to set this up for every device in existence, so some device buttons may trigger different key events in the Gamepad object.  This is partly why it is recommended to focus on XBox 360 controllers.  If you are interested in using Gamepad input extensively, be sure to test on as wide a range of devices as you can obtain.</p>
<p>Raw input can be obtained, circumventing the Gamepad object's built in key mapping, using the <em>Raw</em> expressions.</p>
<a name="h2a1"></a><h3 id="h2ix1">Controlling behaviors with Gamepad</h3>
<p>To control behaviors with Gamepad input, use the <em>Simulate control</em> action.  An example is shown below for controlling a Platform behavior with the left analog stick and A to jump.</p>
<p><img width="510" height="138" class="article-image" src="./manual_files/gamepadcontrol.png" alt="Simulating behavior controls with Gamepad"><!--imgend--><br>
For more information, see the section on <em>Custom controls</em> in the <a href="#anchor-86">Behavior reference</a>.</p>
<a name="h2a2"></a><h3 id="h2ix2">Multiple gamepads</h3>
<p>Multiple gamepad devices can be connected to a single computer.  To differentiate between them, most actions, conditions and expressions in the Gamepad object also take a <em>Gamepad</em> parameter.  This is a zero-based index of the controller.  For example, 0 identifies the first controller, 1 identifies the second, and so on.  This allows you to make multiplayer gamepad-controlled games.</p>
<a name="h2a3"></a><h3 id="h2ix3">Gamepad properties</h3>
<p><strong>Analog deadzone</strong><br>
Devices with analog joysticks are extremely sensitive to input.  This allows fine control in games, but also means a joystick in rest position can still register a fairly large amount of movement.  If this wasn't ignored, a joystick-controlled player could start moving around erratically even when the player is not touching the control.  To solve this all values close to rest position are ignored.  Joystick movement is in the range -100 to 100 on each axis, and if the distance from the center is below the <em>Analog deadzone</em> value, it will return 0.  For example, the default is 25, so values inside a circle with the radius 25 will still count as zero.  This is the recommended value to ensure even ageing controllers with highly erratic input do not cause unintended player movement.</p>
<a name="h2a4"></a><h3 id="h2ix4">Gamepad conditions</h3>
<p><strong>Gamepads are supported</strong><br>
True if the current platform supports gamepad input. If this is false, then no gamepads or gamepad axis/button inputs will be detected at all.</p>
<p><strong>Has gamepads</strong><br>
True if any gamepad is connected and activated.  To prevent websites tracking you based on the available gamepads, most browsers supporting Gamepad input will report that no controllers are connected until a button is pressed on one of the devices.</p>
<p><strong>On gamepad connected</strong><br>
Triggered when a gamepad device is connected to the computer.  To prevent websites tracking you based on the available gamepads, most browsers supporting Gamepad input will report that no controllers are connected until a button is pressed on one of the devices, when <em>On gamepad connected</em> will also run.</p>
<p><strong>On gamepad disconnected</strong><br>
Triggered when a gamepad device is disconnected from the computer, such as by pulling out its cable.</p>
<p><strong>Compare axis</strong><br>
Compare the position of an analog joystick on a specific gamepad.  Values within the <em>Analog deadzone</em> are returned as 0.  Axes values range from -100 to 100.</p>
<p><strong>Is button down</strong><br>
True if a given button is currently down on a specific gamepad.  The buttons are always referred to according to the XBox 360 controller layout, and buttons are subject to mapping as described under <em>Key mapping</em>.</p>
<p><strong>Is button index down</strong><br>
True if a given button by its numerical index is currently down on a specific gamepad.  The index is still subject to mapping as described under <em>Key mapping</em>.</p>
<p><strong>On any button pressed</strong><br>
Triggered when any button is pressed on a specific gamepad.  The <em>LastButton</em> expression is set with the index of the button.</p>
<p><strong>On any button released</strong><br>
Triggered when any button is released on a specific gamepad.  The <em>LastButton</em> expression is set with the index of the button.</p>
<p><strong>On button index pressed</strong><br>
Triggered when a given button by its numerical index is pressed on a specific gamepad.  The index is still subject to mapping as described under <em>Key mapping</em>.</p>
<p><strong>On button index released</strong><br>
Triggered when a given button by its numerical index is released on a specific gamepad.  The index is still subject to mapping as described under <em>Key mapping</em>.</p>
<p><strong>On button pressed</strong><br>
Triggered when a given button is pressed on a specific gamepad.  The buttons are always referred to according to the XBox 360 controller layout, and buttons are subject to mapping as described under <em>Key mapping</em>.</p>
<p><strong>On button released</strong><br>
Triggered when a given button is released on a specific gamepad.  The buttons are always referred to according to the XBox 360 controller layout, and buttons are subject to mapping as described under <em>Key mapping</em>.</p>
<a name="h2a5"></a><h3 id="h2ix5">Gamepad actions</h3>
<p>The Gamepad object has no actions.</p>
<a name="h2a6"></a><h3 id="h2ix6">Gamepad expressions</h3>
<p><strong>Axis(Gamepad, Index)</strong><br>
Retrieve the current position of an analog joystick on a specific gamepad.  <em>Index</em> specifies left analog X and Y or right analog X and Y axes, subject to <em>Key mapping</em>.  Axes range from -100 to 100.  Axis values within the <em>Analog deadzone</em> are returned as 0.</p>
<p><strong>Button(Gamepad, Index)</strong><br>
Retrieve the current button press value of a button on a specific gamepad.  <em>Index</em> specifies the zero-based index of a button from the dropdown list in the <em>Is button down</em> condition (e.g. 0 returns the value for the <em>A</em> button).  The returned value depends on the features of the button: if the button is pressure sensitive, it can return any value from 0 to 100 depending on the pressure; otherwise it returns 0 for not pressed and 100 for pressed.  Buttons which are not pressure sensitive are easier to detect using the <em>Is button down</em> condition.</p>
<p><strong>GamepadCount</strong><br>
Return the number of currently connected and active gamepad devices.  To prevent websites tracking you based on the available gamepads, most browsers supporting Gamepad input will report that no controllers are connected until a button is pressed on one of the devices.</p>
<p><strong>GamepadID(Gamepad)</strong><br>
A string intended to represent the device manufacturer and model for a specific gamepad, e.g. "XBox 360 controller".  However in practice this varies depending on the system and browser in use.</p>
<p><strong>LastButton</strong><br>
Return the numerical index of the last button pressed on a specific gamepad.  This is useful with the <em>On any button pressed</em> and <em>On any button released</em> triggers to set up custom controls.</p>
<p><strong>RawAxis(Gamepad, Index)</strong><br>
Retrieve raw axis input for a specific gamepad and axis index.  This returns the value without keymapping, applying the analog deadzone, or multiplying the returned value by 100.  Axis values range from -1 to 1.</p>
<p><strong>RawAxisCount(Gamepad)</strong><br>
Return the number of axes available in the raw input for a specific gamepad.  This returns the value without keymapping.</p>
<p><strong>RawButton(Gamepad, Index)</strong><br>
Retrieve raw button input for a specific gamepad and button index. This returns the value without keymapping.  Button values range from 0 to 1 (pressure sensitive buttons can return values in between).</p>
<p><strong>RawButtonCount(Gamepad)</strong><br>
Return the number of buttons available in the raw input for a specific gamepad.  This returns the value without keymapping.<a name="anchor-164"></a></p>
<h2>6.15 Geolocation</h2>
The <strong>Geolocation</strong> object allows the user's current geographical location to be estimated. Note not all devices support geolocation (use the <em>Is supported</em> condition to check), and of the devices that do, the accuracy can vary significantly. For example a desktop computer might not come with any location-tracking equipment, and only be able to report a location accurate to a 50 kilometer radius based on their internet connection. However this at least allows for the user's timezone, country, or possibly city or town to be determined. On the other hand many mobile phones and tablets come equipped with GPS equipment and can report their location as accurately as within a few meters, and track movements in real-time.<p></p>
<p>For an example of the Geolocation object, see the <em>Geolocation</em> example in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Permission prompts</h3>
<p>When requesting the user's location, for privacy reasons most platforms will prompt the user for permission. Each platform tends to have its own specific way of asking for permission. The user may decline the permission request, in which case <em>On error</em> will trigger. Your projects should handle such a case gracefully if possible. Normally each browser or platform has a way to grant permission when it was previously declined, but it either involves prompting again, or making changes in the browser or app platform settings. Some platforms will fail without even prompting the user after a single declined permission request.</p>
<a name="h2a1"></a><h3 id="h2ix1">Battery usage</h3>
<p>It should be noted that tracking the user's location may involve activating GPS hardware in a phone or tablet, which can drain the battery more quickly. Requesting high-accuracy location information is also likely to use more power. Try to only request the user's location if absolutely necessary, use low accuracy if suitable, and request one-off positions rather than watching the position for a long time.</p>
<a name="h2a2"></a><h3 id="h2ix2">Geolocation conditions</h3>
<p><strong>Is supported</strong><br>
True if the current device supports reporting the user position with geolocation. If false, none of the features of the object will work.</p>
<p><strong>Is watching location</strong><br>
True after a successful <em>Watch location</em> action, until the <em>Stop watching</em> action is used.</p>
<p><strong>On error</strong><br>
Triggered if an error occurs when requesting permission for, or retrieving, the user's location. The <em>ErrorMessage</em> expression contains more information about the problem in this trigger.</p>
<p><strong>On location update</strong><br>
Triggered after a successful <em>Request location</em> or <em>Watch location</em> action, when the position has been updated. This only triggers once after a successful <em>Request location</em> action, but can trigger regularly after a successful <em>Watch location</em> action whilst the position is tracked and updated.</p>
<a name="h2a3"></a><h3 id="h2ix3">Geolocation actions</h3>
<p><strong>Request location</strong><br>
Make a one-off request for the user's current location. The user may see a permission prompt which they must approve before any information is returned; if they decline, <em>On error</em> will trigger. <em>Accuracy</em> can be set to <em>High</em> to get more accurate results, but it may take longer to calculate and consume more battery. <em>Timeout</em> is the maximum time in seconds the device may take before it must return a position or trigger <em>On error</em>. <em>Maximum age</em> is the maximum age of a cached result that can be returned. If zero, the device will actively try to determine the user's position at that time. However if it is nonzero, and the operating system had previously requested the user's position within that time, the previous result may be returned immediately instead. This is faster and can save battery, but the result will not be as close to real-time. If a result is successfully determined, <em>On location update</em> will trigger.</p>
<p><strong>Watch location</strong><br>
As with <em>Request location</em>, but the location will be tracked. <em>On location update</em> will trigger whenever new position information is available, until the <em>Stop watching</em> action is used. Watching the location can consume more battery on mobile devices than one-off requests.</p>
<p><strong>Stop watching</strong><br>
Stop a previous successful request to watch the user's location. The position will no longer be updated.</p>
<a name="h2a4"></a><h3 id="h2ix4">Geolocation expressions</h3>
<p>The position-related expressions only update when <em>On location update</em> triggers, which in turn can only occur after a successful <em>Request location</em> or <em>Watch location</em> action.</p>
<p><strong>Accuracy</strong><br>
<strong>AltitudeAccuracy</strong><br>
The estimated accuracy in meters of the latitude and longitude (for <em>Accuracy</em>) or the altitude (for <em>AltitudeAccuracy</em>). The accuracy may be more or less a guess, or if it is not known the expression returns 0.</p>
<p><strong>Altitude</strong><br>
The estimated altitude in meters relative to sea-level, or 0 if not known.</p>
<p><strong>ErrorMessage</strong><br>
In <em>On error</em>, a string with some additional information about the error.</p>
<p><strong>Heading</strong><br>
<strong>Speed</strong><br>
While watching a position, the direction of travel in degrees relative to due north and speed in meters per second if available, else 0 of not available.</p>
<p><strong>Latitude</strong><br>
<strong>Longitude</strong><br>
The latitude and longitude that has been determined, subject to the <em>Accuracy</em> (which may not be known).</p>
<p><strong>Timestamp</strong><br>
A timestamp of the time at which the current details were retrieved. This is measured in milliseconds since midnight, January 1, 1970.<a name="anchor-175"></a></p>
<h2>6.16 Google Play</h2>
The <strong>Google Play</strong> plugin allows you to integrate your game with <strong>Google Play Game Services</strong>. Users can log in, submit and view scores, and unlock achievements.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Setting up Google Play Game Services</h3>
<p>Using Google Play Game Services requires that you have an account registered with the <a href="https://play.google.com/apps/publish/" target="_blank">Google Play Developer ⇗</a> service. There may be a small one-time registration fee if you need to sign up.</p>
<p>For each game that you wish to use Google Play Game Services for, click the <strong>Game Services</strong> icon in the developer console and then click <strong>Add a new game</strong>. Enter the name of your game, choose its category, and click <strong>Continue</strong>.</p>
<p>Once added you can edit the game details such as its description and any associated images. You can also add achievements and leaderboards - which must be added before you can use them in the Google Play plugin - as well as configure testing and publishing.</p>
<p>To ensure your finished game has permission to access the Google Play Game Services, click the <em>Linked apps</em> section while editing the game in the developer console. Click the button to link a <strong>Web app</strong>. You will need to fill out details such as the URL it is played from and some authorisation details. Once completed, you should be given a <strong>client ID</strong>. This should be in a format similar to:</p>
<p><strong>12345678987-abcdefghijklmnopqrstuvwxyz1234567890.apps.googleusercontent.com</strong></p>
<p><strong>Copy and paste</strong> this client ID in to the Google Play plugin's <em>Client ID</em> property. It is not actually necessary to fill in the <em>Application ID</em> property, but you can add it anyway: the application ID is the number that appears beside the game name in the header of the Developer Console, e.g. "My Super Game - 12345678". The application ID in this case is 12345678.</p>
<a name="h2a1"></a><h3 id="h2ix1">Extra steps for Cordova</h3>
<p>Google Play Game Services are designed to work in a web browser, but it's possible to also configure it to work in Cordova (e.g. when exporting to mobile via PhoneGap Build or the Intel XDK). To set it up for Cordova you'll also need to:</p>
<ol>
<li>Fill in the <em>Client secret</em> property with the value from the Google Play Developer Console.</li>
<li>Add <em>http://localhost</em> as one of the redirect URIs in the API console.</li>
<li>Remove any uses of <em>On auto-sign in failed</em>. It never triggers in this mode, so you will need to rely on having manual sign-in instead.</li>
</ol>
<a name="h2a2"></a><h3 id="h2ix2">Enabling access in preview mode</h3>
<p>When testing your project, your game will typically run from <em>localhost</em> or a local IP address for preview-over-wifi. Since this is is different to the published URL of your game, Google Play Game Services will block access unless you add the preview URLs as permitted locations.</p>
<p>To do this, in the Developer Console under <em>Game details</em>, find the header that says <em>API CONSOLE PROJECT</em> and follow the link to the API console project for your game. In the API console, select <em>APIs &amp; auth</em>, then <em>Credentials</em>. Notice the <em>Javascript Origins</em> field contains only your final URL; this also needs to contain any preview URLs to be allowed access. Click <strong>Edit settings</strong>. Under <em>Authorized Javascript Origins</em>, make sure the final URL and any preview URLs appear on separate lines. Note normal preview by default happens on <strong>http://localhost:50000</strong>, but you also need to add any preview-over-wifi addresses you use, such as <strong>http://192.168.1.3:50000</strong>. For example, the completed <em>Authorized Javascript origins</em> could list:</p>
<p>http://www.mywebsite.com/games/myawesomegame<br>
http://localhost:50000<br>
http://192.168.1.3:50000</p>
<p>Click <strong>Update</strong>. Now your game should be authorised to be accessed from preview mode as well as when you publish it.</p>
<a name="h2a3"></a><h3 id="h2ix3">Basic usage</h3>
<p>To use the <em>Google Play</em> plugin, you must first wait for it to finish loading. Do not attempt to use any features of the plugin until <em>On loaded</em> triggers, or <em>Is loaded</em> is true.</p>
<p>Next the Google Play plugin will automatically try to sign the user in. If they have successfully signed in before, <em>On signed in</em> will trigger soon after loading. If they have never signed in before, <em>On auto-sign in failed</em> will trigger; in this event you should show a button that allows the user to sign in. When they click this button, use the <em>Sign in</em> action; if it succeeds, <em>On signed in</em> will be triggered.</p>
<p>Once the user is signed in, you can make use of the other plugin features such as requesting leaderboards, submitting high-scores, and unlocking achievements.</p>
<a name="h2a4"></a><h3 id="h2ix4">Asynchronous actions</h3>
<p>Most actions in the Google Play plugin are <em>asynchronous</em>. This means they are not completed immediately. Instead, the action starts a request which is sent off to the Google Play servers. A few moments later the server will respond, and a corresponding trigger will run in the Google Play plugin.</p>
<p>For example, the <em>Request play details</em> action does not complete immediately. The player details are not available until <em>On player details received</em> triggers, which should happen shortly after running the action. Only after the trigger runs can the player details be accessed.</p>
<a name="h2a5"></a><h3 id="h2ix5">Google Play properties</h3>
<p><strong>Application ID</strong><br>
This is not currently necessary, but can be filled out with the application ID from the Google Play Developer Console.</p>
<p><strong>Client ID</strong><br>
The client ID for the game from the Google Play Developer Console. For more information see the section <em>Setting up Google Play Game Services</em> above.</p>
<p><strong>Client secret</strong><br>
The client secret for the game from the Google Play Developer Console. This is only necessary when publishing via Cordova (e.g. PhoneGap Build). For more information see the section <em>Setting up Google Play Game Services</em> above.</p>
<a name="h2a6"></a><h3 id="h2ix6">Google Play conditions</h3>
<p><strong>Compare achievement state</strong><br>
Compare whether an achievement at an index is revealed, hidden or unlocked. The achievement list must have already been successfully received.</p>
<p><strong>On achievement list success</strong><br>
<strong>On achievement list fail</strong><br>
Triggered after the <em>List achievements</em> action, depending on whether the request succeeded or failed. If successful, achievement information for the current player is then available.</p>
<p><strong>On achievement metadata success</strong><br>
<strong>On achievement metadata fail</strong><br>
Triggered after the <em>Get metadata</em> achievements action, depending on whether the request succeeded or failed. If successful, achievement metadata (such as the achievement names and icons) is then available.</p>
<p><strong>On achievement revealed</strong><br>
<strong>On achievement unlocked</strong><br>
Triggered after the <em>Reveal</em>, <em>Unlock</em> or <em>Increment</em> actions when an achievement has successfully been revealed or unlocked. When incrementing achievements, the achievement is unlocked when it has incremented through every step.</p>
<p><strong>Is loaded</strong><br>
True if the Google Play plugin has loaded and is ready to use. Before this is true, no features of the plugin will work.</p>
<p><strong>Is signed in</strong><br>
True if the user has been successfully signed in (possibly automatically).</p>
<p><strong>On auto-sign in failed</strong><br>
Triggered upon the first visit, when the user cannot be automatically logged in. It is necessary to display a 'Sign in' button and use the <em>Sign in</em> action to get the user to sign in.</p>
<p><strong>On error</strong><br>
Triggered if an error occurs. The <em>ErrorMessage</em> expression will contain information about the error.</p>
<p><strong>On loaded</strong><br>
Triggered when the plugin finishes loading and is ready to use. Before this triggers, no features of the plugin will work.</p>
<p><strong>On player details received</strong><br>
Triggered after the <em>Request player details</em> action, when the player details have been successfully received. The <em>Player details</em> category of expressions now are set to their correct values for the currently signed in user.</p>
<p><strong>On signed in</strong><br>
<strong>On signed out</strong><br>
Triggers when the user is signed in or signed out from Google Play Game Services.</p>
<p><strong>On hi-score request success</strong><br>
<strong>On hi-score request fail</strong><br>
Triggered after the <em>Request hi-scores</em> action depending on whether the request succeeded or failed. If successful, the hi-scores list is then available.</p>
<p><strong>On score submit success</strong><br>
<strong>On score submit fail</strong><br>
Triggered after the <em>Submit score</em> action, depending on whether the submission succeeded or failed. If successful the score should then appear in hi-score lists.</p>
<a name="h2a7"></a><h3 id="h2ix7">Google Play actions</h3>
<p><strong>Get metadata</strong><br>
Request metadata for the achievements list, such as the achievement names, descriptions and icons. If successful, <em>On achievement metadata success</em> is triggered.</p>
<p><strong>Increment</strong><br>
<strong>Set steps</strong><br>
Add to, or set, the number of steps in an incremental achievement. Once the full number of steps has been reached, the achievement is automatically unlocked.</p>
<p><strong>List achievements</strong><br>
List the achievements for the currently signed in player. Optionally the list of achievements can be filtered to only those in a given state (e.g. revealed). If successful, <em>On achievement list success</em> triggers.</p>
<p><strong>Reveal</strong><br>
If an achievement is hidden, set its state to 'revealed' for the currently signed in player. If revealing for the first time, <em>On achievement revealed</em> will be triggered.</p>
<p><strong>Unlock</strong><br>
If an achievement is not already unlocked, set its state to unlocked for the currently signed in player. If unlocking for the first time, <em>On achievement unlocked</em> will be triggered.</p>
<p><strong>Request player details</strong><br>
Request the details of the current player, such as their name and avatar image. If successful <em>On player details received</em> triggers and the <em>Player details</em> category of expressions can be used.</p>
<p><strong>Sign in</strong><br>
If the player is not already signed in, pop up a window that allows them to sign in. Due to popup blockers, this may only work in a user input event, such as <em>On button clicked</em> or <em>On touch start</em>.</p>
<p><strong>Sign out</strong><br>
If the player is already signed in, sign them out. This also allows for a different user to then sign in.</p>
<p><strong>Request hi-scores</strong><br>
Request a hi-score list for a given leaderboard. Scores can be returned for public results, or "social" (from users connected to the currently signed in player), and a time limit can be applied such as to return only the day's best scores so far. The <em>top</em> type returns the very highest scores, and the <em>window</em> type returns the scores around the current player's own best score, allowing them to see where they appear in the rankings.</p>
<p><strong>Submit score</strong><br>
Submit a new hi-score to a leaderboard. A <em>tag</em> can be provided, which is just a short string (up to 64 characters) associated with this score board entry, e.g. a short comment or an alternative alias for the player. If successfully submitted, <em>On score submit success</em> triggers.</p>
<a name="h2a8"></a><h3 id="h2ix8">Google Play expressions</h3>
<p><strong>AchievementsCount</strong><br>
The total number of achievements available. The achievements list must already have been successfully requested.</p>
<p><strong>AchievementNameAt(index)</strong><br>
<strong>AchievementDescriptionAt(index)</strong><br>
<strong>AchievementIDAt(index)</strong><br>
<strong>AchievementStepsAt(index)</strong><br>
<strong>AchievementTotalStepsAt(index)</strong><br>
<strong>AchievementTypeAt(index)</strong><br>
Retrieve information about a given achievement in the achievements list. The achievements list must already have been successfully requested.</p>
<p><strong>AchievementUnlockedIconURLAt(index)</strong><br>
<strong>AchievementRevealedIconURLAt(index)</strong><br>
Retrieve the icon image URL for a given icon in either its unlocked or revealed state. This can be displayed using the Sprite object's <em>Load image from URL</em> action.</p>
<p><strong>ErrorMessage</strong><br>
In <em>On error</em>, the relevant error message if available.</p>
<p><strong>HiScoreCount</strong><br>
The number of hi-scores in the current returned list of results.</p>
<p><strong>HiScoreTotalCount</strong><br>
The total number of scores in the leaderboard, which may be greater than the number of returned results (<em>HiScoreCount</em>).</p>
<p><strong>HiScoreAt(index)</strong><br>
<strong>HiScoreFormattedAt(index)</strong><br>
Return a numerical value, or formatted string, for a score at a given index.</p>
<p><strong>HiScoreRankAt(index)</strong><br>
<strong>HiScoreFormattedRankAt(index)</strong><br>
Return the numerical rank, or formatted string of the rank (e.g. "1st"), at a given index.</p>
<p><strong>HiScoreNameAt(index)</strong><br>
Return the name of the player associated with the score at an index.</p>
<p><strong>HiScoreTagAt(index)</strong><br>
Return the tag (a short string) that was submitted along with the score at an index.</p>
<p><strong>HiScoreMyBest</strong><br>
<strong>HiScoreMyFormattedBest</strong><br>
<strong>HiScoreMyBestRank</strong><br>
<strong>HiScoreMyBestFormattedRank</strong><br>
<strong>HiScoreMyBestTag</strong><br>
Return the details for the current player's own best score, including the numerical and formatted versions of the score and rank.<a name="anchor-187"></a></p>
<h2>6.17 iAd</h2>
The <strong>iAd</strong> object allows ads from Apple's iAd service to be displayed in iOS apps built with PhoneGap Build.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Setup</h3>
<p>For information on how to register for an iAd account and set up your app to use it, please refer to Apple's documentation, in particular the <a href="https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/Chapters/ConfiguringStoreTechnologies.html#//apple_ref/doc/uid/TP40011225-CH2-SW5" target="_blank">iTunes Connect developer guide ⇗</a>.</p>
<a name="h2a1"></a><h3 id="h2ix1">iAd properties</h3>
<p>The iAd object has no properties.</p>
<a name="h2a2"></a><h3 id="h2ix2">iAd conditions</h3>
<p><strong>On banner received</strong><br>
Triggered after the <em>Load banner</em> action, when the banner has been downloaded and is ready to be displayed.</p>
<p><strong>On banner error</strong><br>
Triggered if an error occurs trying to display a banner ad at any time.</p>
<a name="h2a3"></a><h3 id="h2ix3">iAd actions</h3>
<p><strong>Load banner</strong><br>
Start loading a banner at a given position on the screen. If <em>Auto-show</em> is <em>Yes</em>, as soon as the banner is loaded it will be displayed. If <em>No</em>, it will trigger <em>On banner received</em> but not display it. The banner can then be shown any time after that trigger instantly, providing a way to pre-load banners.</p>
<p><strong>Show/hide banner</strong><br>
Display a pre-loaded banner, or hide any showing banner.</p>
<a name="h2a4"></a><h3 id="h2ix4">iAd expressions</h3>
<p>The iAd object has no expressions.<a name="anchor-173"></a></p>
<h2>6.18 IAP</h2>
IAP stands for <strong>In-App Purchases</strong>. The IAP plugin allows access to purchasing functionality on a variety of stores.<p></p>
<p>Projects using the IAP plugin cannot be exported with the Free edition. A license is necessary to be able to export projects using IAP. Note that the Free edition may not be used for commercial purposes.</p>
<a name="h2a0"></a><h3 id="h2ix0">Supported stores</h3>
<p>Currently the IAP plugin supports these platforms:</p>
<ul>
<li>PhoneGap Build (iOS + Android)</li>
<li>CocoonJS (iOS + Android)</li>
<li>Ejecta (iOS)</li>
<li>Windows Store (Windows 8+, Windows Phone 8.1+)</li>
<li>Blackberry 10</li>
<li>Amazon Appstore</li>
<li>Tizen</li>
</ul>
<a name="h2a1"></a><h3 id="h2ix1">Platform documentation</h3>
<p>Each operating system has a different way of configuring in-app purchases. Please refer to vendor documentation for further help. Links are provided below.</p>
<p>iOS: <a href="https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnectInAppPurchase_Guide/Chapters/Introduction.html" target="_blank">configuring with iTunes Connect ⇗</a><br>
Android: <a href="http://developer.android.com/google/play/billing/index.html" target="_blank">Google Play In-App Billing ⇗</a><br>
Windows Store: <a href="http://msdn.microsoft.com/en-us/library/windows/apps/jj193599.aspx" target="_blank">MSDN documentation ⇗</a><br>
Blackberry 10: <a href="http://developer.blackberry.com/html5/documentation/v2_2/payment_service.html" target="_blank">Blackberry payment service ⇗</a><br>
Amazon Appstore: <a href="https://developer.amazon.com/appsandservices/apis/earn/in-app-purchasing" target="_blank">Amazon documentation ⇗</a></p>
<p>Please note vendor documentation may refer to code samples. You can ignore these since Construct 2's IAP plugin handles this for you. The main parts of the documentation you need to refer to are how to register seller accounts, how to add the items available for sale to the app, and testing and publishing. If a store has a test or developer mode at all, then the <em>Test mode</em> property of the IAP object will enable or disable that mode for the store.</p>
<a name="h2a2"></a><h3 id="h2ix2">Basic usage</h3>
<p>To access in-app purchasing features, the basic usage is as follows:</p>
<ol>
<li>On start of layout, use the <em>Add product ID</em> action to add the product IDs you will be using, e.g. "product1,product2,product3".</li>
<li>After that (still in the 'Start of layout' event), use the <em>Request store listing</em> action. This starts downloading the names and prices of the given products. Some platforms require this information to be available for the IAP features to work.</li>
<li>When <em>On store listing success</em> triggers, the product names and prices are available, and purchases can start being made or checked with the <em>Has product</em> condition.</li>
</ol>
<a name="h2a3"></a><h3 id="h2ix3">Terminology</h3>
<p>The plugin uses a <em>Product ID</em> to refer to an individual item available for sale. This is a short unique string, e.g. "myitem". Some stores instead refer to this in different ways, such as the "SKU". This does not matter; you can still enter it as a product ID, so long as it is the string that identifies the item. This is usually also different to the product name.</p>
<a name="h2a4"></a><h3 id="h2ix4">App purchases</h3>
<p>The Windows Store allows the app itself to be purchased, e.g. to unlock premium features. The IAP has features such as the <em>Purchase app</em> action to support this. However the other platforms do not support the app itself being purchased. To make sure your events are compatible with other stores, purchasing the app will translate in to purchasing a product with the ID "app". </p>
<a name="h2a5"></a><h3 id="h2ix5">Using Test Mode</h3>
<p>The <strong>Test mode</strong> property of the IAP object should be set to <em>Yes</em> during development, but <strong>must be set to No before publishing</strong>. In Test Mode, store purchases are simulated. Different stores have different terminology for this, including "Test mode", "Sandbox mode", or "Developer mode". Each store also handles test mode in its own way; in many cases all purchases will be forgotten each time you restart the app, allowing you to test that the purchase flows work.</p>
<a name="h2a6"></a><h3 id="h2ix6">Publishing</h3>
<p>When publishing your app, it will be necessary to set up the store with the list of items you wish to have available for sale. The process for this is different for each platform and is usually part of the publishing process. Be sure to carefully record any product IDs you use in your events, and make sure you add an item with each product ID when publishing. Note that as described in the <em>App purchases</em> section above, if you use app purchases you should add a product with the ID "app" to represent purchasing the app itself on all stores except the Windows Store.</p>
<a name="h2a7"></a><h3 id="h2ix7">IAP properties</h3>
<p><strong>Test mode</strong><br>
See the section on <em>Using Test Mode</em> above.</p>
<p><strong>Item group ID</strong> (under <em>Tizen store settings</em>)<br>
This setting applies only to apps published to the Tizen store. When publishing your app, create an item group for the IAP items you want available in the app, and then enter the item group ID in to this property.</p>
<a name="h2a8"></a><h3 id="h2ix8">IAP conditions</h3>
<p><strong>Has product</strong><br>
Test if a given product ID has been successfully purchased by the user. Note that in some cases this will be false for the first few seconds of the app running even if the user has purchased the item, and then later become true when the store finishes loading the store status in the background. Try to avoid using this condition before <em>On store listing success</em> triggers.</p>
<p><strong>Is app purchased</strong><br>
On the Windows Store, test if the app itself has been purchased. On other platforms, tests if the product ID "app" has been purchased.</p>
<p><strong>Is store available</strong><br>
True if a supported store is currently available and purchases can be made. False on unsupported platforms or if no store is available (such as in an ordinary web browser).</p>
<p><strong>On any purchase success</strong><br>
<strong>On any purchase failed</strong><br>
Triggered after any purchase finishes to indicate whether it was successful (and the item is now owned) or unsuccessful.</p>
<p><strong>On purchase success</strong><br>
<strong>On purchase failed</strong><br>
Triggered after the purchase of a specific product ID finishes, to indicate whether it was successful (and the item is now owned) or unsuccessful.</p>
<p><strong>On store listing success</strong><br>
<strong>On store listing failed</strong><br>
Triggered after the <em>Request store listing</em> action has completed, to indicate whether the store listing was successfully retrieved. After <em>On store listing success</em> you can then check whether products are purchased, make new purchases, and retrieve lists of available items and their details.</p>
<a name="h2a9"></a><h3 id="h2ix9">IAP actions</h3>
<p><strong>Add product ID</strong><br>
Use on start of layout to indicate all the product IDs the app will be using. The action can be used multiple times, or with a comma-separated list of product IDs to add multiple products at once. See the section on <em>Basic usage</em> above for more information.</p>
<p><strong>Purchase app</strong><br>
On the Windows Store, request to purchase the app itself. On other platforms, request the purchase of the product ID "app".</p>
<p><strong>Purchase product</strong><br>
Request to purchase a particular product by its product ID.</p>
<p><strong>Request store listing</strong><br>
Request the details of available and purchased items from the store. This must be used on start of layout. See the section on <em>Basic usage</em> above for more information.</p>
<p><strong>Restore purchases</strong><br>
Update the status of which items have been purchased from the store.</p>
<a name="h2a10"></a><h3 id="h2ix10">IAP expressions</h3>
<p><strong>AppName</strong><br>
<strong>AppPrice</strong><br>
Return the name and price of the app itself on the Windows Store. On other platforms, returns the name and price of the product ID "app".</p>
<p><strong>Error message</strong><br>
In a "failed" trigger, the error message text if available.</p>
<p><strong>ProductID</strong><br>
The ID of the relevant product in a trigger, e.g. <em>On any purchase success</em>.</p>
<p><strong>ProductName(productid)</strong><br>
<strong>ProductPrice(productid)</strong><br>
Return the name or price of a product available for purchase by its product ID. This information is only available after <em>On store listing success</em> triggers.<a name="anchor-138"></a></p>
<h2>6.19 Intel AGI</h2>
The <strong>Intel® AGI</strong> plugin provides integration with the Intel® App Game Interfaces (AGI) platform.  For more information see the tutorial <a href="https://www.scirra.com/tutorials/304/how-to-export-to-the-intel-xdk" target="_blank">How to export to the Intel AGI ⇗</a>.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Intel AGI conditions</h3>
<p><strong>Is in Intel AGI</strong><br>
True if the game is running inside Intel AGI.  It will be false if running anywhere else, e.g. on the open web.</p>
<p><strong>Caching enabled</strong><br>
<em>(For advanced users)</em> True if Intel AGI's caching service has been enabled.</p>
<p><strong>Compare initial orientation</strong><br>
Test if the orientation of the device at startup was a particular orientation.</p>
<p><strong>Compare orientation</strong><br>
Test if the current orientation of the device is a particular orientation.</p>
<p><strong>Push enabled</strong><br>
<em>(For advanced users)</em> True if Intel AGI's push notifications service is enabled.</p>
<p><strong>Streaming enabled</strong><br>
<em>(For advanced users)</em> True if Intel AGI's streaming service is enabled.</p>
<p><strong>Updates enabled</strong><br>
True if Intel AGI's cloud update service is enabled.</p>
<p><strong>On 'back' button pressed</strong><br>
Triggers when the device's 'back' button is pressed, if it has one.  Note some devices (e.g. iOS) do not have back buttons.  Before this trigger will run, you must have added a virtual page using the <em>Add virtual page</em> action.</p>
<p><strong>On barcode scanned</strong><br>
Triggered when the device successfully scans a barcode.</p>
<p><strong>On remote data</strong><br>
Triggered when data is received from the <em>Get remote data</em> action.</p>
<p><strong>On remote site closed</strong><br>
Triggered when a pop-over browser showing remote content is closed by the user.  It is opened by the <em>Show remote site</em> action.</p>
<a name="h2a1"></a><h3 id="h2ix1">Intel AGI actions</h3>
<p><strong>Log event</strong><br>
Log a named event for Intel AGI's analytics service.  Parameters can be provided in URL format, e.g. <em>foo=bar&amp;baz=ban</em>.</p>
<p><strong>Add to media cache</strong><br>
Download a media file from the Internet and store it on the local device storage, allowing it to be used offline in future.</p>
<p><strong>Clear all cookies</strong><br>
Remove all cookies saved with the <em>Set cookie</em> action from the device.  (The user's browser cookies are not affected.)</p>
<p><strong>Clear media cache</strong><br>
Delete all media files downloaded with <em>Add to media cache</em>.</p>
<p><strong>Remove cookie</strong><br>
Remove a cookie set with the <em>Set cookie</em> action.  (The user's browser cookies are not affected.)</p>
<p><strong>Remove from media cache</strong><br>
Remove a file added with <em>Add to media cache</em>.</p>
<p><strong>Set cookie</strong><br>
Set a cookie on the device.  This is a substitute for local storage.  The user's browser is not affected; storage is for the convenience of the app only.</p>
<p><strong>Close remote site</strong><br>
Close a remote site being displayed with the <em>Show remote site</em> action.</p>
<p><strong>Get remote data</strong><br>
Make a background AJAX request using Intel AGI's service.  The <em>On remote data</em> trigger will fire when completed.</p>
<p><strong>Install update</strong><br>
Install a pending update if one is ready.</p>
<p><strong>Launch external site</strong><br>
Open a URL in the user's default browser on the device.  The user will leave the app, unlike the <em>Show remote site</em> action.</p>
<p><strong>Scan barcode</strong><br>
Open a fullscreen QR code reader.  <em>On barcode scanned</em> will trigger on a successful scan.</p>
<p><strong>Set auto-rotate</strong><br>
Prevent the device from automatically rotating the display when the device changes orientation.  This can force a specific orientation when used with <em>Set orientation</em>.</p>
<p><strong>Show remote site</strong><br>
Show a remote URL in an in-app browser.  The user does not leave the app.  The user can press a close button to return to the app, unlike the <em>Launch external site</em> action.</p>
<p><strong>Update connection</strong><br>
Check whether the device's connection type has changed (e.g. 3G, Wifi, etc).</p>
<p><strong>Add virtual page</strong><br>
Use when opening a new screen you want to be able to close with the 'back' button.  The next time the back button is pressed after this action will prevent the device default action and trigger <em>On 'back' button pressed</em>.</p>
<p><strong>Remove virtual page</strong><br>
Remove a previously added virtual page, e.g. if cancelling a screen.</p>
<a name="h2a2"></a><h3 id="h2ix2">Intel AGI expressions</h3>
<p><strong>Cookie</strong><br>
Return the data stored by a <em>Set cookie</em> action.</p>
<p><strong>LocalMediaCacheURL</strong><br>
Get the local path for a media file cached from the Internet via the <em>Add to media cache</em> action.</p>
<p><strong>AppMobiVersion</strong><br>
Return the current version of the Intel XDK wrapper software. Note this uses the old "AppMobi" name for backwards compatibility reasons.</p>
<p><strong>DeviceBarcodeData</strong><br>
Return the data scanned from a barcode.  This is only available in <em>On barcode scanned</em> after calling the <em>Scan barcode</em> action.</p>
<p><strong>DeviceConnection</strong><br>
The type of the best connection available to the device: either "wifi", "cell" or "none".</p>
<p><strong>DeviceModel</strong><br>
The model name of the device.</p>
<p><strong>DeviceOSVersion</strong><br>
The OS version information for the device.</p>
<p><strong>DevicePlatform</strong><br>
"iOS" or "Android" depending on the current platform.</p>
<p><strong>DeviceQueryString</strong><br>
Returns any query string passed along to the application when launched with a protocol handler.</p>
<p><strong>DeviceRemoteData</strong><br>
The data returned from <em>Get remote data</em> after <em>On remote data</em> triggers.</p>
<p><strong>DeviceRemoteStatus</strong><br>
One of "open", "closed" or "idle".</p>
<p><strong>DeviceUUID</strong><br>
Return the device's Universally Unique Identifier (UUID), which is a code uniquely identifying the specific device.</p>
<p><strong>InitialOrientation</strong><br>
The device orientation upon startup, as a number of degrees (0, -90, 90 or 180).</p>
<p><strong>Orientation</strong><br>
The current device orientation, as a number of degrees (0, -90, 90 or 180).<a name="anchor-113"></a></p>
<h2>6.20 Keyboard</h2>
<p>The <strong>Keyboard</strong> object allows projects to respond to keyboard input.</p>
<p>Note on the modern web it is naïve to assume all users have a keyboard.  Many users now browse the web with touch-screen devices that have no keyboard.  (The Keyboard object also does not respond to input from on-screen keyboards on any modern touch devices.)  Therefore if your game uses exclusively mouse or keyboard control, it is impossible to use on touch devices.  See the <a href="https://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">Touch controls ⇗</a> tutorial for an alternative control system.</p>
<p>Also note that there are a variety of keyboard layouts used internationally. For example if you only provide "WASD" as direction controls, your game may be difficult to control on <a href="http://en.wikipedia.org/wiki/AZERTY" target="_blank">AZERTY keyboards ⇗</a>. "ZQSD" controls covers the AZERTY layout, but there are <a href="http://en.wikipedia.org/wiki/Keyboard_layout#QWERTY-based_layouts_for_Latin_script" target="_blank">many other possible keyboard layouts ⇗</a>. In this case, also supporting arrow keys for direction controls will cover most international keyboards, but remember the same problem applies for any other controls depending on a specific key layout.</p>
<h3>Browser shortcut keys</h3>
<p>In some browsers, some keys are shortcuts for browser actions.  For example, space bar sometimes is a shortcut to scroll down the page.  If any events exist for 'On key pressed' with a given key, Construct 2 blocks the browser from performing its normal action.  For example, if you wish to prevent space bar scrolling down the page, add an empty 'On Space pressed' event, if you don't have one already.</p>
<h3>Key codes</h3>
<p>It's possible to detect key presses by numerical <em>key codes</em> with the Keyboard object.  A key code is simply a number assigned to every possible key on the keyboard.  This can be useful for implementing custom controls, since key codes can be stored in variables.</p>
<h3>Keyboard conditions</h3>
<p><strong>Key code is down</strong><br>
True if a given key by its key code is currently being held down.</p>
<p><strong>On key code pressed</strong><br>
Triggered when a specific key code is pressed.</p>
<p><strong>On key code released</strong><br>
Triggered when a specific key code is released.</p>
<p><strong>Key is down</strong><br>
True if a given keyboard key is currently being held down.</p>
<p><strong>On any key pressed</strong><br>
Triggered when any keyboard key is pressed.  Useful for title screens or cutscenes.  The corresponding key code is set in the <em>LastKeyCode</em> expression.</p>
<p><strong>On any key released</strong><br>
Triggered when any keyboard key is released.  The corresponding key code is set in the <em>LastKeyCode</em> expression.</p>
<p><strong>On key pressed</strong><br>
Triggered when a specific keyboard key is pressed.</p>
<p><strong>On key released</strong><br>
Triggered when a specific keyboard key is released.</p>
<h3>Keyboard actions</h3>
<p>The Keyboard object does not have any actions.</p>
<h3>Keyboard expressions</h3>
<p><strong>LastKeyCode</strong><br>
Retrieve the key code of the last key press.  This is useful in <em>On any key pressed</em> or <em>On any key released</em> to determine the key code of the key the user pressed, which is useful when setting up custom controls.</p>
<p><strong>StringFromKeyCode</strong><br>
Convert a numerical key code back in to a string representation. For example this turns the key code 65 in to the string "A".</p>
<a name="anchor-155"></a><h2>6.21 List</h2>
<p>The <strong>List</strong> object creates either a <strong>dropdown list</strong> or <strong>list box</strong> form control.  A dropdown list only shows one item but can be expanded to show the full list; a list box shows multiple items at once.  The image below shows a dropdown list on the left (which has been expanded), and a list box on the right.</p>
<p><img src="./manual_files/listtypes.png" alt="List types" width="322" height="86"></p>
<p>Form controls are actual HTML elements floating above the game canvas in the HTML page. Therefore, nothing can be displayed on top of a form control, apart from other form controls.</p>
<p>Form controls position themselves according to the layer parallax, scale and so on. However they are not truly "in the game" (since they float above), so it is recommended to avoid using scrolling, parallax and layer scaling with form controls, otherwise the end result can feel unnatural.</p>
<h3>Styling List objects</h3>
<p>List form controls can be customised in a huge number of ways via CSS (Cascading Style Sheets). Rather than adding actions to set all of the possible properties, the List object exposes a <em>Set CSS style</em> action. Knowing CSS will of course be an advantage here, but it is simple to use for simple properties. A few examples are listed below.</p>
<p><em>Make the text red:</em> Set "color" to "red"<br>
<em>Make the background yellow:</em> Set "background-color" to "yellow"<br>
<em>Make the border a thick light grey:</em> Set "border" to "3px solid #AAAAAA"<br>
<em>Make the font bigger:</em> Set "font-size" to "2em"<br>
<em>Make a dashed red border:</em> Set "border" to "2px dashed red"</p>
<h3>List properties</h3>
<p><strong>Items</strong><br>
A semicolon-separated list of the initial items to display in the list.  For example, <em>One;Two;Three</em> will display three separate choices.</p>
<p><strong>Tooltip</strong><br>
A tooltip that appears in most browsers if the user hovers the mouse over the button and waits. Leave blank for no tooltip.</p>
<p><strong>Initial visibility</strong><br>
Whether or not the control is initially visible in the layout.</p>
<p><strong>Enabled</strong><br>
Whether the control is initially enabled.  If <em>No</em>, the control will appear greyed out and the selection cannot be modified.</p>
<p><strong>Type</strong><br>
Choose between the <em>List box</em> and <em>Dropdown list</em> control styles.  An image displaying the two types is shown above.</p>
<p><strong>Multi-select</strong><br>
Allow more than one item to be selected when <em>Type</em> is <em>List box</em>. This has no effect for dropdown lists.</p>
<p><strong>Auto font size</strong><br>
Automatically set the font-size property of the element according to the layout and layer scale. This will prevent the font-size CSS property being manually set with the <em>Set CSS style</em> action. Set to <em>No</em> if you intend to use <em>Set CSS style</em> to adjust the font-size property.</p>
<p><strong>ID (optional)</strong><br>
An optional <em>id</em> attribute for the element in the DOM (Document Object Model). This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p>
<h3>List conditions</h3>
<p><strong>Compare item text at</strong><br>
Compare the text of a given item in the list.</p>
<p><strong>Compare selected item text</strong><br>
Compare the text of the currently selected item in the list.</p>
<p><strong>Compare selection</strong><br>
Compare the zero-based index of the currently selected item.</p>
<p><strong>On clicked</strong><br>
Triggered when the control is clicked.</p>
<p><strong>On double-clicked</strong><br>
Triggered when the control is double-clicked.</p>
<p><strong>On selection changed</strong><br>
Triggered whenever the chosen selection in the control is changed. This can be by any means of input (such as a mouse click, keyboard press, or touch input on mobile).</p>
<h3>List actions</h3>
<p><strong>Set CSS style</strong><br>
Set a CSS (Cascading Style Sheets) style on the list element. For more information, see the section <em>Styling List objects</em>. Note that if the <em>Auto font size</em> property is set to <em>Yes</em>, any changes to the font-size property will be overridden.</p>
<p><strong>Add item</strong><br>
Append a new item to the end of the list of available choices.</p>
<p><strong>Add item at</strong><br>
Insert a new item to the list of available choices at a certain zero-based index.</p>
<p><strong>Clear</strong><br>
Remove all the available choices from the list.</p>
<p><strong>Remove</strong><br>
Delete an item at a specific index.</p>
<p><strong>Set item text</strong><br>
Change the text of an item at a specific index.</p>
<p><strong>Set selection</strong><br>
Set the item at a specific index as selected.</p>
<p><strong>Set enabled</strong><br>
Enable or disable the control.  If disabled, it will appear greyed out and the selection cannot be modified.</p>
<p><strong>Set tooltip</strong><br>
Set the <em>Tooltip</em> property of the object, displayed by most browsers when hovering the mouse over the control.</p>
<p><strong>Set focused</strong><br>
<strong>Set unfocused</strong><br>
Either set or unset the input focus to this control. When focused, keyboard input affects the control.</p>
<h3>List expressions</h3>
<p><strong>ItemCount</strong><br>
The current number of items in the list.</p>
<p><strong>ItemTextAt</strong><br>
Return the text of an item at a zero-based index in the list.</p>
<p><strong>SelectedCount</strong><br>
The number of currently selected items.  This will always be either 0 or 1 unless a list box with <em>Multi-select</em> enabled is used.</p>
<p><strong>SelectedIndex</strong><br>
The zero-based index of the currently selected item. For multi-select lists, use <em>SelectedIndexAt</em> instead.</p>
<p><strong>SelectedIndexAt</strong><br>
The index of a selected item out of all the selected items. In other words, <em>SelectedIndexAt</em> with numbers 0 to <em>SelectedCount - 1</em> gives the indices of all the selected items.</p>
<p><strong>SelectedText</strong><br>
The text of the currently selected item. For multi-select lists, use <em>SelectedTextAt</em> instead.</p>
<p><strong>SelectedTextAt</strong><br>
The text of a selected item out of all the selected items. In other words, <em>SelectedTextAt</em> with numbers 0 to <em>SelectedCount - 1</em> gives the text of each selected item.</p>
<a name="anchor-188"></a><h2>6.22 Local Storage</h2>
The <strong>Local Storage</strong> plugin can <strong>store data locally</strong> on the user's device. For example it can be used to store a personal best high-score. Note if you want a full-state save and load feature, see <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.<p></p>
<p>Local Storage works offline, since it stores data to the device itself. Different browsers use different storages, so data is not shared between different browsers on the same computer - each browser has its own unique storage. This is also separate to the browser <em>cache</em>, which is temporary storage to avoid needlessly re-downloading the same files over and over again. However the user can usually still choose to clear local storage data from their browser (with an option perhaps named something like "clear offline website data"). Non-browser export options like NW.js, Cordova or Windows Store apps are not affected by the user clearing any amount of data from any browser, they also use separate storage. Finally for security reasons browsers use separate storage per domain. For example all content on <em>scirra.com</em> shares the same storage, but content on <em>facebook.com</em> uses a different storage and cannot access any data saved from <em>scirra.com</em>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Storage quotas</h3>
<p>To prevent abuse, most browsers implement a storage quota, which is a maximum amount of data that can be saved locally. On most modern browsers this is at least 50mb. If the quota is exceeded, the <em>On error</em> trigger will fire.</p>
<a name="h2a1"></a><h3 id="h2ix1">Using Local Storage</h3>
<p>Local Storage uses a very simple storage system: values are stored under named <em>keys</em>, similar to how the <a href="#anchor-140">Dictionary object</a> works. For example the value 100 could be stored under a key named <em>score</em>.</p>
<p>Local Storage is asynchronous. This means reading and writing data does not complete immediately. The actions only start the process of reading or writing a value, and the game continues to run in the interim. This ensures that slow or busy storage systems do not impact the performance of the game. When the read or write is complete, a trigger fires (<em>On item get</em> or <em>On item set</em>) which indicates either the value is available to read (with the <em>ItemValue</em> expression) or that the value was successfully written.</p>
<p>For example here is a flow to read the value of the key "score":</p>
<ol>
<li>Use the action <em>Get item "score"</em></li>
<li>A moment later, <em>On item "score" get</em> triggers</li>
<li>In this trigger, use the <em>ItemValue</em> expression to read the item</li>
</ol>
<p>Here is a flow to set the new value of "score":</p>
<ol>
<li>Use the action <em>Set item "score" to 100</em></li>
<li>A moment later, <em>On item "score" set</em> triggers</li>
<li>You may not need to do anything in this trigger, but it indicates the value has been successfully written. The <em>Key</em> and <em>ItemValue</em> expressions are still set in this trigger in case you need them.</li>
</ol>
<p>Note that you must be careful to avoid "races" when using asynchronous storage. For example the <em>Clear storage</em> action may take a moment to complete before it fires <em>On storage cleared</em>. It is possible to write more values to storage in between, while <em>Clear storage</em> is still processing. This is like "racing" the <em>Clear storage</em> and <em>Set item</em> actions: the end result depends on what order they complete in, which is unpredictable. In this case it is more or less random what happens: the written keys may be cleared, or they may not be - you cannot rely on any specific result. Therefore you should be careful to avoid this case.</p>
<a name="h2a2"></a><h3 id="h2ix2">Simplifying usage with Dictionary</h3>
<p>Although it improves performance, dealing with asynchronous reads and writes can sometimes be difficult. One simple way to conveniently have synchronous storage is to store an entire <a href="#anchor-140">Dictionary object</a>'s contents to Local Storage, by saving its <em>AsJSON</em> string. Then you can load this content from Local Storage with the <em>Load</em> action. This means only saving and loading the dictionary contents is asynchronous, and the rest of the time you can use the Dictionary object's features to synchronously access data, such as simply using its <em>Get</em> expression to immediately read a value. However you must remember to save the Dictionary again at some point before the user quits the game.</p>
<a name="h2a3"></a><h3 id="h2ix3">Local Storage conditions</h3>
<p><strong>On any item get</strong><br>
Triggered after any <em>Get item</em> action completes.</p>
<p><strong>On any item removed</strong><br>
Triggered after any <em>Remove item</em> action completes.</p>
<p><strong>On any item set</strong><br>
Triggered after any <em>Set item</em> action completes.</p>
<p><strong>On item exists</strong><br>
Triggered after the <em>Check item exists</em> action completes if the key checked does indeed exist. In this trigger the <em>ItemValue</em> expression is also set to the value of this key, so there is no need to use another <em>Get item</em> action to read it.</p>
<p><strong>On item get</strong><br>
Triggered after a <em>Get item</em> action completes for a given key. The <em>ItemValue</em> expression is set to the value of the key.</p>
<p><strong>On item missing</strong><br>
Triggered after the <em>Check item exists</em> action completes if the key checked does not exist.</p>
<p><strong>On item removed</strong><br>
Triggered after the <em>Remove item</em> action completes for a given key.</p>
<p><strong>On item set</strong><br>
Triggered after the <em>Set item</em> action completes for a given key. This indicates the data is now in storage.</p>
<p><strong>Compare key</strong><br>
Compare the current value of the <em>Key</em> expression, which is the name of the current key in a trigger. This can be useful in the <em>On any item...</em> triggers.</p>
<p><strong>Compare value</strong><br>
Compare the current value of the <em>ItemValue</em> expression, which is set to the item value when getting an item or in <em>On item exists</em>.</p>
<p><strong>On all key names loaded</strong><br>
Triggered after the <em>Get all key names</em> action completes. In this trigger the <em>KeyCount</em> and <em>KeyAt</em> expressions give the list of all the key names.</p>
<p><strong>On error</strong><br>
Triggered at any time while using Local Storage if an error occurs, such as if a write failed, or the maximum storage quota was exceeded. The <em>ErrorMessage</em> expression is set to the error message if available.</p>
<p><strong>On storage cleared</strong><br>
Triggered after the <em>Clear storage</em> action completes and storage is now empty.</p>
<p><strong>Is processing gets</strong><br>
True if any <em>Get item</em> actions are still processing, i.e. any <em>On item get</em> trigger is yet to fire for a <em>Get item</em> action.</p>
<p><strong>Is processing sets</strong><br>
True if any <em>Set item</em> actions are still processing, i.e. any <em>On item set</em> trigger is yet to fire for a <em>Set item</em> action.</p>
<p><strong>On all gets complete</strong><br>
Triggered when all outstanding <em>Get item</em> actions are completed, i.e. when <em>Is processing gets</em> first becomes false. In other words if 10 <em>Get item</em> actions are all used at the same time, <em>On all gets complete</em> triggers when all 10 items have been read and fired their <em>On item get</em> triggers.</p>
<p><strong>On all sets complete</strong><br>
Triggered when all outstanding <em>Set item</em> actions are completed, i.e. when <em>Is processing sets</em> first becomes false. In other words if 10 <em>Set item</em> actions are all used at the same time, <em>On all sets complete</em> triggers when all 10 items have been written and fired their <em>On item set</em> triggers.</p>
<a name="h2a4"></a><h3 id="h2ix4">Local Storage actions</h3>
<p><strong>Check item exists</strong><br>
Check if a key exists in storage. This triggers either <em>On item exists</em> if the key exists, or <em>On item missing</em> if the key does not exist. If the item exists, the <em>ItemValue</em> expression is set to the key value in the <em>On item exists</em> trigger, so there is no need to use a subsequent <em>Get item</em> action to read the value.</p>
<p><strong>Get item</strong><br>
Read the value of a key in storage. This triggers <em>On item get</em> when the value has been read, where the <em>ItemValue</em> expression is set to the value of the key.</p>
<p><strong>Remove item</strong><br>
Remove (delete) a key from storage. This triggers <em>On item removed</em> when the key has been removed.</p>
<p><strong>Set item</strong><br>
Set the value of a key in storage. This triggers <em>On item set</em> when the value has been written.</p>
<p><strong>Clear storage</strong><br>
Remove (delete) all items from storage, reverting it back to the empty state. This triggers <em>On storage cleared</em> when completed.</p>
<p><strong>Get all key names</strong><br>
Retrieve a list of all the key names that currently exist in storage. This triggers <em>On all key names loaded</em> when the list has been loaded, where the <em>KeyCount</em> and <em>KeyAt</em> expressions can be used to access the list.</p>
<a name="h2a5"></a><h3 id="h2ix5">Local Storage expressions</h3>
<p><strong>ItemValue</strong><br>
The value for a key that has been read or written in any Local Storage trigger, such as <em>On item get</em> or <em>On item exists</em>. This can be either a string or a number. This returns 0 if used outside of a Local Storage trigger.</p>
<p><strong>Key</strong><br>
The name of the key that was modified in any Local Storage trigger, such as <em>On item get</em>, <em>On item set</em> or <em>On any item set</em>. This returns an empty string if used outside of a Local Storage trigger.</p>
<p><strong>ErrorMessage</strong><br>
In <em>On error</em>, the text of the error message if any is available.</p>
<p><strong>KeyAt(index)</strong><br>
In <em>On all key names loaded</em>, the name of the key at the given zero-based index in the list.</p>
<p><strong>KeyCount</strong><br>
In <em>On all key names loaded</em>, the number of key names in the list.<a name="anchor-114"></a></p>
<h2>6.23 Mouse</h2>
<p>The <strong>Mouse</strong> object allows projects to respond to mouse input.</p>
<p>Note on the modern web it is naïve to assume all users have a mouse.  Many users now browse the web with touch-screen devices that have no mouse.  Therefore if your game uses exclusively mouse or keyboard control, it is impossible to use on touch devices.  See the <a href="https://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">Touch controls ⇗</a> tutorial for an alternative control system.</p>
<p>If you only use left clicks, consider instead using the <a href="#anchor-119">Touch object</a> with <em>Use Mouse Input</em> set to <em>Yes</em>. This will allow your game to work on touchscreen devices without any further changes.</p>
<h3>Selecting elements in the page</h3>
<p>By default the browser selects elements in the page when the user clicks and drags.  Construct 2 blocks the canvas itself from being selected so the game is not affected by rapid clicks and drags.  However, if your game is embedded on another page, the user may accidentally select other page elements.  You can add the following attribute to any HTML elements to prevent them from being selectable:</p>
<p><em>onselectstart="return false;"</em></p>
<p>You can add this to the &lt;body&gt; tag to prevent selections on the entire page, but be warned this can cause difficulties for users if there is anything the user may want to genuinely select on the page.</p>
<h3>Mouse conditions</h3>
<p><strong>Cursor is over object</strong><br>
True if the mouse cursor is hovering over an object.</p>
<p><strong>Mouse button is down</strong><br>
True if a given mouse button (left, middle or right) is currently being held down.</p>
<p><strong>On any click</strong><br>
Triggered when any mouse button is clicked.  Useful for title screens or cutscenes.</p>
<p><strong>On button released</strong><br>
Triggered when a given mouse button is released.</p>
<p><strong>On click</strong><br>
Triggered when a given mouse button is pressed.  This can also be used to detect double-clicks.</p>
<p><strong>On mouse wheel</strong><br>
Triggered when the mouse wheel (if any) is scrolled up or down a notch.  <strong>Note:</strong> adding this trigger anywhere in your game will prevent the mouse wheel scrolling the page in the browser, so use this with care.</p>
<p><strong>On object clicked</strong><br>
Triggered when a given mouse button is pressed while the mouse cursor is over an object.  This can also be used to detect double-clicks on objects.</p>
<h3>Mouse actions</h3>
<p><strong>Set cursor from sprite</strong><br>
Set the cursor image from a <a href="#anchor-115">Sprite</a> object.  This is preferable to setting a sprite to the mouse co-ordinates, because the input lag is significantly lower.  Various limitations apply: the sprite image is used as it appears in the image editor, not taking in to account size or rotation in the layout; the image cannot be too large (64x64 is usually the limit); and support varies depending on browser and OS.</p>
<p><strong>Set cursor style</strong><br>
Set the type of mouse cursor showing for the canvas in the HTML page.  The cursor can be hidden completely by choosing <em>None</em>.</p>
<h3>Mouse expressions</h3>
<p><strong>AbsoluteX</strong><br>
<strong>AbsoluteY</strong><br>
Return the position of the mouse cursor over the canvas area in the HTML page.  This is (0, 0) at the top left of the canvas and goes up to the window size.  It is not affected by any scrolling or scaling in the game.</p>
<p><strong>X</strong><br>
<strong>Y</strong><br>
Return the position of the mouse cursor in game co-ordinates.  This is (0, 0) at the top left of the layout.  It changes to reflect scrolling and scaling.  However, if an individual layer has been scrolled, scaled or rotated, these expressions do not take that in to account - for that case, use the layer versions below.</p>
<p><strong>X("layer")</strong><br>
<strong>Y("layer")</strong><br>
Return the position of the mouse cursor in game co-ordinates, with scrolling, scaling and rotation taken in to account for the given layer.  The layer can be identified either by a string of its name or its zero-based index (e.g. <em>Mouse.X(0)</em>).</p>
<a name="anchor-174"></a><h2>6.24 Multiplayer</h2>
The <strong>Multiplayer object</strong> provides features to develop real-time online multiplayer games. It uses <em>WebRTC DataChannels</em>, a peer-to-peer networking feature of modern browsers, to transmit gameplay data.<p></p>
<p>Not all browsers or platforms support the Multiplayer object. To test if it is supported, use the <em>Is supported</em> condition.</p>
<a name="h2a0"></a><h3 id="h2ix0">Multiplayer features</h3>
<p>The Multiplayer object supports a number of features to enable low-latency gameplay over the Internet:</p>
<ul>
<li>UDP-based transmission for minimal latency avoiding head-of-line blocking, with optional reliable modes</li>
<li>NAT traversal to connect through common router/network setups</li>
<li>Compensation for poor quality connections with high latency, packet delay variation (PDV), and packet loss</li>
<li>Interpolation and extrapolation modes to ensure smooth in-game motion</li>
<li>Scirra-hosted signalling server to connect peers to each other</li>
<li>Authoritative host model to prevent cheating, with local input prediction to hide input latency</li>
<li>LAN game support for near-zero latency gameplay, including support for mixed LAN/Internet games</li>
<li>Automatic bandwidth reduction when objects are not changing, avoiding redundant repeated transmissions of identical data</li>
<li>Binary transmission with control over specific datatypes to minimise bandwidth</li>
<li>Latency and packet loss simulation for realistic local testing</li>
<li>Support for lag compensation</li>
<li>Support for both peer-to-peer games (not needing a server) and centrally-hosted games (using a server)</li>
</ul>
<a name="h2a1"></a><h3 id="h2ix1">Learning to make Multiplayer games</h3>
<p>Designing Multiplayer games is challenging. It is essential to follow the introductory tutorial series to gain an understanding of how to use the Multiplayer object correctly. You are likely to struggle if you try to skip ahead and start making a game without fully understanding how various aspects of multiplayer games work. Mistakes can also result in degraded gameplay quality, with unnecessary lag.</p>
<p>The four introductory tutorials are:</p>
<p><a href="https://www.scirra.com/tutorials/892/multiplayer-tutorial-1-concepts" target="_blank">Multiplayer tutorial 1: concepts ⇗</a><br>
<a href="https://www.scirra.com/tutorials/906/multiplayer-tutorial-2-chat-room" target="_blank">Multiplayer tutorial 2: chat room ⇗</a><br>
<a href="https://www.scirra.com/tutorials/979/multiplayer-tutorial-3-pong" target="_blank">Multiplayer tutorial 3: pong ⇗</a><br>
<a href="https://www.scirra.com/tutorials/915/multiplayer-tutorial-4-real-time-game" target="_blank">Multiplayer tutorial 4: real-time game ⇗</a></p>
<a name="h2a2"></a><h3 id="h2ix2">Signalling and hosting</h3>
<p>The <em>signalling server</em> is a central server where players go to find each other. Scirra host an official signalling server at <strong>wss://multiplayer.scirra.com</strong>. The signalling server does not transmit any gameplay data; it serves only to connect peers to the game host by relaying connection information like IP addresses. Players must connect and log in to the signalling server before they can join any rooms.</p>
<p>The first player in to a room becomes the host. The host acts as the server for the game, transferring actual gameplay data. Any player can be the host. This means games can run without needing any server hosting, saving you from having to pay bandwidth bills to run your multiplayer game.</p>
<p>If you have a large or particularly latency-sensitive game you can still run your game with a dedicated server host to take advantage of its better quality connection. Simply run a browser on the server, run the game and make sure the server is the first to join the room so it becomes the host. Now the server connection will be hosting the game. You can host multiple games on a server by opening multiple browser tabs (a hosted game can continue to work in a background tab). Note this means your server is genuinely running the game - as mentioned, the signalling server only helps peers connect to the room host, and actual gameplay data will be transmitted through your server if it is the room host. It is not necessary to run your own signalling server to achieve this.</p>
<a name="h2a3"></a><h3 id="h2ix3">Peer IDs</h3>
<p>The signalling server assigns every player who connects a <em>Peer ID</em>. This is a short string of random characters that uniquely identifies them, such as "ABCD". When designing multiplayer games, it is best to identify peers by their peer ID instead of their alias (display name), since their alias could potentially change but their peer ID never changes so long as they remain connected.</p>
<a name="h2a4"></a><h3 id="h2ix4">Sending messages</h3>
<p>Peers only connect to the host. In other words, the host has a connection to every peer, and peers only have one connection to the host. In order for two peers to communicate, the information must be relayed via the host.</p>
<p>Consequently, the host can directly message any peer in the room, but peers can only directly message the host. See the chat tutorial for an example of how to relay messages through the host so other peers can receive messages from another peer.</p>
<p>The host also has the unique ability to <em>broadcast</em> a message. This sends the same message to every peer in the room.</p>
<p>Messages can be sent with different reliability modes. These are:</p>
<p><strong>Reliable ordered</strong>: all messages are guaranteed to arrive, and the order received will be the same as the order sent. However this can have the highest latency since a lost message will need retransmitting and will hold up every message sent after it. This mode is suitable for chat messages.</p>
<p><strong>Reliable unordered</strong>: all messages are guaranteed to arrive, but the order received can be different from the order sent. This allows improved latency since a lost message will be held up as it is retransmitted, but subsequent messages can still get through quickly without being held up. This mode is suitable for gameplay events that occur independently of each other, such as "door opened" or "explosion occurred".</p>
<p><strong>Unreliable</strong>: messages are not guaranteed to arrive, and the order received can be different from the order sent. The network will make a "best effort" attempt to deliver the message, but the message may be dropped and the recipient will never receive it and will have no indication it was even attempted to be sent. This mode is suitable for high-bandwidth or regularly-sent messages, where if a message is dropped it is likely to be shortly followed up by another one. Note the Multiplayer object uses this mode internally for object positions and data when using <em>Sync oject</em>; avoid reimplementing this functionality with this mode.</p>
<a name="h2a5"></a><h3 id="h2ix5">Updating games</h3>
<p>The host is authoritative for both gameplay data and its settings. If you change any aspect of your game, such as the synced objects or variables, the client input values, or bandwidth profile, the host's values are authoritative when there is a mismatch between the peer and the host. In order to avoid confusion or broken games, use a different game instance name when distributing an update, so only peers using the same version end up connecting to each other.</p>
<a name="h2a6"></a><h3 id="h2ix6">Multiplayer conditions</h3>
<p><strong>Compare peer count</strong><br>
Compare the number of peers currently in the room, if a room has been joined. The peer count includes the host so is at least 1 if in a room.</p>
<p><strong>Is host</strong><br>
True if in a room and acting as the host. The host of the room is effectively the server for the game. Peers only connect to the host, and the host must relay data if two other peers are to communicate.</p>
<p><strong>On any peer message</strong><br>
Triggered when a message with any tag is received. The <em>Message</em>, <em>Tag</em>, <em>FromID</em> and <em>FromAlias</em> expressions can be used to retrieve information about the received message. The order messages are received, or whether a sent message is received at all, depends on the reliability mode chosen when the message was originally sent.</p>
<p><strong>On kicked</strong><br>
Triggered if kicked from the current room. This can occur if the host quits, the connection to the host could not be established, or the host otherwise decides to forcibly remove you from the room. After <em>On kicked</em> the player is no longer in the room and must re-join a room to be able to participate in a game.</p>
<p><strong>On peer connected</strong><br>
Triggered when another peer joins the same room. It also triggers once per peer already in the room when joining an existing room, including the host. The <em>PeerID</em> and <em>PeerAlias</em> expressions identify the relevant peer.</p>
<p><strong>On peer disconnected</strong><br>
Triggered when a peer disconnects from the room. The <em>PeerID</em> and <em>PeerAlias</em> expressions identify the peer that left. The <em>LeaveReason</em> expression can indicate why the peer left, such as if they intentionally quit or timed out.</p>
<p><strong>On peer message</strong><br>
Triggered when a message sent with a specific tag is received. The <em>Message</em>, <em>FromID</em> and <em>FromAlias</em> expressions can be used to retrieve information about the received message. The order messages are received, or whether a sent message is received at all, depends on the reliability mode chosen when the message was originally sent.</p>
<p><strong>Is ready for input</strong><br>
True when a peer is ready to send input to the host. This means <em>On client update</em> has triggered at least once, or is about to trigger. Do not allow players using input prediction to move or act before this condition is true or <em>On client update</em> has triggered: doing so will simply cause an input prediction error since the host is not yet ready to receive input.</p>
<p><strong>On client update</strong><br>
Triggered when a peer is about to send its input state to the host. The input state should be updated in this trigger using the <em>Set client state</em> action.</p>
<p><strong>Is connected</strong><br>
True if currently connected to the signalling server. It is not necessary to be connected to a signalling server once connected to the room host.</p>
<p><strong>Is in room</strong><br>
True if currently in a room on the signalling server.</p>
<p><strong>Is logged in</strong><br>
True if currently connected to the signalling server and successfully logged in.</p>
<p><strong>On connected</strong><br>
Triggered after successfully connecting to the signalling server. In order to join rooms, it is necessary to next log in to the server.</p>
<p><strong>On disconnected</strong><br>
Triggered after disconnecting from the signalling server.</p>
<p><strong>On error</strong><br>
Triggered if an error occurs with the signalling server. The <em>ErrorMessage</em> expression indicates the type of error that occurred.</p>
<p><strong>On game instance list</strong><br>
Triggered after <em>Request game instance list</em> when the list has been received from the signalling server. The <em>List...</em> expressions can be used to retrieve the list details.</p>
<p><strong>On joined room</strong><br>
Triggered after the <em>Join room</em> or <em>Auto-join room</em> actions when the room has been successfully joined. The <em>Is host</em> condition can be used to determine if the player is the first joining peer and has been assigned the room host.</p>
<p><strong>On left room</strong><br>
Triggered after the <em>Leave room</em> action when the room has been left. The room is also left if <em>On kicked</em> triggers.</p>
<p><strong>On logged in</strong><br>
Triggered after the <em>Log in</em> action if the login is successful. Once logged in it is possible to join rooms. Note the signalling server may have assigned a different alias to the one requested if it was already taken; use the <em>MyAlias</em> expression to determine the actual alias in use.</p>
<p><strong>On room list</strong><br>
Triggered after the <em>Request room list</em> action when the room list has been successfully received. The room list expressions can then be used to inspect the received list.</p>
<p><strong>Supports multiplayer</strong><br>
Test if the current browser or platform supports multiplayer games. If false, none of the features of the Multiplayer object will work.</p>
<a name="h2a7"></a><h3 id="h2ix7">Multiplayer actions</h3>
<p><strong>Add client input value</strong><br>
Use on startup to add a value that peers send to the host to indicate their input state. Each client input value has a tag to identify it; use this tag to update the value with the <em>Set client state</em> action. To avoid wasting bandwidth, use the lowest <em>Precision</em> that can still hold all the values that need to be set. If using <em>setbit</em> / <em>getbit</em> to send key states, you must use <em>None</em> for <em>Interpolation</em>; otherwise use <em>Linear</em> for values like positions, or <em>Angular</em> if representing an angle.</p>
<p><strong>Associate object with peer</strong><br>
If <em>Sync object</em> is used on objects which represent peers in the game, use this action to associate an instance of an object with a given peer. Typically this is used in the object's <em>On created</em> trigger. Both the host and peers must associate objects with peers. Associated objects are automatically destroyed when the corresponding peer leaves.</p>
<p><strong>Disconnect</strong><br>
Disconnect from the room. If the room host, all players are kicked; otherwise the peer disconnects from the host. The room is also left on the signalling server, so another room can be joined afterwards.</p>
<p><strong>Send message</strong><br>
Send a message to a specific peer with a given reliability mode. Peers can only message the host (and the <em>Peer ID</em> field must be left empty), but the host can send a message to any peer. Message tags can be used to identify messages for different purposes, such as "chat" or "gameplay-event". The message must be a text string, but could also be JSON data such as from an Array or Dictionary <em>AsJSON</em> expression; however be sure to avoid wasting bandwidth. The order messages arrive, or whether it is guaranteed to arrive at all, depends on the reliability mode.</p>
<p><strong>Set bandwidth profile</strong><br>
Switch between <em>Internet</em> or <em>LAN</em> (Local Area Network) bandwidth modes. The bandwidth profile must be set before joining a room, and only the host's setting is used for all peers in the room. The default mode is <em>Internet</em>, which sends updates 30 times a second with an 80ms buffer. <em>LAN</em> mode sends updates 60 times a second with a 40ms buffer. <em>LAN</em> mode will use about double the bandwidth of <em>Internet</em> mode and will degrade gameplay quality more if there is latency or PDV in the connection. <em>LAN</em> mode should never be used for Internet games - it is intended for networks where bandwidth is effectively unlimited and latency effectively zero, which is typically only the case with local area networks, and taking advantage of this can improve gameplay quality. <em>Internet</em> mode should however work well over LANs, so if in doubt leave it on that.</p>
<p><strong>Simulate latency</strong><br>
Simulate latency, PDV and packet loss on all inbound and outbound messages. This can be useful for making local testing more realistic, since unlike the Internet latency is effectively non-existent. For local testing it is only necessary to simulate latency on the host, since that guarantees every message in the game will have delay added; it is not necessary to also simulate latency on the peers. The latency for an individual message is calculated as the latency plus a random value from zero to the PDV. The packet loss indicates the chance an unreliable message is lost entirely, or in the case of reliable messages that retransmission is necessary and the latency is multiplied.</p>
<p><strong>Sync object</strong><br>
Automatically sync an object. The host sends information about synced objects to peers. This is one-way transmission; peers sync with what is happening on the host. As synced objects are created, moved and destroyed on the host, they are correspondingly created, moved and destroyed on all connected peers. It is important to disable any behaviors and deactivate any events on the peers that may attempt to move the objects themselves; this will conflict with what <em>Sync object</em> is trying to do, and will not have any effect on the host. Peers should use their client input values as their sole way of influencing the game. Synced objects can optionally include their position and/or angle with a given precision; if <em>None</em>, then it simply ensures the same numbers of objects are created. <em>Bandwidth</em> can be used to reduce the number of updates it is necessary to send for a synced objects. <em>Normal bandwidth (unpredictable)</em> will send updates for the object at most every update (30 times a second in Internet mode) and is suitable for objects with unpredictable movement. <em>Low bandwidth (highly predictable)</em> will send updates at most 10 times a second, which should only be used for highly predictable motion such as moving in a straight line at the same speed (it is not enough to handle changes in motion smoothly). <em>Very low bandwidth (essentially static)</em> will send updates at most twice a second, which should only be used for objects which are not expected to move but nevertheless can occasionally be created or destroyed, such as scenery. Note that even in <em>Normal bandwidth</em> mode, objects which are not changing gradually reduce their bandwidth to twice a second anyway, so static objects will still end up using <em>Very low bandwidth</em> mode. Therefore it is not normally necessary to change this, and it is suitable to use <em>Normal bandwidth</em> even for objects which rarely change.</p>
<p><strong>Sync instance variable</strong><br>
Add an instance variable to sync with an object. The host sends the values of the instance variable for each object to the peers, keeping them up to date. The chosen object must already first be synced with <em>Sync object</em>. The <em>Precision</em> corresponds to the precision for <em>Sync object</em>, with an additional <em>Very low (uint8, 1 byte)</em> option, useful for bitwise flags. Interpolation can be <em>None</em> (updates in steps), linear (linearly smoothed interpolation between values, suitable for positions), or angular (rotational interpolation between angles). The <em>Client value tag</em> should be the name of the corresponding client input value, if any, to help ensure the host can sync the instance variable with minimal latency. Note: text instance variables cannot be synced, only numbers. To share text data between peers, use messages instead.</p>
<p><strong>Broadcast message</strong><br>
As with <em>Send message</em>, but can only be used by the host. This sends a message to every peer in the room. <em>From ID</em> can be used to indicate the message is being sent on behalf of another peer; if it is used, when peers receive the message the <em>FromID</em> and <em>FromAlias</em> will be set to this peer. Also the message will <em>not</em> be sent to the specified <em>From ID</em> peer, since usually this is redundant. If it is empty, it will be sent to all peers and received as from the host.</p>
<p><strong>Kick peer</strong><br>
When host, forcibly disconnect a peer from the room so they are no longer participating. The kicked peer will be notified that they have been disconnected and optionally the kick reason can be displayed. Peers cannot kick anyone, only the host can.</p>
<p><strong>Enable local input prediction</strong><br>
Enable local input prediction on an object representing the local player. The object must be associated with the local peer's ID, and the game logic must correctly attempt to move both the local player and the player on the host in exactly the same way with correct use of client input values. This allows local controls to have immediate effect, but apply correction if the host position starts to deviate from the local position. See the fourth multiplayer tutorial for more information.</p>
<p><strong>Set client state</strong><br>
In <em>On client update</em>, set the value of a client input value by its tag. The value must be a number, and <em>Add client input value</em> must have been used on startup to add a value with the given tag in advance.</p>
<p><strong>Add ICE server</strong><br>
Add a custom Interactive Connectivity Establishment (ICE) server used by WebRTC to establish connections between peers. There are a couple of built-in public STUN servers used, but you can also provide your own TURN servers to enable connectivity through certain kinds of NAT. A username and credential can also be optionally provided if the server requires them.</p>
<p><strong>Auto-join room</strong><br>
Join the first available room with the given game, instance and first room name. The player must be connected and logged in to the signalling server. The first player to join a room becomes the host. Be sure to use a unique name for the <em>Game</em>. For example if "myroom" is full, it will try "myroom2", "myroom3", etc. This effectively arranges all joining peers in to games of a particular size. If the room is locked when full, then late-joiners are not allowed; if left unlocked and a peer leaves after the game starts, a newly joining peer may be added back to the game to top it up to the <em>Max peers</em> again. Upon joining, <em>On joined room</em> triggers.</p>
<p><strong>Connect</strong><br>
Connect to a signalling server. The official Scirra signalling server is at <strong>ws://multiplayer.scirra.com</strong>. Upon successful connection, <em>On connected</em> will trigger.</p>
<p><strong>Disconnect</strong><br>
Disconnect from the signalling server.</p>
<p><strong>Join room</strong><br>
Join a specific room in the given game instance. The player must be connected and logged in to the signalling server. The first player to join a room becomes the host. <em>Max peers</em> can be used to limit the number of peers that join. Only the host's value is used. If the room is full, subsequently joining peers will receive a "room full" error. The peer count includes the host, so 2 is the minimum value, or it can be left as 0 to allow an unlimited number of peers to join. Upon successfully joining, <em>On joined room</em> triggers.</p>
<p><strong>Leave room</strong><br>
If in a room, leaves the room on the signalling server. <em>On left room</em> triggers upon the server acknowledging the request to leave. Note the room has not really been left until that trigger runs.</p>
<p><strong>Log in</strong><br>
Once connected, log in to the signalling server. Players must log in before they can join rooms. The <em>Alias</em> is the requested display name to use. Note that if the requested alias is already taken, the server will automatically assign an alternative; be sure to use the <em>Multiplayer.MyAlias</em> after logging in to determine the actual alias in use. Upon a successful login, <em>On logged in</em> triggers.</p>
<p><strong>Request game instance list</strong><br>
Request a list of active game instances within the given game. When the response is received <em>On game instance list</em> triggers and the name and total number of peers in the returned instances can be listed using the <em>List...</em> expressions.</p>
<p><strong>Request room list</strong><br>
Request a list of active rooms within a given game instance. The returned list can include all rooms, only rooms which are unlocked, or only rooms which are available to join (unlocked and not full). When the requested list is received, <em>On room list</em> triggers.</p>
<a name="h2a8"></a><h3 id="h2ix8">Multiplayer expressions</h3>
<p><strong>ListInstanceCount</strong><br>
After <em>On game instance list</em> triggers, the number of game instances in the received list.</p>
<p><strong>ListInstanceName(index)</strong><br>
<strong>ListInstancePeerCount(index)</strong><br>
Get the name and peer count of a given game instance in the returned instance list.</p>
<p><strong>ListRoomCount</strong><br>
After <em>On room list</em>, the number of rooms in the received list.</p>
<p><strong>ListRoomName(index)</strong><br>
<strong>ListRoomPeerCount(index)</strong><br>
<strong>ListRoomMaxPeerCount(index)</strong><br>
<strong>ListRoomState(index)</strong><br>
After <em>On room list</em>, retrieve information for a room at an index in the received list. The state can be one of "available", "locked" or "full".</p>
<p><strong>FromAlias</strong><br>
<strong>FromID</strong><br>
The alias and ID of the peer a message is from in <em>On message received</em> or <em>On any message received</em>.</p>
<p><strong>HostAlias</strong><br>
<strong>HostID</strong><br>
When in a room, the alias and ID of the host of the room.</p>
<p><strong>LeaveReason</strong><br>
A string identifying a reason for leaving in <em>On peer disconnected</em>, if known, e.g. "quit", "timeout", "network error"...</p>
<p><strong>Message</strong><br>
The contents of the received message in <em>On message received</em> or <em>On any message received</em>.</p>
<p><strong>PeerAlias</strong><br>
<strong>PeerID</strong><br>
The alias and ID of the relevant peer in a trigger like <em>On peer connected</em> or <em>On peer disconnected</em>.</p>
<p><strong>PeerCount</strong><br>
The number of peers in the current room, including the host.</p>
<p><strong>PeerAliasAt(index)</strong><br>
<strong>PeerIDAt(index)</strong><br>
The alias and ID of the nth peer in the current room, up to <em>PeerCount</em>.</p>
<p><strong>PeerAliasFromID(peerid)</strong><br>
Get the alias of a peer in the current room from their peer ID.</p>
<p><strong>PeerLatency(peerid)</strong><br>
<strong>PeerPDV(peerid)</strong><br>
Get the latency and packet delay variation (PDV) of a peer from their peer ID. Peers can only use this to get the stats for the host, since that is the only connection they have, but the host can use it for any peer.</p>
<p><strong>Tag</strong><br>
The tag of the received message in <em>On any message received</em>.</p>
<p><strong>LagCompensateAngle(movingPeerID, fromPeerID)</strong><br>
<strong>LagCompensateX(movingPeerID, fromPeerID)</strong><br>
<strong>LagCompensateY(movingPeerID, fromPeerID)</strong><br>
Return the lag-compensated position and angle for <em>movingPeerID</em> as seen by <em>fromPeerID</em>. In other words, this returns the past position of <em>movingPeerID</em> going back by the amount of time that <em>fromPeerID</em> is delayed by, given their latency. For example this can be used to perform a lag-compensated hit-test when <em>fromPeerID</em> shoots a laser. This is covered in more detail in the fourth multiplayer tutorial.</p>
<p><strong>PeerState(peerid, tag)</strong><br>
When host, retrieve the latest client state value with the given tag, for a given peer ID. The peer will have set this with the <em>Set client state</em> action to indicate their input state.</p>
<p><strong>CurrentGame</strong><br>
<strong>CurrentInstance</strong><br>
<strong>CurrentRoom</strong><br>
Retrieve the current game, instance and room names, if joined on the signalling server.</p>
<p><strong>ErrorMessage</strong><br>
In <em>On signalling error</em>, the error message if available.</p>
<p><strong>MyAlias</strong><br>
<strong>MyID</strong><br>
The current player's own alias and ID, once connected and logged in to the signalling server.</p>
<p><strong>SignallingMOTD</strong><br>
<strong>SignallingName</strong><br>
<strong>SignallingOperator</strong><br>
<strong>SignallingURL</strong><br>
<strong>SignallingVersion</strong><br>
Once connected to the signalling server, retrieve the Message Of The Day (MOTD), server name, server operator, website URL and server version for the connected server.</p>
<p><strong>ClientXError</strong><br>
<strong>ClientYError</strong><br>
The input prediction error for peers, used for debugging.</p>
<p><strong>HostX</strong><br>
<strong>HostY</strong><br>
The position the host has for the current peer, used for debugging.</p>
<p><strong>StatInboundBandwidth</strong><br>
<strong>StatOutboundBandwidth</strong><br>
Return the total estimated inbound and outbound bandwidth for all data transmission through the Multiplayer object, in bytes per second.</p>
<p><strong>StatInboundCount</strong><br>
<strong>StatOutboundCount</strong><br>
Return the total number of separate inbound and outbound messages sent and received by the Multiplayer object. This includes internally-used messages for things like ping and synchronisation; generally the bandwidth is the more practically useful statistic.<a name="anchor-162"></a></p>
<h2>6.25 NW.js</h2>
The <strong>NW.js</strong> object allows access to features specific to the NW.js exporter, such as reading and writing files to the local disk drive.<p></p>
<p>Note that the <a href="#anchor-107">AJAX object</a> can read files from the application folder (but not write files) when exporting to NW.js. This may allow you to implement file reading in a cross-platform manner. Also note the AJAX object reads files asynchronously, whereas the NW.js object conducts all operations synchronously.</p>
<a name="h2a0"></a><h3 id="h2ix0">What is NW.js?</h3>
<p>NW.js is essentially a standalone version of the Google Chrome web browser, but while looking like an ordinary desktop app (so there are no browser tabs, address bar, back/forward buttons etc). Exporting using NW.js allows your project to run as a standalone desktop app on Windows, Mac and Linux, and does not require any particular other browser to be installed.</p>
<p>Note NW.js was formerly known as node-webkit.</p>
<a name="h2a1"></a><h3 id="h2ix1">Previewing</h3>
<p>Since NW.js is based on the Google Chrome browser, usually previewing in Chrome will run it identically to when exported with NW.js. However the features of the NW.js plugin (such as file access) do not work in the Google Chrome web browser. In order to test these features in preview mode, it is possible to choose <em>NW.js</em> for the <em>Preview browser</em> <a href="#anchor-66">project property</a>. This allows you to test your game with the features of this plugin working.</p>
<p>Note that previewing with NW.js runs directly from its install directory. As a consequence, the <em>AppFolder</em> expression will return the install path. If this poses a problem for you, use the following workaround: have a global string variable; if 'Is in preview' is true hard-code it to some development folder somewhere else, otherwise set it to <em>NWjs.AppFolder</em>. Then use the global variable instead of the AppFolder expression.</p>
<a name="h2a2"></a><h3 id="h2ix2">Using file paths correctly</h3>
<p>Never hard-code paths (such as using an action to write to a fixed file path like "C:\MyGame\MyFile.txt"). This unfriendly to users, and is often perceived as unprofessional, untidy, or filling the user's system with junk. Not only that but in many cases it simply will not work, since not all users have permission to read or write to folders outside of their user directory.</p>
<p>It is tempting to solve this by writing files to the application's folder. However this also may not work; on many versions of Windows, the <em>Program Files</em> folder requires administrator permission to write to, although you can read from it.</p>
<p>The solution is to write to the user's folder, which you almost certainly have write permission for. This is provided by the <em>UserFolder</em> expression. The correct way to determine a file path in the user's folder is like this:</p>
<p><strong>NWjs.UserFolder &amp; "myfile.txt"</strong></p>
<p>If you only need to read files, and don't need to write them, you can safely use the application folder (<em>NWjs.AppFolder</em>) instead.</p>
<a name="h2a3"></a><h3 id="h2ix3">Text file encoding</h3>
<p>The NW.js object has the ability to read and write text files on disk. To support all possible languages, it always reads and writes with the UTF-8 encoding. To ensure the plugin reads your own text files correctly, ensure they are encoded as UTF-8.</p>
<a name="h2a4"></a><h3 id="h2ix4">NW.js conditions</h3>
<p><strong>On folder dialog OK</strong><br>
Triggered after the <em>Show folder dialog</em> action, when the user has selected OK. The <em>ChosenPath</em> expression contains the selected folder.</p>
<p><strong>On open dialog OK</strong><br>
Triggered after the <em>Show open dialog</em> action, when the user has selected OK. The <em>ChosenPath</em> expression contains the selected file to open.</p>
<p><strong>On save dialog OK</strong><br>
Triggered after the <em>Show save dialog</em> action, when the user has selected OK. The <em>ChosenPath</em> expression contains the selected file to save.</p>
<p><strong>On file dropped</strong><br>
Triggered after the user drag-and-drops a file in to the application window. The <em>DroppedFile</em> expression contains the path to the file that was dropped in, allowing you to load it to read its contents.</p>
<p><strong>Path exists</strong><br>
Test if a given folder or file path exists on the user's system.</p>
<a name="h2a5"></a><h3 id="h2ix5">NW.js actions</h3>
<p><strong>Clear clipboard</strong><br>
Remove any thing cut or copied to the clipboard. The user will not be able to paste anything immediately after this action.</p>
<p><strong>Set clipboard text</strong><br>
Set some text to be copied to the clipboard. This has the same effect as if the user had selected the text in a text box and selected 'Copy'. They can then paste the text in to any other application.</p>
<p><strong>Show folder dialog</strong><br>
Open a dialog allowing the user to pick a folder on their local system. If the user selects OK, <em>On folder dialog OK</em> triggers and the <em>ChosenPath</em> expression contains the selected folder.</p>
<p><strong>Show open dialog</strong><br>
Open a dialog allowing the user to choose a file to open on their local system. If the user selects OK, <em>On open dialog OK</em> triggers and the <em>ChosenPath</em> expression contains the selected file. The <em>Accept</em> parameter is a comma-separated list of file extensions or MIME types that the dialog can use to filter possible files. For example, <em>".txt,.json"</em> will allow filtering by all .txt or .json files, and <em>"text/*"</em> will allow filtering by any file with a text MIME type.</p>
<p><strong>Show save dialog</strong><br>
Open a dialog allowing the user to choose a file to save to on their local system. If the user selects OK, <em>On save dialog OK</em> triggers and the <em>ChosenPath</em> expression contains the selected file. The <em>Accept</em> parameter is a comma-separated list of file extensions or MIME types that the dialog can use to filter possible files. For example, <em>".txt,.json"</em> will allow filtering by all .txt or .json files, and <em>"text/*"</em> will allow filtering by any file with a text MIME type.</p>
<p><strong>Append file</strong><br>
Add some text to the end of the file. This is usually faster than writing the full file again with some new content at the end. Appending to files can be useful for logging.</p>
<p><strong>Copy file</strong><br>
Make an identical binary copy of a file at a new location.</p>
<p><strong>Create folder</strong><br>
Create a new folder on the user's local system.</p>
<p><strong>Delete file</strong><br>
Delete a file from the user's local system. Be sure to use this carefully, since a mistake could mean deleting the wrong file.</p>
<p><strong>List files</strong><br>
Read a list of every subfolder and file in a given folder. After this action the <em>ListCount</em> and <em>ListAt</em> expressions can be used to return the items in the list.</p>
<p><strong>Move file</strong><br>
Make an identical binary copy of a file at a new location, then delete the old file. Note you should use the <em>Rename file</em> rather than the <em>Move file</em> action if you intend to move it to a new name in the same folder.</p>
<p><strong>Open browser</strong><br>
Open the default browser on the system to a given URL.</p>
<p><strong>Rename file</strong><br>
Set a new name for an existing file path.</p>
<p><strong>Run file</strong><br>
Run the file at an existing file path. This is analogous to double-clicking the file in the OS file explorer. For executable programs, it will attempt to run the program; for other file types, it will open the default associated program, such as the system default image editor if an image file is given.</p>
<p><strong>Write file</strong><br>
Write a text file to the user's local system. If the file does not exist, it is created. If the file already exists, its content is overwritten.</p>
<p><strong>Maximize</strong><br>
Maximize the window on the user's desktop. It will take up most (but usually not all) of the display.</p>
<p><strong>Minimize</strong><br>
Minimize the window to the operating system start bar or dock.</p>
<p><strong>Request attention</strong><br>
Perform an operating-specific activity to show attention is required from the user, such as by flashing the title bar of the window.</p>
<p><strong>Restore</strong><br>
Restore the window to show it again after minimizing.</p>
<p><strong>Set always on top</strong><br>
Set whether the window always appears on top of other windows.</p>
<p><strong>Set width</strong><br>
<strong>Set height</strong><br>
Set the dimensions of the window. Note this includes the window title bar and borders, so the actual displayed area of the game may be less than the window size you set.</p>
<p><strong>Set maximum size</strong><br>
<strong>Set minimum size</strong><br>
Set the maximum and minimum sizes that the user can resize the window to.</p>
<p><strong>Set resizable</strong><br>
Enable or disable resizing of the window.</p>
<p><strong>Set title</strong><br>
Set the text that appears in the title bar or caption of the window.</p>
<p><strong>Set X</strong><br>
<strong>Set Y</strong><br>
Set the position of the window on the user's desktop, in pixels relative to the top-left of the primary monitor.</p>
<p><strong>Show dev tools</strong><br>
Since NW.js is based on Chromium, this action brings up the Chromium developer tools (such as Javascript debugger and console). This may be useful to inspect console messages or for developing plugins with the Javascript SDK.</p>
<p><strong>Unmaximize</strong><br>
Undo a window maximize, restoring the window to its previous size.</p>
<a name="h2a6"></a><h3 id="h2ix6">NW.js expressions</h3>
<p><strong>ClipboardText</strong><br>
The current text that the user has copied to the clipboard, if any. This allows you to 'paste' the data automatically.</p>
<p><strong>ChosenPath</strong><br>
Return the path that was selected after <em>On folder dialog OK</em>, <em>On open dialog OK</em> or <em>On save dialog OK</em>.</p>
<p><strong>AppFolder</strong><br>
Return the path to the application's folder, including the trailing slash. Read permission can be expected, but write permission cannot be guaranteed (for example the <em>Program Files</em> folder on Windows requires administrator permission to write to).</p>
<p><strong>DroppedFile</strong><br>
In <em>On file dropped</em>, the path to the file that was dropped in to the application's window.</p>
<p><strong>FileSize(path)</strong><br>
Return the size of a given file, in bytes.</p>
<p><strong>ListAt(index)</strong><br>
After the <em>List files</em> action, returns the file or folder name at the zero-based index in the list.</p>
<p><strong>ListCount</strong><br>
After the <em>List files</em> action, returns the number of files or folders in the list.</p>
<p><strong>ReadFile(path)</strong><br>
Open the given file and return its text content as a string. Note that each time this expression is used the file is opened and read from disk. Therefore if the expression is used twice, the file is opened and read twice, which can impact performance. If necessary first read the file to a variable, then reference the variable multiple times.</p>
<p><strong>UserFolder</strong><br>
Return the path to the user folder, which is typically where the user's documents and other personal files are kept. Both read and write permissions can be expected.</p>
<p><strong>WindowWidth</strong><br>
<strong>WindowHeight</strong><br>
Retrieve the current size of the window in pixels. Note this includes the window title bar and borders, so may be larger than the display area of the game.</p>
<p><strong>WindowTitle</strong><br>
Get the current text showing in the window title bar or caption.</p>
<p><strong>WindowX</strong><br>
<strong>WindowY</strong><br>
Get the current position of the window in pixels relative to the top-left point of the user's primary monitor.<a name="anchor-135"></a></p>
<h2>6.26 Particles</h2>
The <strong>Particles</strong> object can quickly create visual effects by creating and moving many small images independently.  It is a versatile object capable of many different kinds of visual effects.  There are several examples in the <a href="#anchor-148">Start dialog</a>, ranging from fire to fountains (search for <strong>Particles</strong> in the dialog).  The image below shows an example of one of the particle effects possible with the object.<p></p>
<p><a href="./manual_files/particles.jpg" target="_blank"><img width="578" height="446" class="article-image thumb-img" src="./manual_files/particles.jpg" alt="Demo of the Particles object"></a></p>
<div class="full-size-img"><a href="./manual_files/particles.jpg" target="_blank">Open full size image</a></div><a href="./manual_files/particles.jpg" target="_blank"> ⇗</a><!--imgend--><br>
The Particles object has many parameters to change the behavior of each particle.  Also, it requires a texture used to draw each particle.  Often a simple white spot on a black background is sufficient.<p></p>
<p>The <strong>Additive blend mode</strong> works especially well with the Particles object.  It makes each particle brighten the background rather than pasting its image over the background, and allows particles to blend in to each other as well rather than simply overlapping.  This makes particles look more like light sources.  The below image shows what the effect does when the texture is a white spot on a black background.</p>
<p><img width="478" height="234" class="article-image" src="./manual_files/particlesadditive.png" alt="Additive particles"><!--imgend--><br>
Colored effects can be created using colored particle images.  Note that since the Additive effect brightens the background towards white, any objects using an Additive effect will not show up on a white background.  The effect works best on dark backgrounds.</p>
<p>For more information about blend modes and effects, see the manual section on <a href="#anchor-147">Effects</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Particles in the Layout View</h3>
<p>The Particles object is represented in the Layout View by two red lines which represent the <strong>spray cone</strong> (the angle through which particles are fired), with the particle texture in the middle.  The Particle object's origin is where particles are created from.  An example is shown below on the left, with the effect at runtime on the right.</p>
<p><img width="523" height="255" class="article-image" src="./manual_files/particleslayoutview.png" alt="Particles in the Layout View"><!--imgend--><br>
The size of the particles object in the layout view is not important.  The object will automatically size itself at runtime to fit all the particles it has created.</p>
<a name="h2a1"></a><h3 id="h2ix1">How particle effects work</h3>
<p>The particle effect works similarly to using the <a href="#anchor-90">Bullet behavior</a> on each particle.  Initially particles are fired forwards at a given speed and at an angle within the spray cone.  Each particle is then individually controlled with different alterations to its speed, angle, opacity and size during its lifetime.  The fact particles move independently of the others is often what makes the visual effect interesting.  The various properties of the Particles object control exactly how the particles change over time and what random alterations are made.  It is worth spending some time changing parameters to see the effect they have for yourself.</p>
<p>There are three different settings for when particles are destroyed, set by the <strong>Destroy mode</strong> property.  The default <em>Fade to invisible</em> will fade each particle's opacity to zero over the <em>Timeout</em>, destroying the particle when it becomes invisible.  <em>Timeout expired</em> will simply destroy the particle after an amount of time, without changing its opacity.  <em>Particle stopped</em> will destroy the particle when its speed reaches zero, but you must take care to ensure particles slow down with a negative acceleration otherwise they will never be destroyed!</p>
<a name="h2a2"></a><h3 id="h2ix2">Optimisation</h3>
<p>Particle effects are more efficient than creating the same effect with Sprite objects, but not by a large margin.  Just like with sprites, you should be aware that creating a large number of particles can have a serious performance impact on your game, especially on mobile.  Use the <strong>ParticleCount</strong> expression to monitor how many particles are being created.  On desktop systems, more than a couple of hundred particles is likely to impact the framerate.  On mobiles, use of the Particles object is not recommended at all since the framerate is usually already limited by the existing sprites in the game; if absolutely necessary, keep particle counts below 50 on mobile for best performance.</p>
<p>To reduce particle counts, try reducing the rate or shortening the timeout.  To compensate, you can try making the particle size larger so the effect does not get thinner.</p>
<a name="h2a3"></a><h2 id="h2ix3">Particle Properties</h2>
<p>The Particles object has a relatively many properties, which are split in to three groups: particle spray properties (relating to the Particles object itself), initial particle properties (relating to the creation of each individual particle) and particle lifetime properties (relating to how particles behave after creation).</p>
<a name="h2a4"></a><h3 id="h2ix4">Particle spray properties</h3>
<p><strong>Rate</strong><br>
The number of particles created per second.  If <em>Type</em> is <em>One-shot</em>, this is the total number of particles fired.  Note that in <em>Continuous spray</em> mode, the overall particle count may be significantly more than the rate depending on the other properties.  Also note that in <em>One-shot</em> mode, the rate can only be changed immediately after the object has been created; after the first tick, using the <em>Set rate</em> action will have no effect.</p>
<p><strong>Spray cone</strong><br>
The number of degrees through which particles are fired.  This is represented by the red lines in the Layout View.  Use 360 to fire particles in all directions.</p>
<p><strong>Type</strong><br>
The Particles object can work in two modes:<br>
<em>Continuous spray</em> will create a constant spray of particles (the default).<br>
<em>One-shot</em> will create a single blast of particles, the total number set by <em>Rate</em>.  Once all particles have been destroyed, the Particles object then destroys itself.  This is useful for one-off effects like explosions or impacts.</p>
<p><strong>Image</strong><br>
Click to open the <a href="#anchor-48">Image editor</a> to edit the particle image.  Try a spot on a transparent background, or on a black background with the Additive effect.</p>
<a name="h2a5"></a><h3 id="h2ix5">Initial particle properties</h3>
<p><strong>Speed</strong><br>
The initial speed each particle is fired at, in pixels per second.</p>
<p><strong>Size</strong><br>
The initial size of each particle, in pixels.  Particles are always shown as squares.</p>
<p><strong>Opacity</strong><br>
The initial opacity of each particle, from 0 (transparent) to 100 (opaque).</p>
<p><strong>Grow rate</strong><br>
The initial grow rate (change in size over time) for each particle, in pixels per second.  0 means the particle will always stay the same size.  A positive value will make particles grow, and a negative value will make particles shrink.</p>
<p><strong>X randomiser</strong><br>
<strong>Y randomiser</strong><br>
The initial offset to the particle's position.  You can make particles created along a line or in a box with these properties.</p>
<p><strong>Speed randomiser</strong><br>
A random adjustment to each particle's initial speed on creation.  For example, a value of 100 will change each particle's initial speed by up to 50 pixels per second faster or slower.</p>
<p><strong>Size randomiser</strong><br>
A random adjustment to each particle's size on creation.  For example, a value of 20 will change each particle's initial size by up to 10 pixels larger or smaller.</p>
<p><strong>Grow rate randomiser</strong><br>
A random adjustment to each particle's grow rate on creation.  For example, a value of 10 will change each particle's initial grow rate by up to 5 pixels per second greater or less.</p>
<a name="h2a6"></a><h3 id="h2ix6">Particle lifetime properties</h3>
<p><strong>Acceleration</strong><br>
Change in particle speed over time, in pixels per second per second.  A positive value will make particles speed up, and a negative value will make them slow down.</p>
<p><strong>Gravity</strong><br>
The acceleration downwards caused by gravity, in pixels per second per second.  Useful for making fountain or other falling particle effects.  Set to 0 to prevent gravity having any effect on particle movement.</p>
<p><strong>Angle randomiser</strong><br>
Maximum random change to each particle's angle during its lifetime, in degrees per second.  For example, set to 0 to prevent particles ever changing direction, or set to 10 to allow particles to change up to 5 degrees left or right per second.</p>
<p><strong>Speed randomiser</strong><br>
Maximum random change to each particle's speed during its lifetime, in pixels per second per second.  For example, set to 0 to prevent the speed changing randomly, or set to 100 to allow particles to speed up or slow down by 50 pixels per second per second.</p>
<p><strong>Opacity randomiser</strong><br>
Maximum random change to each particle's opacity during its lifetime.  Useful for creating "twinkling" effects.</p>
<p><strong>Destroy mode</strong><br>
How each particle is destroyed.  There are three modes available:<br>
<em>Fade to invisible</em> will fade each particle's opacity to zero over the <em>Timeout</em>.  When the particle becomes invisible, it is destroyed.<br>
<em>Timeout expired</em> simply destroys each particle after the <em>Timeout</em> has expired, without altering the opacity.<br>
<em>Particle stopped</em> destroys each particle when its speed reaches zero.  You must take care to use a negative <em>Acceleration</em>, or particles will never be destroyed!</p>
<p><strong>Timeout</strong><br>
The time in seconds particles last for before being destroyed, depending on the <strong>Destroy mode</strong>.</p>
<a name="h2a7"></a><h2 id="h2ix7">Particle conditions, actions and expressions</h2>
<p>Most of the Particle object's actions and expressions simply set or get the above properties.  See the above properties for a reference.  The other conditions, actions and expressions not relating to the above properties are documented below.</p>
<p>For features in common to other objects, see <a href="#anchor-130">Common features</a>.</p>
<a name="h2a8"></a><h3 id="h2ix8">Particle conditions</h3>
<p><strong>Is spraying</strong><br>
True if the particle spray is currently enabled.</p>
<a name="h2a9"></a><h3 id="h2ix9">Particle actions</h3>
<p><strong>Set spraying</strong><br>
Enable or disable the spray, when in <em>Continuous spray</em> mode.  When disabled, no new particles are created.</p>
<a name="h2a10"></a><h3 id="h2ix10">Particle expressions</h3>
<p><strong>ParticleCount</strong><br>
The number of particles the Particles object currently has.  This is important to ensure you are not creating too many particles and slowing the game down; see the <strong>Optimisation</strong> section above.  Note that due to the way Construct 2 expressions work, if you have multiple Particle object instances, this will only return the particle count for one of the instances - use a For Each loop to count multiple instance's total particle count.<a name="anchor-180"></a></p>
<h2>6.27 Progress bar</h2>
The <strong>Progress bar</strong> object displays a bar which can be used to indicate the progress of a long-running operation or goal.<p></p>
<p><img width="305" height="53" class="article-image" src="./manual_files/progressbar.png" alt="Progress bar"><!--imgend--><br>
The progress bar is styled differently depending on the platform or browser, designed to look "native". If a custom style is desired, it may instead be preferable to use a <a href="#anchor-118">Tiled Background</a> which has its width set depending on the progress.</p>
<p>Form controls are actual HTML elements floating above the game canvas in the HTML page. Therefore, nothing can be displayed on top of a form control, apart from other form controls.</p>
<p>Form controls position themselves according to the layer parallax, scale and so on. However they are not truly "in the game" (since they float above), so it is recommended to avoid using scrolling, parallax and layer scaling with form controls, otherwise the end result can feel unnatural.</p>
<a name="h2a0"></a><h3 id="h2ix0">Progress bar properties</h3>
<p><strong>Value</strong><br>
The initial progress display to show, from 0 to the maximum.</p>
<p><strong>Maximum</strong><br>
The maximum progress value, at which point the progress bar is shown full indicating a completed operation.</p>
<p><strong>Tooltip</strong><br>
An optional tooltip to show while hovering the mouse over the control.</p>
<p><strong>Initial visibility</strong><br>
Whether the control is initially visible or invisible in the page.</p>
<p><strong>ID</strong><br>
An optional <em>id</em> attribute for the element in the DOM (Document Object Model). This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p>
<a name="h2a1"></a><h3 id="h2ix1">Progress bar conditions</h3>
<p><strong>Compare progress</strong><br>
Compare the currently set progress amount.</p>
<p><strong>On clicked</strong><br>
Triggered when the progress bar control is clicked.</p>
<a name="h2a2"></a><h3 id="h2ix2">Progress bar actions</h3>
<p><strong>Set CSS style</strong><br>
Set a CSS (Cascading Style Sheets) style on the slider element. This can be used to alter the appearance using the browser's styling features.</p>
<p><strong>Make indeterminate</strong><br>
Set the progress bar in to an indeterminate mode, intended to indicate that it is working, but the progress is unknown. The display of this mode depends on the browser and platform. Not all browsers may support an indeterminate mode for progress bars.</p>
<p><strong>Set maximum</strong><br>
Set the maximum progress value for the progress bar.</p>
<p><strong>Set progress</strong><br>
Set the current progress value displayed by the progress bar, from 0 to the maximum.</p>
<p><strong>Set tooltip</strong><br>
Set the tooltip that appears when the mouse hovers over the control.</p>
<a name="h2a3"></a><h3 id="h2ix3">Progress bar expressions</h3>
<p><strong>Maximum</strong><br>
The currently set maximum progress value.</p>
<p><strong>Progress</strong><br>
The currently set progress amount, if the bar is not in indeterminate mode.<a name="anchor-185"></a></p>
<h2>6.28 pubCenter</h2>
The <strong>pubCenter</strong> object displays ads in Windows Store apps on Windows 8.1 for desktop or Windows 10+. Note that interstitial ads are only supported on Windows 10+.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Setting up</h3>
<p>To set up pubCenter ads:</p>
<ol>
<li>Visit <a href="https://pubcenter.microsoft.com/" target="_blank">Microsoft pubCenter ⇗</a> and register an account</li>
<li>Create a new app to monetize</li>
<li>Create an ad for the app</li>
<li>Paste the Application ID and Ad unit ID in to the pubCenter object's properties in Construct 2</li>
</ol>
<a name="h2a1"></a><h3 id="h2ix1">pubCenter properties</h3>
<p><strong>Application ID</strong><br>
<strong>Ad unit ID</strong><br>
Paste in the relevant details from the pubCenter site.</p>
<a name="h2a2"></a><h3 id="h2ix2">pubCenter conditions</h3>
<p><strong>Is banner showing</strong><br>
True if any banner is currently showing.</p>
<p><strong>On interstitial cancelled</strong><br>
Triggered when a displaying interstitial ad is cancelled.</p>
<p><strong>On interstitial completed</strong><br>
Triggered when a displaying interstitial ad is completed.</p>
<p><strong>On interstitial error</strong><br>
Triggers when an error occurs displaying an interstitial ad.</p>
<p><strong>On interstitial ready</strong><br>
Triggers after <em>Prepare interstitial</em> when an interstitial ad has finished loading in the background and is ready to be displayed. After this trigger you can use <em>Show interstitial</em> to display it.</p>
<a name="h2a3"></a><h3 id="h2ix3">pubCenter actions</h3>
<p><strong>Hide banner ad</strong><br>
Hide any currently showing banner.</p>
<p><strong>Show banner ad</strong><br>
Display an ad with a given position and size.</p>
<p><strong>Prepare interstitial</strong><br>
Start loading an interstitial ad in the background. When it finishes loading, <em>On ready</em> triggers. Optionally another ad unit ID can be provided. If left empty, it will use the ad unit ID from the object's properties. Otherwise it uses the specified ad unit ID for the interstitial.</p>
<p><strong>Show interstitial</strong><br>
Display an interstitial ad that is ready. This should be used in or after <em>On ready</em>.</p>
<a name="h2a4"></a><h3 id="h2ix4">pubCenter expressions</h3>
<p>The pubCenter object has no expressions.<a name="anchor-159"></a></p>
<h2>6.29 Scirra Arcade</h2>
The <strong>Scirra Arcade plugin</strong> allows hi-scores to be submitted for games hosted on the <a href="http://www.scirra.com/arcade" target="_blank">Scirra Arcade ⇗</a>. The basic usage is to create a leaderboard for the game on the Scirra Arcade, use a single action to submit a score (or time) at the end of a level to the leaderboard. Each leaderboard has an ID, so you can have multiple leaderboards for one game. Once a couple of scores have been submitted, the Scirra Arcade game page should automatically start showing a hi-score board. The display and ordering of scores is defined when you create the leaderboard on the Scirra Arcade. For example normally higher hi-scores are better, but if you are submitting times then lower scores are better.<p></p>
<p>To find out more about publishing to the Scirra Arcade, see the tutorial <a href="https://www.scirra.com/tutorials/82/uploading-to-the-scirra-arcade" target="_blank">Uploading to the Scirra Arcade ⇗</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Scirra Arcade conditions</h3>
<p>The Scirra Arcade plugin has no conditions.</p>
<a name="h2a1"></a><h3 id="h2ix1">Scirra Arcade actions</h3>
<p><strong>Submit score</strong><br>
Submit a score to a specific leaderboard. You must first create the leaderboard on the Scirra Arcade, and pass the leaderboard ID to this action. The <em>Score</em> is any number representing the leaderboard entry, which can be points, a count, time, or any other numerical value. The sorting and display of the leaderboard is defined on the Scirra Arcade.</p>
<a name="h2a2"></a><h3 id="h2ix2">Scirra Arcade expressions</h3>
<p>The Scirra Arcade plugin has no expressions.<a name="anchor-178"></a></p>
<h2>6.30 Shadow light</h2>
The <strong>Shadow light</strong> object can render real-time shadows from other objects with the <a href="#anchor-177">Shadow caster</a> behavior.<p></p>
<p><img width="500" height="244" class="article-image" src="./manual_files/shadowexample.png" alt="Example of shadow casting."><!--imgend--><br>
<a name="h2a0"></a></p>
<h3 id="h2ix0">Shadow rendering</h3>
<p>The <em>Shadow light</em> object renders shadows adjacent to objects with the <em>Shadow caster</em> behavior, using the object's collision polygon and the relative location of the light. Shadows are filled in over the background, as opposed to rendering sections of light. The Z order of the Shadow light object determines whether the shadows appear above or below other objects. </p>
<p>The light can be set to have a radius. If the radius is 0, it acts like a point source, and shadows have hard edges. If the radius is larger, it accurately renders <em>penumbras</em> (the transition from lightness to darkness) at the edges of shadows. However in this mode the light height is ignored and all shadows extend off the screen.</p>
<a name="h2a1"></a><h3 id="h2ix1">Shadow limitations</h3>
<p>Due to the shadow rendering algorithm, there are a couple of limitations:</p>
<ul>
<li>Penumbra rendering only works in WebGL mode - in canvas2d mode it will revert to a radius of 0 with hard-edged shadows.</li>
<li>The shadow casters can only use <a href="http://en.wikipedia.org/wiki/Convex_and_concave_polygons" target="_blank">convex collision polygons ⇗</a>. Shadows will not render correctly if they use concave polygons. If you need a concave shape, this can always be achieved by placing multiple shadow caster objects next to each other to compose a concave shape out of convex parts.</li>
<li>Antumbras (beyond where the umbra converges to a point) are not rendered. To avoid the umbra converging to a point on-screen, avoid using shadow casters smaller than the light radius. Stick to large shadow casters and a small light radius.</li>
<li>When using a light radius, avoid placing the light very close to or directly over a shadow caster. Shadows can fail to render correctly in these circumstances.</li>
</ul>
<a name="h2a2"></a><h3 id="h2ix2">Tags</h3>
<p>By default, all shadow lights cast shadows off all shadow casters. In some cases it is desirable to only have certain shadow lights cast shadows off certain shadow caster objects. Each shadow light object can be assigned a tag, and the <em>Cast from</em> property set to only cast shadows from that object off shadow caster behaviors with the same (or different) tags.</p>
<a name="h2a3"></a><h3 id="h2ix3">Shadow light properties</h3>
<p><strong>Light height</strong><br>
The height of the light, used with the the shadow caster object heights to calculate the length of shadow to cast. This property only has an effect if the <em>Light radius</em> is 0, otherwise shadows always extend offscreen.</p>
<p><strong>Light radius</strong><br>
The radius of the light. If the radius is 0, the light acts like a point source and shadows are hard-edged. If the radius is larger the object will render penumbras at the edges of shadows. The larger the radius, the wider the penumbras will be. For correct rendering avoid using a large radius, and especially avoid making the radius larger than any of the shadow caster objects. If the radius is not 0, the light height is ignored and shadows always extend offscreen.</p>
<p><strong>Cast from</strong><br>
Which shadow caster objects to render shadows for from this object. The options are:<br>
<em>All</em>: every shadow caster object will get a shadow rendered for this light.<br>
<em>Same tag</em>: shadows will only be rendered for shadow casters with the same <em>Tag</em> property.<br>
<em>Different tag</em>: shadows will only be rendered for shadow casters with a different <em>Tag</em> property.</p>
<p><strong>Tag</strong><br>
Used to determine which shadow casters to render shadows for, depending on the <em>Cast from</em> mode. If <em>Cast from</em> is set to <em>All</em>, the tag is ignored.</p>
<a name="h2a4"></a><h3 id="h2ix4">Shadow light conditions</h3>
<p>The Shadow light object does not have any of its own conditions.</p>
<a name="h2a5"></a><h3 id="h2ix5">Shadow light actions</h3>
<p><strong>Set light height</strong><br>
<strong>Set tag</strong><br>
Set the corresponding object properties. For more information see <em>Shadow light properties</em>.</p>
<p><strong>Set shadow color</strong><br>
Set the color of the shadows that are rendered by the light. The default is black. To set the opacity of the shadows, change the opacity of the <em>Shadow light</em> object.</p>
<a name="h2a6"></a><h3 id="h2ix6">Shadow light expressions</h3>
<p><strong>LightX</strong><br>
<strong>LightY</strong><br>
The X and Y co-ordinates of the light source in the layout. Note a quirk: the light source is moved using the ordinary <em>Set position</em> actions, but due to the way the object rendering works the ordinary <em>X</em> and <em>Y</em> expressions always return a position relative to the viewport instead. The <em>LightX</em> and <em>LightY</em> expressions return the actual position of the light source.</p>
<p><strong>Tag</strong><br>
Return the current tag of the object.<a name="anchor-179"></a></p>
<h2>6.31 Slider bar</h2>
The <strong>Slider bar</strong> object provides a simple form control allowing the user to pick a value between a minimum and maximum by moving a slider along a bar.<p></p>
<p><img width="213" height="31" class="article-image" src="./manual_files/sliderbar.png" alt="Slider bar"><!--imgend--><br>
Form controls are actual HTML elements floating above the game canvas in the HTML page. Therefore, nothing can be displayed on top of a form control, apart from other form controls.</p>
<p>Form controls position themselves according to the layer parallax, scale and so on. However they are not truly "in the game" (since they float above), so it is recommended to avoid using scrolling, parallax and layer scaling with form controls, otherwise the end result can feel unnatural.</p>
<a name="h2a0"></a><h3 id="h2ix0">Slider bar properties</h3>
<p><strong>Minimum</strong><br>
The lowest value that can be picked, when the slider is all the way to the left.</p>
<p><strong>Maximum</strong><br>
The highest value that can be picked, when the slider is all the way to the right.</p>
<p><strong>Step</strong><br>
The increment of possible values. For example if the step is 10, then the slider will jump in units of 10 as it is moved, and only a multiple of 10 can be chosen as a value.</p>
<p><strong>Tooltip</strong><br>
An optional tooltip to show while hovering the mouse over the control.</p>
<p><strong>Initial visibility</strong><br>
Whether the control is initially visible or invisible in the page.</p>
<p><strong>Enabled</strong><br>
Whether the control is initially enabled and usable, or disabled so that it cannot be interacted with.</p>
<p><strong>ID</strong><br>
An optional <em>id</em> attribute for the element in the DOM (Document Object Model). This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p>
<a name="h2a1"></a><h3 id="h2ix1">Slider bar conditions</h3>
<p><strong>Compare value</strong><br>
Compare the currently chosen value from the slider bar.</p>
<p><strong>On changed</strong><br>
Triggered when the user changes the chosen value on the slider bar.</p>
<p><strong>On clicked</strong><br>
Triggered when the user clicks the slider bar.</p>
<a name="h2a2"></a><h3 id="h2ix2">Slider bar actions</h3>
<p><strong>Set CSS style</strong><br>
Set a CSS (Cascading Style Sheets) style on the slider element. This can be used to alter the appearance using the browser's styling features.</p>
<p><strong>Set enabled</strong><br>
Enable or disable the control. If disabled, it cannot be interacted with.</p>
<p><strong>Set maximum</strong><br>
Set the maximum value that can be chosen from the slider bar.</p>
<p><strong>Set minimum</strong><br>
Set the minimum value that can be chosen from the slider bar.</p>
<p><strong>Set step</strong><br>
Set the increment step of the slider bar.</p>
<p><strong>Set tooltip</strong><br>
Set the tooltip that appears when the mouse hovers over the slider bar.</p>
<p><strong>Set value</strong><br>
Set the currently selected value of the slider bar. This must be between the currently set minimum and maximum values.</p>
<a name="h2a3"></a><h3 id="h2ix3">Slider bar expressions</h3>
<p><strong>Maximum</strong><br>
Return the currently set maximum slider value.</p>
<p><strong>Minimum</strong><br>
Return the currently set minimum slider value.</p>
<p><strong>Step</strong><br>
Return the currently set slider step value (increment).</p>
<p><strong>Value</strong><br>
Return the current value chosen by the user, between the minimum and maximum values.<a name="anchor-115"></a></p>
<h2>6.32 Sprite</h2>
The <strong>Sprite</strong> object is an animatable image that appears in the game.  It is one of the most important objects for most Construct 2 games.  It is used to make most visual elements in a game, such as the player, enemies, projectiles, explosions and non-tiling scenery (tiled scenery is much better done with the <a href="#anchor-118">Tiled Background</a> object).<p></p>
<p>If a Sprite has a single animation with a single frame, it simply shows an image without animating.  However, multiple animations can be added to Sprite objects with the <a href="#anchor-48">Image and Animations editor</a>.</p>
<p>All <a href="#anchor-71">instances</a> of Sprite objects share their animations.  In other words, there is a single set of images comprising the animations which belongs to the <a href="#anchor-70">object type</a>, and these images are referenced by instances.</p>
<p>Sprites can have effects applied.  For more information, see <a href="#anchor-147">Effects</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Sprite properties</h3>
<p><strong>Animations</strong><br>
Click the <em>Edit</em> link to open the <a href="#anchor-48">Image and Animations editor</a> for the object.  All instances of the object type share a single set of animations.</p>
<p><strong>Size</strong><br>
Click the <em>Make 1:1</em> link to size the selection at original size (100%).  This makes the width and height of the object the same as its first animation frame image.</p>
<p><strong>Initial visibility</strong><br>
Set whether the object is shown (visible) or hidden (invisible) when the layout starts.</p>
<p><strong>Initial animation</strong><br>
Set the initially displaying animation. If the animation name is not found in the object, an arbitrary animation is picked as the default.</p>
<p><strong>Initial frame</strong><br>
Set the initially displaying animation frame from the object's <em>initial animation</em>.  This is a zero-based index, so the first frame is 0.  This can be useful for storing different tiles or scenery in different animation frames of a single Sprite object type.</p>
<p><strong>Collisions</strong><br>
Enable or disable collisions for the object.  Disabling collisions means no collision events will register for the object nor will any behaviors on the object register collisions with solids or jump-thrus.</p>
<a name="h2a1"></a><h3 id="h2ix1">Sprite conditions</h3>
<p>For conditions in common to other objects, see <a href="#anchor-131">Common conditions</a>.</p>
<p><strong>Compare frame</strong><br>
Compare the current animation frame number, which is a zero-based index (the first frame is 0).</p>
<p><strong>Compare speed</strong><br>
Compare the speed of the current animation, in animation frames per second. Animations which are playing backwards (e.g. with ping-pong animations) have a negative speed.</p>
<p><strong>Is flipped</strong><br>
<strong>Is mirrored</strong><br>
True if the object has been flipped or mirrored with the <em>Set flipped</em> or <em>Set mirrored</em> actions.</p>
<p><strong>Is playing</strong><br>
True if a given animation is currently set.  Animations are identified by their name (case insensitive).</p>
<p><strong>On any finished</strong><br>
Triggered when any animation reaches the end.  Looping animations do not finish.</p>
<p><strong>On finished</strong><br>
Triggered when a given animation reaches the end.  Looping animations do not finish.  Animations are identified by their name (case insensitive).</p>
<p><strong>On frame changed</strong><br>
Triggered whenever the animation switches to another frame while the animation is playing.</p>
<p><strong>Collisions enabled</strong><br>
True if the object's collisions are currently enabled.</p>
<p><strong>Is overlapping another object</strong><br>
<strong>Is overlapping at offset</strong><br>
True if any instance is overlapping any instance of another object.  The collision polygons are taken in to account if set, as well as the object's size and rotation.  The 'offset' variant will test for an overlap at an offset from the first object.  For example, testing for an overlap at an offset of (100, 0) will temporarily move the object to the right 100 pixels, test for the overlap, then move it back again.</p>
<p><strong>On collision with another object</strong><br>
Triggered upon the first time any instance starts overlapping any instance of another object.  The collision polygons are taken in to account if set, as well as the object's size and rotation.</p>
<p><strong>On image URL loaded</strong><br>
Triggered when <em>Load image from URL</em> finishes downloading the image and is ready to display it.</p>
<a name="h2a2"></a><h3 id="h2ix2">Sprite actions</h3>
<p>For actions common to other objects, see <a href="#anchor-132">Common actions</a>.</p>
<p><strong>Set animation</strong><br>
Change the currently playing animation to another animation.  Animations are identified by their name (case insensitive).  The new animation can either play from the <em>beginning</em> or from the same frame number as the last animation was on (<em>current frame</em>).</p>
<p><strong>Set flipped</strong><br>
Set whether the object image appears vertically flipped or normal.  This also affects image points and the collision polygon.</p>
<p><strong>Set mirrored</strong><br>
Set whether the object image appears horizontally mirrored or normal.  This is useful for platform games.  Mirroring also affects image points and the collision polygon.</p>
<p><strong>Set frame</strong><br>
Set the current zero-based animation frame number that is showing.  The animation will continue to play at its current speed.</p>
<p><strong>Set repeat-to frame</strong><br>
Set the frame to return to when looping in the current animation. This essentially changes the "Repeat to" property of the animation in the Animation Editor. It is especially useful when reversing animations, since the default of repeating to the first frame is no longer suitable. Instead when playing looping animations in reverse it is more useful to repeat to the last frame of the animation (so the animation actually repeats, instead of getting stuck on the first frame).</p>
<p><strong>Set speed</strong><br>
Set the playback rate of the current animation, in animation frames per second.  Instances can have different animation speeds.</p>
<p><strong>Start</strong><br>
If the current animation is stopped, start playing the animation again.  Playback can either resume from the <em>current frame</em>, or restart from the <em>beginning</em>.</p>
<p><strong>Stop</strong><br>
Stop the current animation from playing.  The object will be left showing the current animation frame.</p>
<p><strong>Spawn another object</strong><br>
Create a new instance of a given object type.  The new instance is created at the current object's position and also set to the same angle.  The created object can be on any layer (chosen by its name or its zero-based number), and it can be positioned by an <a href="#anchor-63">image point</a> instead of the object's origin (chosen by its name or number).  If a Family is created, a random object type in the family is picked.</p>
<p><strong>Set scale</strong><br>
Sets the width and height to a multiple of the object's original size, similar to zooming the object proportionally.  For example, if the object is 50x100, <em>Set scale to 2</em> will set its size to 100x200, and <em>Set scale to 0.1</em> will set its size to 5x10.</p>
<p><strong>Load image from URL</strong><br>
Load an image from a given URL.  The current animation frame will be replaced with the image.  It is not shown until the image has finished downloading, and <em>On image URL loaded</em> triggers.  Images loaded from different domains are subject to the same cross-domain restrictions as AJAX requests - for more information see the section on cross-domain in the <a href="#anchor-107">AJAX</a> object.  Data URIs can also be passed as an image, e.g. from a canvas snapshot or webcam image.  The <em>Size</em> parameter sets whether the Sprite object will be set to the image size when it loads, or whether to keep its current size and stretch the image.</p>
<p><strong>Set collisions enabled</strong><br>
Enable or disable collisions for the object.  Disabling collisions means no collision events will register for the object nor will any behaviors on the object register collisions with solids or jump-thrus.</p>
<a name="h2a3"></a><h3 id="h2ix3">Sprite expressions</h3>
<p>For expressions common to other objects, see <a href="#anchor-133">common expressions</a>.</p>
<p><strong>AnimationFrame</strong><br>
The currently displaying zero-based animation frame number.</p>
<p><strong>AnimationFrameCount</strong><br>
The number of animation frames in the current animation.</p>
<p><strong>AnimationName</strong><br>
A string containing the name of the currently playing animation.</p>
<p><strong>AnimationSpeed</strong><br>
The current playback rate of the current animation, in animation frames per second. If the animation is playing backwards (e.g. ping-pong animations), the animation speed is negative.</p>
<p><strong>ImageWidth</strong><br>
<strong>ImageHeight</strong><br>
The original dimensions of the object (its current animation frame image size), in pixels.  Since objects can be stretched at runtime causing the normal <em>Width</em> and <em>Height</em> expressions to return different values, these can be used to get the original size regardless of the stretched size.</p>
<p><strong>ImagePointCount</strong><br>
Return the number of image points on the currently displaying animation frame of the object.</p>
<p><strong>ImagePointX</strong><br>
<strong>ImagePointY</strong><br>
Retrieve the position of an image point on the currently displaying animation frame of the object.  You can pass either the zero-based index of the image point, or a string of its name.<a name="anchor-166"></a></p>
<h2>6.33 Sprite font</h2>
The <strong>Sprite Font</strong> object uses an image to display text. The "sprite font" is the object image, which contains a grid of every character that can be drawn. By drawing parts of this image in sequence, strings of text can be rendered. This allows complete artistic control over the appearance of text, rather than having to choose from existing fonts.<p></p>
<p><img width="425" height="263" class="article-image" src="./manual_files/spritefont.png" alt="How sprite fonts draw text"><!--imgend--><br>
<a name="h2a0"></a></p>
<h3 id="h2ix0">Comparison with Text object</h3>
<p>Both the Sprite Font and <a href="#anchor-116">Text</a> objects can display text in the game. Typically the Text object shows monochrome characters from an existing font or web font, which can use a range of sizes and possibly also bold and italic options. On the other hand Sprite Font uses images for each character. While this means any kind of artwork can be used for text, notably allowing for multi-colored text, it has the trade-off that it only really supports one font size and one bold/italic setting (those that it is drawn with).</p>
<p>Another important difference is that traditional fonts as used by the Text object often have good support for unicode characters. This allows them to display a wide range of characters, including many alphabets and character sets from many different languages. Sprite Fonts however can only use the characters for which an image has been drawn. It is very difficult to make a sprite font that covers much of the tens of thousands of possible unicode characters. If a Sprite Font is set to show some text which contains a character that has not been drawn, it will simply show an empty space for that character. If the entire string is in a different language which the sprite font does not cover, nothing will render at all. Bear in mind that if you allow user-inputted text, such as the player's name, or you wish to translate the game in future, then Text objects are probably more suitable.</p>
<a name="h2a1"></a><h3 id="h2ix1">Sprite font properties</h3>
<p><strong>Sprite font</strong><br>
Click the <em>Edit</em> link to edit the source image that text characters are rendered from. The image can be any size, but it should fit the characters it contains exactly, and preferably be a power-of-two size (e.g. 128x128, 256x256, 512x512...). Characters start in the top-left and the sequence moves to the right, wrapping down to the next line when it reaches the right edge of the image. If the character is narrower than the cell, and you change its width using the <em>Set character width</em> action, the image should be drawn left-aligned in the cell.</p>
<p><strong>Character width</strong><br>
<strong>Character height</strong><br>
The size of each character's cell in the sprite font image. Individual characters can be displayed with a different width using the <em>Set character width</em> action. In this case, the character should be drawn left-aligned within its cell.</p>
<p><strong>Character set</strong><br>
A string of characters that describes the sequence of letters in the sprite font image. This is used to map text to images. While the default starts with the English alphabet, it could be changed to another language or sequence and the image updated accordingly. Note however the Sprite Font can only display characters that are in the character set; any characters not in the character set with a corresponding image will appear as an empty space.</p>
<p><strong>Text</strong><br>
The initial displaying text.</p>
<p><strong>Scale</strong><br>
A multiplier to scale the rendered text with, such as 0.5 for half as big or 2 for twice as big. This can be used to "fake" different font sizes, but remember it's only stretching images; you may want to draw the font again at a different size instead of using a scale.</p>
<p><strong>Initial visibility</strong><br>
Whether the object is initially visible or invisible when the layout starts.</p>
<p><strong>Horizontal alignment</strong><br>
The horizontal alignment of the text within the object bounding rectangle.</p>
<p><strong>Vertical alignment</strong><br>
The vertical alignment of the text within the object bounding box.</p>
<p><strong>Hotspot</strong><br>
Choose the position of the hotspot (or origin) of the object relative to its unrotated bounding rectangle.</p>
<p><strong>Wrapping</strong><br>
Choose <em>word</em> to only wrap entire space-separated words when reaching the end of a line. Choose <em>Character</em> to wrap at any character, which can break some words across lines half way through, but is more suitable for some languages.</p>
<p><strong>Character spacing</strong><br>
Extra space in pixels to add horizontally between characters.</p>
<p><strong>Line height</strong><br>
Extra space in pixels to add vertically between lines. 0 is the default size, negative values make lines closer together, and positive values space lines out further apart.</p>
<a name="h2a2"></a><h3 id="h2ix2">Sprite font conditions</h3>
<p><strong>Compare text</strong><br>
Compare the current text the object is showing.</p>
<a name="h2a3"></a><h3 id="h2ix3">Sprite font actions</h3>
<p><strong>Append text</strong><br>
Add some text to the end of the existing text.</p>
<p><strong>Set character spacing</strong><br>
<strong>Set line height</strong><br>
<strong>Set scale</strong><br>
<strong>Set horizontal alignment</strong><br>
<strong>Set vertical alignment</strong><br>
Set the corresponding object properties. For more information, see <em>Sprite font properties</em>.</p>
<p><strong>Set character width</strong><br>
Set the width of certain characters. For example, the character 'i' is usually narrower than the character 'w', but by default both characters display occupying the same width. This can result in some characters looking strangely spaced. To resolve this, this action can set the character width of "i" to something less than the cell width. It is also possible to enter multiple characters and the width is set for them all at the same time, e.g. "iIjl1". When the character width is less than the cell width, the left part of the cell is displayed, so the characters should be drawn left-aligned in their cells. Note it's also possible to set the width of the space character, even if it is not drawn in the sprite font image and not in the character set - simply use a string with a space in it for this action.</p>
<p><strong>Set text</strong><br>
Replace the current text with a new string.</p>
<a name="h2a4"></a><h3 id="h2ix4">Sprite font expressions</h3>
<p><strong>CharacterHeight</strong><br>
Return the sprite font cell height.</p>
<p><strong>CharacterScale</strong><br>
<strong>CharacterSpacing</strong><br>
<strong>LineHeight</strong><br>
Return the corresponding object properties. For more information, see <em>Sprite font properties</em>.</p>
<p><strong>CharacterWidth(char)</strong><br>
Return the width of a character. A character must be passed (as a string) so the <em>Set character width</em> action can be taken in to account. Since the expression can only return one value, if there are multiple characters in the string, only the first is used.</p>
<p><strong>Text</strong><br>
Return the object's current text.</p>
<p><strong>TextWidth</strong><br>
<strong>TextHeight</strong><br>
Return the size of the actual text content within the text object's rectangle.<a name="anchor-116"></a></p>
<h2>6.34 Text</h2>
The <strong>Text</strong> object can display text using a font in your game.  Note that there are not many fonts common to all computers - see <a href="http://web.mit.edu/jmorzins/www/fonts.html" target="_blank">this page ⇗</a> for some common web fonts.  Alternatively, the Text object supports Web Fonts using the <em>Set web font</em> action.  See the tutorial on <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Using Web Fonts in the Text object ⇗</a> for more information.<p></p>
<p>The Text object does not display anything if its bounding rectangle is too small to fit a single letter of text.  If text objects appear to go invisible, try resizing them larger.</p>
<a name="h2a0"></a><h3 id="h2ix0">Text rendering</h3>
<p>Different browsers render text in different ways, and Construct 2's layout view also renders text differently to other browsers.  This means you should expect the appearance of the Text object to vary slightly across browsers.</p>
<p>You should test your game in a range of browsers to ensure text objects display how you intend for all users.  For more information see <a href="#anchor-34">Best practices</a>.</p>
<a name="h2a1"></a><h3 id="h2ix1">Unsupported fonts in the editor</h3>
<p>For technical reasons, some fonts are not supported by Construct 2's text renderer.  This only affects the editor and does not necessarily mean the font will not work in the browser - be sure to test across different browsers.  To guarantee that the font you are using is available to everyone, it is recommended to use <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Web Fonts ⇗</a> instead.</p>
<a name="h2a2"></a><h3 id="h2ix2">Text properties</h3>
<p><strong>Text</strong><br>
The text for the object to initially be showing.</p>
<p><strong>Initial visibility</strong><br>
Whether or not the object is shown (visible) or hidden (invisible) when the layout starts.</p>
<p><strong>Font</strong><br>
The font the text object uses to display its text.  Click the '<strong>...</strong>' button to the right of the font name to open a font picker dialog.  Fonts chosen this way must be installed to the user's computer for it to display correctly.  For this reason it is recommended to use <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Web Fonts ⇗</a> instead if you are choosing an uncommon font.</p>
<p><strong>Color</strong><br>
Choose the color of the text object's text.</p>
<p><strong>Horizontal alignment</strong><br>
Choose whether the text displays <em>left</em>, <em>center</em> or <em>right</em> aligned within its bounding rectangle.</p>
<p><strong>Vertical alignment</strong><br>
Choose whether the text displays <em>top</em>, <em>center</em> or <em>bottom</em> aligned within its bounding rectangle.</p>
<p><strong>Hotspot</strong><br>
Choose the position of the hotspot (or origin) of the object relative to its unrotated bounding rectangle.</p>
<p><strong>Wrapping</strong><br>
Choose how text wraps at the end of a line.  <em>Word</em> will wrap entire words separated by spaces or hyphens.  <em>Character</em> will wrap to the next line on any character, which might split words in half in Western languages but is more suitable for other languages like Chinese.</p>
<p><strong>Line height</strong><br>
Amount to change the space between each line of text, in pixels.  Use 0 for the default amount, -5 for 5 pixels shorter than default, 10 for 10 pixels taller than default, and so on.</p>
<a name="h2a3"></a><h3 id="h2ix3">Text conditions</h3>
<p>For conditions common to other objects, see <a href="#anchor-131">common conditions</a>.</p>
<p><strong>Compare text</strong><br>
Test whether the text object is currently displaying a certain string of text.  The comparison can be either case sensitive ("TEXT" is different to "text") or case insensitive ("TEXT" is considered the same as "text").  To test if the text object is <em>not</em> showing some text, invert the <a href="#anchor-76">condition</a>.</p>
<a name="h2a4"></a><h3 id="h2ix4">Text actions</h3>
<p>For actions common to other objects, see <a href="#anchor-132">common actions</a>.</p>
<p><strong>Set font color</strong><br>
Set the color of the text.  Use an expression in the form <em>rgb(red, green, blue)</em>.</p>
<p><strong>Set font face</strong><br>
Change the font used to display the text.  The font must be installed to the user's computer to display correctly.  For this reason it is recommended to use <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Web Fonts ⇗</a> instead if you are choosing an uncommon font.</p>
<p><strong>Set font size</strong><br>
Set the size of the text in points (pt).</p>
<p><strong>Set web font</strong><br>
Set the font to a web font loaded online.  For more information see the tutorial <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Using Web Fonts in the Text object ⇗</a>.</p>
<p><strong>Append text</strong><br>
Add some text to the end of the current text.  For example, if the text object contains <em>Hello</em> and has <em>World</em> appended, the text object then contains <em>HelloWorld</em>.</p>
<p><strong>Set text</strong><br>
Set the text the object is currently displaying.  Use the <strong>&amp;</strong> operator to combine text and numbers.  For more information, see <a href="#anchor-78">expressions</a>.</p>
<a name="h2a5"></a><h3 id="h2ix5">Text expressions</h3>
<p>For expressions common to other objects, see <a href="#anchor-133">common expressions</a>.</p>
<p><strong>Text</strong><br>
Return a string containing the object's current text.</p>
<p><strong>TextWidth</strong><br>
<strong>TextHeight</strong><br>
Return the size of the actual text content within the text object's rectangle. Note the Text object must be drawn before these have the correct values. If you set the text then immediately access these expressions, they won't yet have the correct value. Adding a 'Wait 0.1 seconds' action will usually solve this.<a name="anchor-117"></a></p>
<h2>6.35 Textbox</h2>
The <strong>Textbox</strong> object creates a text field which the user can type text in to.<p></p>
<p>Form controls are actual HTML elements floating above the game canvas in the HTML page.  Therefore, nothing can be displayed on top of a form control, apart from other form controls.</p>
<p>Form controls position themselves according to the layer parallax, scale and so on.  However they are not truly "in the game" (since they float above), so it is recommended to avoid using scrolling, parallax and layer scaling with form controls, otherwise the end result can feel unnatural.</p>
<a name="h2a0"></a><h3 id="h2ix0">Styling Textbox objects</h3>
<p>Textbox controls can be customised in a huge number of ways via CSS (Cascading Style Sheets).  Rather than adding actions to set all of the possible properties, the Textbox object exposes a <em>Set CSS style</em> action.  Knowing CSS will of course be an advantage here, but it is simple to use for simple properties.  A few examples are listed below.</p>
<p><em>Make the text red:</em> Set "color" to "red"<br>
<em>Make the background yellow:</em> Set "background-color" to "yellow"<br>
<em>Make the border a thick light grey:</em> Set "border" to "3px solid #AAAAAA"<br>
<em>Make the font bigger:</em> Set "font-size" to "2em"<br>
<em>Make a dashed red border:</em> Set "border" to "2px dashed red"</p>
<a name="h2a1"></a><h3 id="h2ix1">Textbox properties</h3>
<p><strong>Text</strong><br>
The initial text entered in to the field.</p>
<p><strong>Placeholder</strong><br>
Some text that appears faintly when the field is empty.  This can be used for hints for what the field is for, e.g. <em>Username</em>.</p>
<p><strong>Tooltip</strong><br>
A tooltip that appears if the user hovers the mouse over the text box and waits.  Leave blank for no tooltip.</p>
<p><strong>Initial visibility</strong><br>
Whether or not the text box is shown on startup.  If <em>Invisible</em>, the field must be shown with the <em>Set visible</em> action.</p>
<p><strong>Enabled</strong><br>
Whether the text box is initially enabled.  If <em>No</em>, the field will be greyed out and cannot be modified.</p>
<p><strong>Read-only</strong><br>
Set whether the field is read-only, which means the text cannot be modified but can still be selected.  This is different to disabling the field, where text cannot be selected.</p>
<p><strong>Spell check</strong><br>
Enable spell-checking on the text entered in to the field, if the browser supports it.  If enabled, spelling errors are underlined with a squiggly red line.</p>
<p><strong>Type</strong><br>
Set the type of content being entered in to the text field, which can be:<br>
<em>Text</em> (any content)<br>
<em>Password</em> (any content but characters hidden)<br>
<em>Email</em> (intended for strings in the general format <em>joe@bloggs.com</em>)<br>
<em>Number</em> (numerical digits only)<br>
<em>Telephone number</em> (telephone number characters only)<br>
<em>URL</em> (web addresses in the general format <em>http://example.com</em>).<br>
<em>Textarea</em> (multi-line text input)<br>
The <em>email</em>, <em>number</em>, <em>telephone number</em> and <em>URL</em> types are generally most useful for mobile devices, since they change which type of on-screen keyboard appears when the field is focused.  For example, <em>Text</em> will show a general purpose on-screen keyboard, whereas <em>Number</em> may show a simple number pad, making it more convenient for the user to enter the content.</p>
<p><strong>Auto font size</strong><br>
Automatically set the font-size property of the element according to the layout and layer scale.  This will prevent the font-size CSS property being manually set with the <em>Set CSS style</em> action.  Set to <em>No</em> if you intend to use <em>Set CSS style</em> to adjust the font-size property.</p>
<p><strong>ID</strong> (optional)<br>
An optional <em>id</em> attribute for the element in the DOM (Document Object Model).  This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p>
<a name="h2a2"></a><h3 id="h2ix2">Textbox conditions</h3>
<p><strong>Compare text</strong><br>
Compare the text currently entered in to the field.  The comparison can either be case sensitive ("TEXT" is different to "text") or case insensitive ("TEXT" is the same as "text").</p>
<p><strong>On clicked</strong><br>
Triggered when the user clicks the field.</p>
<p><strong>On double-clicked</strong><br>
Triggered when the user double-clicks the field.</p>
<p><strong>On text changed</strong><br>
Triggered whenever the text in the field is modified, by typing, backspace/delete, cut/paste etc.</p>
<a name="h2a3"></a><h3 id="h2ix3">Textbox actions</h3>
<p><strong>Set CSS style</strong><br>
Set a CSS (Cascading Style Sheets) style on the Textbox element.  For more information, see the section <em>Styling Textbox objects</em>.  Note that if the <em>Auto font size</em> property is set to <em>Yes</em>, any changes to the font-size property will be overridden.</p>
<p><strong>Scroll to bottom</strong><br>
Scroll to the bottom of the control. Only has an effect when set to the <em>textarea</em> type, since it is the only multiline mode. This is useful for chat or log style textareas.</p>
<p><strong>Set enabled</strong><br>
Set the field enabled or disabled.  When disabled, the field appears greyed out and cannot be modified.</p>
<p><strong>Set focused</strong><br>
Set the input focus to the field.  The text caret will begin flashing ready for text entry.</p>
<p><strong>Set placeholder</strong><br>
Set the text that appears faintly when the field is empty.  This can be used for hints for what the field is for, e.g. <em>Username</em>.</p>
<p><strong>Set read-only</strong><br>
Set whether the field is read-only, which means the text cannot be modified but can still be selected.  This is different to disabling the field, where text cannot be selected.</p>
<p><strong>Set text</strong><br>
Set the text currently entered in to the field.</p>
<p><strong>Set tooltip</strong><br>
Set the text that appears for the field tooltip.  Leave blank for no tooltip.</p>
<p><strong>Set unfocused</strong><br>
Remove the input focus from the field.</p>
<a name="h2a4"></a><h3 id="h2ix4">Textbox expressions</h3>
<p><strong>Text</strong><br>
Get a string containing the text currently entered in to the field.<br>
<a name="anchor-118"></a></p>
<h2>6.36 Tiled Background</h2>
The <strong>Tiled Background</strong> object can display an image in a repeating pattern, as shown below.<p></p>
<p><img width="246" height="164" class="article-image" src="./manual_files/tiledbg.png" alt="A tiled background"><!--imgend--><br>
This pattern can be achieved with a single Tiled Background object, and it is much faster (and more convenient to edit) than using multiple Sprite objects arranged in a grid.  Always prefer using Tiled Background objects wherever an image repeats.</p>
<p>Tiled Backgrounds cannot have a collision polygon.  They always collide according to their bounding rectangle.</p>
<p>Tiled Backgrounds can have effects applied.  For more information, see <a href="#anchor-147">Effects</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Power-of-two sizes</h3>
<p>For best results, use a power-of-two sized square image for the Tiled Background (e.g. 16x16, 32x32, 64x64, 128x128...).  This achieves best results in WebGL mode.  The object will still work correctly with non power-of-two sized images, but the quality may be slightly reduced since the image has to be stretched to a power-of-two size before tiling. (Note this does not apply to Sprite objects, which can use any size.)</p>
<a name="h2a1"></a><h3 id="h2ix1">Tiled Background properties</h3>
<p><strong>Image</strong><br>
Click the <em>Edit</em> link to edit the Tiled Background's image.</p>
<p><strong>Initial visibility</strong><br>
Choose whether the object is shown (visible) or hidden (invisible) when the layout starts.</p>
<p><strong>Hotspot</strong><br>
Choose the position of the hotspot (or origin) of the object relative to its unrotated bounding rectangle.</p>
<a name="h2a2"></a><h2 id="h2ix2">Tiled Background conditions, actions and expressions</h2>
<p>Tiled Background has few conditions, actions or expressions of its own.  See <a href="#anchor-130">common features</a> for documentation on features which are shared between objects in Construct 2.</p>
<a name="h2a3"></a><h3 id="h2ix3">Tiled Background conditions</h3>
<p><strong>On image URL loaded</strong><br>
Triggered when <em>Load image from URL</em> finishes downloading the image and is ready to display it.</p>
<a name="h2a4"></a><h3 id="h2ix4">Tiled Background actions</h3>
<p><strong>Load image from URL</strong><br>
Load an image from a given URL. It is not shown until the image has finished downloading, and <em>On image URL loaded</em> triggers. Images loaded from different domains are subject to the same cross-domain restrictions as AJAX requests - for more information see the section on cross-domain in the <a href="#anchor-107">AJAX</a> object. Data URIs can also be passed as an image, e.g. from a canvas snapshot or webcam image.</p>
<a name="h2a5"></a><h3 id="h2ix5">Tiled Background expressions</h3>
<p><strong>ImageWidth</strong><br>
<strong>ImageHeight</strong><br>
The original dimensions of the tiled background's current image in pixels. Since tiled backgrounds can be extended over large areas causing the normal <em>Width</em> and <em>Height</em> expressions to return different values, these can be used to get the original size of the source image regardless of the object size.<a name="anchor-172"></a></p>
<h2>6.37 Tilemap</h2>
The <strong>Tilemap object</strong> allows tile-based games to be designed more easily. The object's tilemap can also be edited in the <a href="#anchor-43">layout view</a> using the <a href="#anchor-171">Tilemap Bar</a>.<p></p>
<p><img width="415" height="256" class="article-image" src="./manual_files/tilemap.png" alt="An example tilemap"><!--imgend--><br>
Tilemaps also have significant <strong>performance benefits</strong> over achieving the same results with other kinds of objects. The Tilemap object can optimise collision detection and rendering in a way that should scale well even with extremely large Tilemap objects.</p>
<p>For information about editing tilemaps in Construct 2, see the manual entry for the <a href="#anchor-171">Tilemap Bar</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Tilemap object image</h3>
<p>The image used for the Tilemap object is the <em>tileset</em>. This is an image that contains every different tile that can be used in the tilemap. The tiles can also can be offset and spaced, but this is not normally necessary. The tileset image appears in the Tilemap Bar after selecting the object, allowing you to choose which tiles to draw with.</p>
<a name="h2a1"></a><h3 id="h2ix1">Collisions</h3>
<p>When testing for collisions with a Tilemap object, empty (erased) tiles count as not colliding, and all other tiles count as colliding. A custom collision polygon can be set for individual tiles by clicking the <em>Edit tile collision polygon</em> button in the Tilemap bar, or just double-clicking the tile in the Tilemap bar. Note however the collision polygon cannot be entirely removed from a tile: only an erased tile counts as not colliding at all.</p>
<p>If you wish to have tiles that are visible but do not register a collision, use two Tilemap objects layered on top of each other. Test for collisions with just the top object, and erase any tiles that should not register a collision. These tiles can then be placed on the tilemap object beneath, so they appear in the same place but are not tested for collisions.</p>
<a name="h2a2"></a><h3 id="h2ix2">Tile IDs</h3>
<p>Each tile in the tileset has a zero-based index to identify it. This starts with the top-left tile and increments horizontally in rows. The tile ID can easily be seen by hovering the mouse over a tile in the Tilemap Bar. The tile ID is useful for comparing or setting tiles at runtime with the object's conditions, actions and expressions.</p>
<a name="h2a3"></a><h3 id="h2ix3">Tile positions</h3>
<p>When using tiles in the object's conditions, actions and expressions, positions are generally given in <em>tiles</em> instead of layout co-ordinates. You can convert between tile positions and layout co-ordinates using the <em>PositionToTileX/Y</em> and <em>TileToPositionX/Y</em> expressions.</p>
<a name="h2a4"></a><h3 id="h2ix4">Inappropriate uses of Tilemaps</h3>
<p>It is not appropriate to use the Tilemap object to display large images. The tilemap object draws tile-by-tile, but can optimise if there are areas of the same tile. This is described in the blog post <a href="https://www.scirra.com/blog/ashley/3/tech-blog-tilemap-tidbits" target="_blank">Tilemap tidbits ⇗</a>. If you paste a large image in to the Tilemap object, and then stamp a grid of tiles to display the large image, every tile is different. Therefore no optimisation is possible, and a draw call must be issued for each tile. If the image needs a 10x10 grid of tiles to display, then it will need to issue 100 draw calls. A single sprite or Tiled Background, by comparison, takes a single draw call each. Therefore this type of use of the Tilemap object can be hundreds of times less efficient than using another object. The Tilemap object should only be used for tile based games, where a single tile is a useful level design block by itself, rather than part of a larger image.</p>
<a name="h2a5"></a><h3 id="h2ix5">Tilemap Properties</h3>
<p><strong>Image</strong><br>
Click the <em>Edit</em> link to edit the tileset image from which tiles are drawn.</p>
<p><strong>Initial visibility</strong><br>
Choose whether the object is visible or invisible at the start of the layout.</p>
<p><strong>Tile width</strong><br>
<strong>Tile height</strong><br>
The size of tiles in the tilemap, in pixels. It is recommended to use a square power-of-two size (e.g. 32x32).</p>
<p><strong>Tile X offset</strong><br>
<strong>Tile Y offset</strong><br>
The offset in pixels of the top-left tile in the tileset image. This is not normally necessary and is provided mainly for compatibility with existing tileset images that have the tiles drawn at an offset.</p>
<p><strong>Tile X spacing</strong><br>
<strong>Tile Y spacing</strong><br>
The spacing in pixels between tiles in the tileset image. This is not normally necessary and is provided mainly for compatibility with existing tileset images that have the tiles drawn apart from each other.</p>
<p><strong>Seamless mode</strong><br>
Use a rendering mode that prevents seams appearing between tiles, but also disables some tilemap optimisations which could reduce performance. Turning <em>Seamless mode</em> off can improve performance, but may show seams if the following project properties are not as follows: <em>Letterbox integer scale</em> fullscreen mode, <em>Point</em> sampling, and <em>Pixel rounding</em> on. <strong>NOTE:</strong> you cannot use different <em>Seamless mode</em> settings on different instances of the same Tilemap object, even across layouts. For correct display, all tilemap instances of the same object type should use the same <em>Seamless mode</em>.</p>
<a name="h2a6"></a><h3 id="h2ix6">Tilemap conditions</h3>
<p><strong>Compare tile at</strong><br>
Compare the tile ID at a position in the tilemap.</p>
<p><strong>Compare tile state at</strong><br>
Test whether a tile at a position in the tilemap is flipped or rotated from its normal state.</p>
<p><strong>On image URL loaded</strong><br>
Triggered when <em>Load image from URL</em> finishes downloading the image and is ready to use it.</p>
<a name="h2a7"></a><h3 id="h2ix7">Tilemap actions</h3>
<p><strong>Download</strong><br>
Invoke a download of the current tilemap data (from the <em>TilesJSON</em> expression) as a JSON file. This can be useful for in-game level editors.</p>
<p><strong>Load</strong><br>
Load the current tiles from a string of JSON data from a previous use of the <em>TilesJSON</em> expression.</p>
<p><strong>Erase tile</strong><br>
Erase the tile at a position.</p>
<p><strong>Erase tile range</strong><br>
Erase a rectangular area of tiles in the tilemap.</p>
<p><strong>Set tile</strong><br>
Set the tile at a position in the tilemap by its tile ID. The tile that is set can also optionally be flipped or rotated.</p>
<p><strong>Set tile range</strong><br>
As with <em>Set tile</em>, but sets a rectangular area of tiles in the tilemap.</p>
<p><strong>Set tile state</strong><br>
Set the tile flipped or rotated state at a position in the tilemap. The tile ID is not changed.</p>
<p><strong>Set tile state range</strong><br>
Set the flipped or rotated state for a rectangular area of tiles in the tilemap. None of the tile IDs in the rectangular area are changed.</p>
<p><strong>Load image from URL</strong><br>
Load a new tilemap image from a given URL. It is not used until the image has finished downloading, and <em>On image URL loaded</em> triggers. Images loaded from different domains are subject to the same cross-domain restrictions as AJAX requests - for more information see the section on cross-domain in the <a href="#anchor-107">AJAX object</a>. Data URIs can also be passed as an image, e.g. from a canvas snapshot or webcam image.</p>
<a name="h2a8"></a><h3 id="h2ix8">Tilemap expressions</h3>
<p><strong>TilesJSON</strong><br>
Retrieve the tile data in JSON format, which can be loaded in again later using the <em>Load</em> action. Note this differs from the built-in <em>AsJSON</em> expression, which returns the entire object state (including position, size, behaviors etc), whereas <em>TilesJSON</em> returns only the tile data.</p>
<p><strong>PositionToTileX(x)</strong><br>
<strong>PositionToTileY(y)</strong><br>
Convert an X or Y layout co-ordinate in to the corresponding tile number in the tilemap. For example, this can be used to get the tile position under the mouse.</p>
<p><strong>SnapX(x)</strong><br>
<strong>SnapY(y)</strong><br>
Snap an X or Y layout co-ordinate to the nearest tile. This also returns a layout co-ordinate, but aligned to the nearest tile in the tilemap.</p>
<p><strong>TileAt(x, y)</strong><br>
Return the tile ID at a position in the tilemap. Note the position is given in tiles, not layout co-ordinates. If the tile at the given position is empty (has been erased), the expression returns -1.</p>
<p><strong>TileToPositionX(x)</strong><br>
<strong>TileToPositionY(y)</strong><br>
Convert a tile position to layout co-ordinates. For example, this can be used to position a Sprite object on top of a given tile.<a name="anchor-119"></a></p>
<h2>6.38 Touch</h2>
The <strong>Touch</strong> object detects input from touchscreen devices like iPhones, iPads, Android and Windows 8 devices.  Touchscreens for desktop computers are also available, but these are rare compared to mobiles, so generally the Touch object is used in anticipation of input on a mobile device.<p></p>
<p>The Touch object also provides input from the <strong>accelerometer</strong> (motion) and <strong>inclinometer</strong> (tilt/compass direction) if the device supports them.</p>
<p>It is <a href="#anchor-34">best</a> to support touch input wherever possible.  On the modern web many users are now browsing on mobile devices with touch input only and no mouse or keyboard.  If your game does not support touch controls, many users will be unable to play your game at all.  For a guide on how to implement on-screen touch controls, see the tutorial on <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">Touch controls ⇗</a>.</p>
<p>For a number of examples of using Touch input, search for <strong>Touch</strong> in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Multi-touch</h3>
<p>The Touch object supports multi-touch.  This is most useful with the <em>On touched object</em> and <em>Is touching object</em> conditions, which can for example detect if multiple on-screen touch controls are being used.  This is sufficient for many games.</p>
<p>For more advanced uses, the <em>TouchID</em>, <em>XForID</em> and <em>YForID</em> expressions can be used to track individual touches for different purposes.  Each touch has a unique ID (which is an arbitrary number), and can be accessed using the <em>TouchID</em> expression in an event like <em>On any touch start</em>.  The touch ID can then be stored in a variable and tracked using the <em>XForID</em> and <em>YForID</em> expressions.  Finally comparing the <em>TouchID</em> in <em>On any touch end</em> indicates when that touch has been released.</p>
<a name="h2a1"></a><h3 id="h2ix1">Touch properties</h3>
<p><strong>Use mouse input</strong><br>
If set to <em>Yes</em>, mouse clicks will simulate touch events.  Clicking and dragging the left mouse button will simulate a touch along where mouse dragged, and single clicks will simulate taps.  This can be very useful for testing touch events work properly on a desktop computer with no touch input supported.  However, only single-touch input can be simulated with a mouse, and a mouse is much more precise than a touch, so it is still best to test on a real touchscreen device.</p>
<a name="h2a2"></a><h3 id="h2ix2">Touch conditions</h3>
<p><strong>On double-tap</strong><br>
<strong>On double-tap object</strong><br>
Triggered when two tap gestures are performed in quick succession in the same location. The <em>On double-tap object</em> variant triggers when this gesture is performed over an object.</p>
<p><strong>On hold</strong><br>
<strong>On hold over object</strong><br>
Triggered when a touch is held (pressed and not moved) for a short time period. The <em>On hold over object</em> variant triggers when this gesture is performed over an object.</p>
<p><strong>On tap</strong><br>
<strong>On tap object</strong><br>
Triggered when a tap gesture is performed, which is defined as a touch and release in quick succession in the same location. The <em>On tap object</em> variant triggers when this gesture is performed over an object.</p>
<p><strong>Compare acceleration</strong><br>
Compare the current device's motion as its acceleration on each axis in m/s^2 (meters per second per second).  The effect of gravity can be included or excluded, but note that some devices only support accelerometer values including the effect of gravity and will always return 0 for acceleration excluding gravity.</p>
<p><strong>Compare orientation</strong><br>
Compare the device's current orientation, if the device has a supported inclinometer.  <em>Alpha</em> is the compass direction in degrees.  <em>Beta</em> is the device front-to-back tilt in degrees (i.e. tilting forwards away from you if holding in front of you).  A positive value indicates front tilt and a negative value indicates back tilt.  <em>Gamma</em> is the device left-to-right tilt in degrees (i.e. twisting if holding in front of you).  A positive value indicates right tilt and a negative value indicates left tilt.</p>
<p><strong>Compare touch speed</strong><br>
Compare the speed of a specific touch (given by its zero-based index).  Touch speed is measured in canvas pixels per second, so is not affected by scaling the display.</p>
<p><strong>Has Nth touch</strong><br>
True if a given touch number is currently in contact with the screen. For example, <em>Has touch 1</em> will be true if there are two or more touches currently in contact with the screen (given that it is a zero-based index).</p>
<p><strong>Is in touch</strong><br>
True if any touch is currently in contact with the screen.</p>
<p><strong>Is touching object</strong><br>
True if any touch is currently touching a given object.</p>
<p><strong>On any touch end</strong><br>
Triggered when any touch releases from the screen.</p>
<p><strong>On any touch start</strong><br>
Triggered upon any touch on the screen.</p>
<p><strong>On Nth touch end</strong><br>
Triggered when a given touch number releases from the screen. For example, <em>On touch 1 end</em> will trigger when releasing the second simultaneous touch (given that it is a zero-based index).</p>
<p><strong>On Nth touch start</strong><br>
Triggered when a given touch number touches the screen. For example, <em>On touch 1 start</em> will trigger upon the second simultaneous touch (given that it is a zero-based index).</p>
<p><strong>On touched object</strong><br>
Triggered when a given object is touched.</p>
<a name="h2a3"></a><h3 id="h2ix3">Touch actions</h3>
<p>The Touch object has no actions.</p>
<a name="h2a4"></a><h3 id="h2ix4">Touch expressions</h3>
<p><strong>AccelerationX</strong><br>
<strong>AccelerationY</strong><br>
<strong>AccelerationZ</strong><br>
Get the current device's motion as its acceleration on each axis in m/s^2 (meters per second per second) excluding the effect of gravity.  The expressions which include gravity (below) are more widely supported; these will return 0 at all times on devices which do not support them.</p>
<p><strong>AccelerationXWithG</strong><br>
<strong>AccelerationYWithG</strong><br>
<strong>AccelerationZWithG</strong><br>
Get the current device's motion as its acceleration on each axis in m/s^2 (meters per second per second) including the acceleration caused by gravity, which is about 9.8 m/s^2 down at all times.  For example, at rest, the device will report an acceleration downwards corresponding to the force of gravity.  These expressions are more commonly supported than the expressions returning acceleration without G (above).  However, devices are still not guaranteed to support motion detection, in which case these will return 0 at all times.</p>
<p><strong>Alpha</strong><br>
<strong>Beta</strong><br>
<strong>Gamma</strong><br>
Return the device's orientation if supported, or 0 at all times if not supported.  <em>Alpha</em> is the compass direction in degrees.  <em>Beta</em> is the device front-to-back tilt in degrees (i.e. tilting forwards away from you if holding in front of you).  A positive value indicates front tilt and a negative value indicates back tilt.  <em>Gamma</em> is the device left-to-right tilt in degrees (i.e. twisting if holding in front of you).  A positive value indicates right tilt and a negative value indicates left tilt.</p>
<p><strong>AbsoluteX</strong><br>
<strong>AbsoluteY</strong><br>
<strong>AbsoluteXAt(index)</strong><br>
<strong>AbsoluteYAt(index)</strong><br>
<strong>AbsoluteXForID(id)</strong><br>
<strong>AbsoluteYForID(id)</strong><br>
Return the current position of a touch over the canvas area. This is (0, 0) at the top left of the canvas and goes up to the window size. It is not affected by any scrolling or scaling in the game.  The <em>At</em> expressions can return the absolute position of any touch given its zero-based index, and the <em>ForID</em> expressions return the position of a touch with a specific ID.</p>
<p><strong>X</strong><br>
<strong>Y</strong><br>
<strong>XAt(index)</strong><br>
<strong>YAt(index)</strong><br>
<strong>XForID(id)</strong><br>
<strong>YForID(id)</strong><br>
Return the current position of a touch in layout co-ordinates. It changes to reflect scrolling and scaling. However, if an individual layer has been scrolled, scaled or rotated, these expressions do not take that in to account - for that case, use the layer versions below.  The <em>At</em> expressions can return the position of any touch given its zero-based index, and the <em>ForID</em> expressions return the position of a touch with a specific ID.</p>
<p><strong>X("layer")</strong><br>
<strong>Y("layer")</strong><br>
<strong>XAt(index, "layer")</strong><br>
<strong>YAt(index, "layer")</strong><br>
<strong>XForID(id, "layer")</strong><br>
<strong>YForID(id, "layer")</strong><br>
Return the current position of a touch in layout co-ordinates, with scrolling, scaling and rotation taken in to account for the given layer. The layer can be identified either by a string of its name or its zero-based index (e.g. <em>Touch.X(0)</em>).  The <em>At</em> expressions can return the position of any touch on a layer given its zero-based index, and the <em>ForID</em> expressions return the position of a touch with a specific ID.</p>
<p><strong>TouchCount</strong><br>
Number of touches currently in contact with the device's screen.</p>
<p><strong>TouchID</strong><br>
Return the unique ID of a touch (which is an arbitrary number) in an event like <em>On any touch start</em> or <em>On any touch end</em>.</p>
<p><strong>TouchIndex</strong><br>
Return the zero-based index of the touch in an event like <em>On any touch start</em> or <em>On any touch end</em>.</p>
<p><strong>AngleAt(index)</strong><br>
<strong>AngleForID(id)</strong><br>
Get the angle of motion of a specific touch in degrees by its zero-based index or unique ID. A touch must be moving across the device screen for this expression to contain a useful value.</p>
<p><strong>WidthForID(id)</strong><br>
<strong>HeightForID(id)</strong><br>
Return the width and height of a touch with a given ID in pixels. This allows the app to determine the approximate size of the touch area. Note some platforms do not support this and will always return 0 for the touch size.</p>
<p><strong>PressureForID(id)</strong><br>
Return the pressure of a touch with a given ID, as a number from 0 (least detectable pressure) to 1 (most detectable pressure). This is useful for devices with pressure-sensitive displays, such as the iPhone 6S. Note however not all devices have pressure-sensitive displays, and so will always return 0 for the pressure.</p>
<p><strong>SpeedAt(index)</strong><br>
<strong>SpeedForID(id)</strong><br>
Get the speed of a specific touch by its zero-based index or unique ID.  Touch speed is measured in canvas pixels per second, so is not affected by scaling the display.<a name="anchor-176"></a></p>
<h2>6.39 Twitter</h2>
The <strong>Twitter</strong> plugin allows a <em>Follow</em>, <em>Share</em> or <em>Tweet</em> button to appear in-game.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Twitter plugin compatibility</h3>
<p>Since the Twitter API depends on opening separate browser windows, it usually only works inside a normal web browser. This means the button may not work when built in to a native app for Android or iOS, such as with Crosswalk, Ejecta or CocoonJS. To work around this, use the <a href="#anchor-110">Browser object</a>'s <em>Open URL in new window</em> action to open a Twitter page instead.</p>
<a name="h2a1"></a><h3 id="h2ix1">Twitter properties</h3>
<p><strong>Type</strong><br>
One of the following button types:<br>
<em>Follow</em>: a 'Follow' button to follow a Twitter account. The <em>Share</em> property should be the name of the Twitter account to follow, but without the @, e.g. <em>Scirra</em> to follow the account @Scirra.<br>
<em>Share</em>: a 'Tweet' button to share a URL. The <em>Share</em> property must be a valid URL, e.g. <em>http://www.scirra.com</em>. The initial tweet text is set to the <em>Text</em> property, optionally displaying as <em>Via</em> a given account, with optional <em>Hashtags</em>.<br>
<em>Mention</em>: a button to send a public tweet to another account. The <em>Share</em> property should be the name of the Twitter account to tweet to, without the @. The initial tweet text is set to the <em>Text</em> property, optionally displaying as <em>Via</em> a given account, with optional <em>Hashtags</em>.<br>
<em>Hashtag</em>: a button to tweet with a hashtag. The <em>Share</em> property should be the hashtag to tweet with, without the # (e.g. <em>Scirra</em> to tweet with hashtag <em>#Scirra</em>). Additional hashtags can be added with the <em>Hashtags</em> property. The initial tweet text is set to the <em>Text</em> property, optionally displaying as <em>Via</em> a given account.</p>
<p><strong>Share</strong><br>
The account to follow or mention, URL to share, or hashtag to tweet, depending on <em>Type</em>.</p>
<p><strong>Text</strong><br>
The initial text to have in the tweet, which is selected so the user can easily replace it. This is not used when the <em>Type</em> is <em>Follow</em>.</p>
<p><strong>Via</strong><br>
Optionally display the tweet as being via another twitter account, e.g. <em>via @Scirra</em>. The account should be set in this property without the @, e.g. <em>Scirra</em> to tweet via <em>@Scirra</em>. This is not used when the <em>Type</em> is <em>Follow</em>.</p>
<p><strong>Hashtags</strong><br>
Comma-separated hashtags to add to the tweet, without the # (e.g. <em>construct2,html5</em> to add the hashtags <em>#construct2 #html5</em>). This is not used when the <em>Type</em> is <em>Follow</em>. When the <em>Type</em> is <em>Hashtag</em>, the actual hashtag to share must be entered in the <em>Share</em> property instead, but this property can then be used to add extra hashtags to the tweet.</p>
<p><strong>Initial visibility</strong><br>
Whether the button is initially visible or invisible.</p>
<p><strong>Count</strong><br>
For <em>Follow</em> or <em>Share</em> buttons, which direction to show the count of how many users already follow or have already shared, or <em>None</em> to not show any count.</p>
<p><strong>Size</strong><br>
Whether to use a medium or large style button.</p>
<p><strong>Language</strong><br>
An ISO 639-1 language code to use for the button, which affects the text appearing on the button and in the popup window.</p>
<a name="h2a2"></a><h3 id="h2ix2">Twitter conditions</h3>
<p><strong>On button loaded</strong><br>
Triggered when the button has successfully loaded and is ready to be interacted with by the user. The button may not display until this triggers.</p>
<a name="h2a3"></a><h3 id="h2ix3">Twitter actions</h3>
<p><strong>Set hashtags</strong><br>
<strong>Set share</strong><br>
<strong>Set text</strong><br>
<strong>Set via</strong><br>
Set the corresponding object properties. For more information, see the properties documentation above. Any changes will not take effect until the button is reloaded.</p>
<p><strong>Reload</strong><br>
Reload the button, so any changed properties then take effect.</p>
<a name="h2a4"></a><h3 id="h2ix4">Twitter expressions</h3>
<p>The Twitter plugin does not have any of its own expressions.<a name="anchor-144"></a></p>
<h2>6.40 User Media</h2>
The <strong>User Media</strong> object allows retrieving camera or microphone input from a user, including speech recognition, speech synthesis (also known as text-to-speech) and ambient light readings.  This requires appropriate hardware being installed on the user's system, such as a webcam for a PC, a phone camera on a mobile, or a microphone.  Camera snapshots can be taken and transferred in to Sprite or Tiled Background objects, and microphone input can be analysed with the Audio object.<p></p>
<p>For security reasons, most browsers will prompt the user for permission before allowing user media input, and will display clear notifications that the media device is currently being used, such as a recording icon in the system tray or tab icon.</p>
<p>The User Media object has <a href="#anchor-130">common features</a>, including the ability to have effects applied for video feeds.</p>
<p>For several examples of what the User Media object can do, search for <strong>User Media</strong> in the <a href="#anchor-148">Start dialog</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">In the layout</h3>
<p>The User Media object appears as a rectangle in the <a href="#anchor-43">layout view</a>, represented by a red cross.  This represents where the video feed will be displayed in the layout. If you only need microphone input, place the User Media object outside the layout.</p>
<a name="h2a1"></a><h3 id="h2ix1">User Media conditions</h3>
<p><strong>On ambient light reading update</strong><br>
Triggered when the ambient light reading (the <em>AmbientLux</em> expression) changes. This only happens if the device has an appropriate sensor.</p>
<p><strong>Is canvas recording supported</strong><br>
Returns true if the current browser/platform supports recording a video from the game's canvas with the <em>Start recording canvas</em> action.</p>
<p><strong>On canvas recording ready</strong><br>
Triggered after the <em>Stop recording canvas</em> action when the recording is available to be downloaded. Typically this is done by using the Browser object's 'Invoke download' action to download the <em>CanvasRecordingURL</em> expression.</p>
<p><strong>On media request approved</strong><br>
Triggered when the user confirms a security prompt after the <em>Request camera</em> or <em>Request microphone</em> actiona, indicating their approval to allow the application to use media input.</p>
<p><strong>On media request declined</strong><br>
Triggered when the user cancels a security prompt after the <em>Request camera</em> or <em>Request microphone</em> actions, indicating they do not approve the application's request to use media input.</p>
<p><strong>On retrieved media sources</strong><br>
Triggered after the <em>Get media sources</em> action completes, and the list of media sources is available with the <em>AudioSource</em> and <em>CameraSource</em> expressions.</p>
<p><strong>Is recognising speech</strong><br>
True if a speech recognition request has been approved, and speech input through a microphone is actively being recognised.</p>
<p><strong>On speech recognition end</strong><br>
Triggered after the <em>Stop speech recognition</em> action, or after the user stops speaking in <em>Single phrase</em> mode speech recognition.</p>
<p><strong>On speech recognition error</strong><br>
Triggered if there is an error approving speech recognition, or during speech recognition. The <em>SpeechError</em> expression is set to a string which describes the type of problem, e.g. <em>"not-allowed"</em> if permission was declined.</p>
<p><strong>On speech recognition result</strong><br>
Triggered during active speech recognition when the interim or final transcript has changed. Use either the <em>FinalTranscript</em> and/or the <em>InterimTranscript</em> expressions to get the updated result.</p>
<p><strong>On speech recognition start</strong><br>
Triggered after <em>Request speech recognition</em> when the user has also approved any prompt for permission.</p>
<p><strong>Supports speech recognition</strong><br>
True if the current browser or platform supports speech recognition. If false, none of the speech recognition features of the object will work.</p>
<p><strong>Is speaking</strong><br>
True if the speech synthesis engine is currently reading out some text.</p>
<p><strong>Supports speech synthesis</strong><br>
True if the current browser supports speech synthesis, so the <em>Speak text</em> action can work.</p>
<p><strong>Supports user media</strong><br>
True if the current browser supports the User Media object.  Not all browsers support the necessary features, so if this is not true it indicates media input is always unavailable.  It may also be true even if the user has no media devices installed on their system, since it only determines if the browser has the capability to support media input or not.</p>
<a name="h2a2"></a><h3 id="h2ix2">User Media actions</h3>
<p><strong>Start recording canvas</strong><br>
<strong>Stop recording canvas</strong><br>
If canvas video recording is supported (checked with the <em>Is canvas recording supported</em> condition), starts and stops recording a video of the canvas. When starting recording, various format and quality options can be chosen. Once the canvas recording is stopped, <em>On canvas recording ready</em> triggers where the recording can be accessed.</p>
<p><strong>Get media sources</strong><br>
Request a list of media sources that can be used with the <em>Request camera</em> or <em>Request microphone</em> actions. For example a mobile device may have both front-facing and back-facing cameras, or multiple microphones. Using the media source list allows the specific camera or microphone input to be selected. This does not complete immediately; the media source list is only available after the <em>On retrieved media sources</em> trigger fires. The browser also may not support listing the media sources, in which case the trigger will never fire.</p>
<p><strong>Request camera</strong><br>
Show a security prompt to the user requesting that they give the application permission to use camera input.  Either <em>On media request approved</em> or <em>On media request declined</em> will trigger depending on their decision.  If approved, the User Media object in the layout will start displaying a video feed from the user's camera device. The specific camera source to use can be chosen with the <em>Source</em> parameter, if media source listing is supported and a media source list has been requested; otherwise the default camera is used.</p>
<p><strong>Request microphone</strong><br>
Show a security prompt to the user requesting that they give the application permission to use microphone input. <em>On media request approved</em> or <em>On media request declined</em> will trigger depending on their decision. The <a href="#anchor-109">Audio</a> object must also be in the project, and <em>Advanced audio supported</em> to be true, for this to be useful. A tag is given for the microphone input, and the audio input from the microphone is routed the same way as playing a sound with that tag. This means you can assign effects from the Audio object to the microphone input by adding the effects to the same tag assigned to the microphone. A useful combination is to add an analyser effect then a mute effect to microphone input. This prevents the user hearing their own voice, but allows peak, RMS and spectrum monitoring with the analyser. The specific microphone input to use can be chosen with the <em>Source</em> parameter, if media source listing is supported and a media source list has been requested; otherwise the default microphone input is used.</p>
<p><strong>Snapshot</strong><br>
If the user has approved a camera request and the User Media object is showing a video feed, then snapshots the current frame.  The still image is then available from the <em>SnapshotURL</em> expression as a data URI representing the image.  The image can be loaded in to a Sprite or Tiled Background object using the <em>Load image from URL</em> action and passing <em>SnapshotURL</em>.  This action optionally takes parameters allowing you to specify the compression format, which is useful if you intend to upload or save the image and a smaller file size would be advantageous.</p>
<p><strong>Stop</strong><br>
Ends any active video feed or microphone input.  Media input must be requested again before it can be used.</p>
<p><strong>Request speech recognition</strong><br>
If <em>Supports speech recognition</em> is true, initiates speech recognition. Usually a permission prompt will appear asking the user if they want to allow the page to use their microphone input. The user must approve the permission prompt before <em>On speech recognition start</em> triggers. If there is a problem or permission is denied, <em>On speech recognition error</em> is triggered.<br>
<em>Language</em> specifies the spoken language to recognise. Use a tag like <em>en</em> for English, <em>en-US</em> for US English, <em>en-GB</em> for British English, and so on.<br>
<em>Mode</em> can be <em>continuous</em>, which keeps recognising speech until the page is closed or the <em>Stop speech recognition</em> is used; or <em>single phrase</em>, which recognises speech until the user stops talking, then automatically stops speech recognition and triggers <em>On speech recognition end</em>.<br>
<em>Results</em> can be <em>Interim</em> to allow interim (unconfirmed) results which can change, accessed by the <em>InterimTranscript</em> expression; or <em>Final</em> to only allow confirmed final results of speech recognition to be returned which will not change, accessed by the <em>FinalTranscript</em> expression.</p>
<p><strong>Stop speech recognition</strong><br>
If speech recognition is currently active, ends the speech recognition. <em>On speech recognition end</em> will trigger.</p>
<p><strong>Pause speaking</strong><br>
<strong>Resume speaking</strong><br>
Pause or resume text being read out by speech synthesis from the <em>Speak text</em> action.</p>
<p><strong>Speak text</strong><br>
Read out some text using speech synthesis (also known as text-to-speech). The language, volume, rate and pitch of the voice that reads out the text can be customised. The <em>Voice URI</em> can be used to select a different kind of voice (e.g. male vs. female) from a list of the supported voices, if any alternatives are available. The list of possible voices can be retrieved using the <em>VoiceCount</em> and <em>VoiceURIAt</em> expressions.</p>
<p><strong>Stop speaking</strong><br>
Stop reading out text from a previous <em>Speak text</em> action. The speech cannot be resumed.</p>
<a name="h2a3"></a><h3 id="h2ix3">User Media expressions</h3>
<p><strong>AmbientLux</strong><br>
The current ambient light reading in <a href="https://en.wikipedia.org/wiki/Lux" target="_blank">lux ⇗</a>, or 0 if no appropriate sensor is present. This changes in the <em>On ambient light reading update</em> trigger.</p>
<p><strong>CanvasRecordingURL</strong><br>
After <em>On canvas recording ready</em> triggers, this is the URL to the video recording that was made. Typically this will be downloaded by using the Browser object's <em>Invoke download</em> action to download this URL.</p>
<p><strong>FinalTranscript</strong><br>
If speech recognition is active, returns the final transcript of confirmed results. This does not change, other than to add newly spoken words which have also been confirmed.</p>
<p><strong>InterimTranscript</strong><br>
If speech recognition is active, returns the interim transcript of results. The <em>Request speech recognition</em> action must have specified <em>Interim</em> for the <em>Results</em> parameter. The text of this expression can change, as the speech recognition engine uses the sound input in real-time to refine the results and correct any misinterpreted words. Once the user has spoken far enough for the speech recognition engine to be confident of a final result, the word will disappear from <em>InterimTranscript</em> and be appended to <em>FinalTranscript</em>.</p>
<p><strong>SpeechError</strong><br>
In <em>On speech recognition error</em>, contains a string which identifies the type of error. Possible values are: <em>"no-speech"</em>, <em>"aborted"</em>, <em>"audio-capture"</em>, <em>"network"</em>, <em>"not-allowed"</em>, <em>"service-not-allowed"</em>, <em>"bad-grammar"</em>, or <em>"language-not-supported"</em>. The most common errors are <em>"not-allowed"</em> if the user declined the permission prompt; <em>"audio-capture"</em> if no microphone is present; or <em>"network"</em> if the speech recognition is implemented by a remote server over the Internet which is currently unavailable.</p>
<p><strong>VoiceCount</strong><br>
Return the number of voices available for use with speech synthesis.</p>
<p><strong>VoiceLangAt(i)</strong><br>
<strong>VoiceNameAt(i)</strong><br>
<strong>VoiceURIAt(i)</strong><br>
Return the language, name, or URI of the voice at the given zero-based index. This can be used to show the user a list of possible voices to choose. To select a different voice, pass the appropriate voice URI to the <em>Speak text</em> action.</p>
<p><strong>AudioSourceCount</strong><br>
After <em>On retrieved media sources</em> triggers, the number of audio sources available.</p>
<p><strong>AudioSourceLabelAt(index)</strong><br>
After <em>On retrieved media sources</em> triggers, the label of the audio source at the given index. The label is normally the name of the input or recording device, but it may be empty for security reasons (such as if the user has not yet approved a media request).</p>
<p><strong>CameraSourceCount</strong><br>
After <em>On retrieved media sources</em> triggers, the number of camera sources available.</p>
<p><strong>CameraSourceFacingAt(index)</strong><br>
After <em>On retrieved media sources</em> triggers, a string indicating which way a camera source is facing. This can be "user" (the camera is facing the user, such as the front-facing camera on a phone), "environment" (the camera is facing away from the user, such as the back-facing camera on a phone), "left", "right", or empty if unknown or withheld for security reasons.</p>
<p><strong>CameraSourceLabelAt(index)</strong><br>
After <em>On retrieved media sources</em> triggers, the label of the camera source at the given index. The label is normally the name of the input device, but it may be empty for security reasons (such as if the user has not yet approved a media request).</p>
<p><strong>SnapshotURL</strong><br>
A data URI representing the snapshotted image after a <em>Snapshot</em> action, otherwise an empty string.  The image can be loaded in to a Sprite or Tiled Background object using the <em>Load image from URL</em> action and passing <em>SnapshotURL</em>.  Alternatively, the data URI can be sent to a server, saved to disk, downloaded with the Browser object, or anything else you would like to do with it.</p>
<p><strong>VideoWidth</strong><br>
<strong>VideoHeight</strong><br>
If a video feed is approved and active, this returns the size in pixels of the feed from the device (which may not be the same size as the object in the layout).  If no feed is active then 0 is returned.<a name="anchor-181"></a></p>
<h2>6.41 Video</h2>
The <strong>Video</strong> object can play a video inside a Construct 2 game. On most platforms, the video renders inside the game canvas itself, allowing other objects to appear on top of it and shader effects to be applied, unlike with form controls.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Video formats</h3>
<p>As with audio, browser makers have not been able to agree on one video format that can play everywhere. As a result to guarantee that video playback will work on all browsers and on all platforms, it is necessary to encode your videos in at least two formats.</p>
<p>The Video plugin allows you to set three sources for a video in the following formats:</p>
<ul>
<li>WebM with VP8 or VP9 codec (.webm)</li>
<li>Ogg Theora (.ogv)</li>
<li>MPEG-4 with h.264 codec (.mp4)</li>
</ul>
<p>Browsers which support WebM usually also support Ogg Theora, so it is not necessary to specify both a WebM and Ogg Theora source. It should only be necessary to specify a h.264 source and <em>either</em> a WebM source <em>or</em> an Ogg Theora source. Since WebM is a newer and more advanced format than Ogg Theora, it is recommended to specify a WebM and h.264 source.</p>
<p>The Video plugin will prefer to play WebM first if supported and a source provided, Ogg Theora second, and h.264 last.</p>
<a name="h2a1"></a><h3 id="h2ix1">Importing video</h3>
<p>Due to the complexities of video compression and the patent-encumbrance of h.264, Construct 2 does not provide a video importer like it does with audio. You must encode your video files yourself, and then import them as <a href="#anchor-141">project files</a>. WebM and Ogg Theora are free formats and you should be able to find free encoders, whereas h.264 encoders may involve a fee.</p>
<p>When publishing a project using video playback to the web, be sure that your server has the <a href="#anchor-168">correct MIME types set up</a> otherwise video playback may fail after export.</p>
<a name="h2a2"></a><h3 id="h2ix2">Compatibility</h3>
<p>On Safari for iOS and Chrome for Android, video playback cannot begin unless triggered by a user input event. The <em>Play</em> action will work in a user input trigger like <em>On touch start</em>, but if done outside of that it cannot play right away. To work around this the video plugin will wait until the next touch event to start playing the video. This also applies to autoplaying videos: it will not start until the first touch.</p>
<p>Safari on iOS does not currently support rendering video inside the game canvas itself. To work around this, the Video plugin creates a video element floating above the game, similar to a form control. This ensures the video can appear, but prevents other objects being displayed on top of it.</p>
<a name="h2a3"></a><h3 id="h2ix3">Video properties</h3>
<p><strong>WebM source</strong><br>
<strong>Ogg Theora source</strong><br>
<strong>H.264 source</strong><br>
Names of the project files for the video in different formats. For more information, see <em>Video formats</em> above.</p>
<p><strong>Autoplay</strong><br>
The autoplay or preload mode. This can be:<br>
<em>No</em>: nothing is done until the video is requested to be played.<br>
<em>Preload</em>: on startup the video will start downloading the video data, but will not start playing it yet. This can allow video playback to start more quickly when requested. Some platforms (e.g. mobile devices on cellular data connections) may ignore this.<br>
<em>Yes</em>: on startup the video will start downloading the video data, and also start playing it as soon as it determines the progress and transfer rate are sufficient to play through to the end without stalling for buffering. Some mobile platforms will not start playing until the first touch event - see <em>Compatibility</em> for more information.</p>
<p><strong>Play in background</strong><br>
If <em>No</em>, then switching browser tab, minimising the browser window, switching to a different mobile app, or otherwise hiding the window will pause the video and resume it when switching back. This is intended to avoid annoying the user with continued audio playback when deciding to do something else, and it also helps save battery on mobile devices. However for some types of app it may be desirable to keep playing in the background, in which case setting to <em>Yes</em> allows continued playback even when in the background.</p>
<p><strong>Initial visibility</strong><br>
Whether the video is initially visible or invisible. Note that if it is invisible, audio playback may still be heard when playing, so it may be desirable to also mute the video.</p>
<a name="h2a4"></a><h3 id="h2ix4">Video conditions</h3>
<p><strong>Has ended</strong><br>
True if the video playback has reached the end of the video and stopped.</p>
<p><strong>Is muted</strong><br>
True if the audio playback from the video has been muted.</p>
<p><strong>Is paused</strong><br>
True if the video playback has been paused.</p>
<p><strong>Is playing</strong><br>
True if the video playback is actively playing.</p>
<p><strong>On playback event</strong><br>
Triggers when a playback event occurs. This can be one of:<br>
<em>Can play</em>: triggered when enough data is available to play at least a couple of frames, but there may not be enough data to play through to the end.<br>
<em>Can play through</em>: triggered when the browser determines that the load progress and transfer rate are sufficient for playback through to the end without stalling for buffering. However this is not a guarantee, since the transfer rate could drop or be cut off completely.<br>
<em>Ended</em>: triggered when playback reaches the end of the video.<br>
<em>Error</em>: triggered if an error occurs during video loading, decoding or playback.<br>
<em>Started loading</em>: triggered when the browser begins loading video data.<br>
<em>Played</em>: triggered when playback begins.<br>
<em>Paused</em>: triggered upon pausing the video playback.<br>
<em>Stalled</em>: triggered if the video download rate is too slow to keep up the current playback rate. This will cause the video to pause while it finishes loading the rest of the video, also known as buffering.</p>
<a name="h2a5"></a><h3 id="h2ix5">Video actions</h3>
<p><strong>Pause</strong><br>
Pause the video playback if it is currently playing.</p>
<p><strong>Play</strong><br>
Start playing the video. On some platforms this can only happen in a user input event. For more information, see the section on <em>Compatibility</em>.</p>
<p><strong>Set looping</strong><br>
Set whether the video is looping, so that it restarts from the beginning when it reaches the end.</p>
<p><strong>Set muted</strong><br>
Set whether the audio playback from the video is muted (inaudible) or unmuted.</p>
<p><strong>Set playback time</strong><br>
Set the video playback time to a specific time in seconds (i.e. seek to the given time). Due to the way video encoding technologies work, the video may only be able to seek close to but not exactly on the specified time.</p>
<p><strong>Set source</strong><br>
Set a different video file to play. As with the object properties, three formats can be specified. Setting the source does not automatically start playing the video; use the <em>Play</em> action to start it after changing the source.</p>
<p><strong>Set volume</strong><br>
Set the volume of the audio playback from the video, in decibels attenuation. 0 is full volume, -10 dB is approximately half as loud, etc. The audio cannot be amplified: positive volume values will be treated as 0.</p>
<a name="h2a6"></a><h3 id="h2ix6">Video expressions</h3>
<p><strong>Duration</strong><br>
The video duration in seconds, if the video has loaded enough for this to be determined.</p>
<p><strong>PlaybackTime</strong><br>
The current playback time in seconds.</p>
<p><strong>Volume</strong><br>
The current audio playback volume in dB attenuation.<a name="anchor-153"></a></p>
<h2>6.42 WebSocket</h2>
The <strong>WebSocket plugin</strong> is a simple wrapper around the standardised WebSocket protocol.  It allows for low-overhead bi-directional communication in real-time.  Since WebSockets are standards-based, it should be compatible with any standards-compliant WebSocket server.<p></p>
<p>Using the WebSocket plugin requires a WebSocket server.  Construct 2 does not provide a server nor can the WebSocket plugin be used to make a server.  If you don't already have a WebSocket server set up, you will need to create one yourself using a technology like <a href="http://nodejs.org/" target="_blank">node.js ⇗</a> with WebSocket support.  This can be a significant undertaking and require server-side programming knowledge.</p>
<p>Note the WebSocket plugin currently also only supports text messages, and not binary messages.</p>
<a name="h2a0"></a><h3 id="h2ix0">WebSockets and multiplayer games</h3>
<p>It may be tempting to use WebSockets to design real-time multiplayer games.  Unfortunately, despite the fact they communicate in real-time, WebSockets are not currently a suitable choice for this.  The underlying transport uses reliable transmission, meaning a single dropped packet can hold up all transmission until the packet is retransmitted successfully.  For games with demanding real-time requirements, this can cause unplayable levels of latency.  It is usually impossible to design around this without changing the transmission mode, which WebSockets do not support.</p>
<p>On the other hand, WebSockets should be suitable for games without such a demanding real-time requirement, like turn-based games.  It should also be useful for application services, like chat rooms.  Note this will still require you to create your own WebSocket server.</p>
<a name="h2a1"></a><h3 id="h2ix1">WebSocket properties</h3>
<p>The WebSocket object has no properties.</p>
<a name="h2a2"></a><h3 id="h2ix2">WebSocket conditions</h3>
<p><strong>Is connecting</strong><br>
True if currently in the process of establishing a connection to a server.  The connection is not yet successfully established; there may still be an error.</p>
<p><strong>Is open</strong><br>
True if a connection has been successfully established and the communication channel is currently open.</p>
<p><strong>Is supported</strong><br>
Use before attempting any connections to verify the current browser or platform supports WebSockets.</p>
<p><strong>On closed</strong><br>
Triggered when the connection is closed, either deliberately or due to an error. The <em>CloseCode</em> and <em>CloseReason</em> expressions can indicate why the connection was closed.</p>
<p><strong>On error</strong><br>
Triggered when an error occurs in the WebSocket connection.  Use the <em>ErrorMsg</em> expression to get the error message text.</p>
<p><strong>On opened</strong><br>
Triggered when the connection is successfully established and the communication channel is now open.</p>
<p><strong>On message</strong><br>
Triggered when a text message arrives from the server over an open connection.  Use the <em>MessageText</em> expression to retrieve the content of the message.</p>
<a name="h2a3"></a><h3 id="h2ix3">WebSocket actions</h3>
<p><strong>Close</strong><br>
Close any active connection.  No more messages can be sent or will be received after closing.</p>
<p><strong>Connect</strong><br>
Connect to a WebSocket server.  WebSocket server addresses typically start with <strong>ws://</strong> for non-secure transmission and <strong>wss://</strong> for secure transmission.  Note some network configurations may require secure transmission in order to function correctly.</p>
<p>The <em>Protocol</em> parameter may be optionally set to a required sub-protocol (sent with the <em>Sec-WebSocket-Protocol</em> header in the WebSocket handshake).  If the server does not indicate it supports the chosen sub-protocol, the connection will fail to be established.  This can be used to prevent the client connecting to WebSocket servers that do not understand your application's specific messages.</p>
<p><strong>Send text</strong><br>
Send a text string to the server.  This is ignored if the connection is not currently open.</p>
<a name="h2a4"></a><h3 id="h2ix4">WebSocket expressions</h3>
<p><strong>CloseCode</strong><br>
In the <em>On closed</em> trigger, returns the numeric code of the close reason. This can be one of the standard-specified return values, or a user-defined value.</p>
<p><strong>CloseReason</strong><br>
In the <em>On closed</em> trigger, returns a string describing the reason the connection was closed. This is optional and may be empty.</p>
<p><strong>ErrorMsg</strong><br>
In <em>On error</em>, the error message text.</p>
<p><strong>MessageText</strong><br>
In <em>On message</em>, the text content of the message just received from the server.<a name="anchor-120"></a></p>
<h2>6.43 WebStorage</h2>
<strong>Note: as of r206, WebStorage is deprecated in favour of the new <a href="#anchor-188">Local Storage plugin</a>. This manual entry remains for any old projects which are still using WebStorage, but new projects should use Local Storage instead.</strong><p></p>
<p>The <strong>WebStorage</strong> object can <strong>store data locally</strong> on the user's computer between sessions.  For example, it can be used to store the last save checkpoint, and restore the player's progress if they come back the next day. (Note: if you want a full-state save and load feature, see <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.)</p>
<p>Note that despite the name the WebStorage object <em>does not use online storage</em>.  Since data is stored locally to the user's computer, it will work when offline, as well as for storing data in offline exporters such as NW.js or mobile wrappers like CocoonJS.</p>
<p>WebStorage <strong>does not store in the browser cache</strong>. If the user opts to empty the browser cache, WebStorage data remains intact. However if the user opts to clear all their cookies or offline website data, WebStorage will be cleared. This is intentional by the browser makers so users have a way to free up disk space and prevent websites storing information about them. This usually has other side-effects like logging the user out of every website they were previously logged in to. On platforms that are not a web browser with an address bar (like Windows 8 apps, Cordova or NW.js) the storage is permanent and there is no option for the user to clear it.</p>
<a name="h2a0"></a><h3 id="h2ix0">Storage per domain</h3>
<p>The WebStorage object associates all stored data with the current domain.  For example, all games running on <em>scirra.com</em> share the same data, but games running on <em>facebook.com</em> use a different set of data and cannot access any data saved from <em>scirra.com</em>.</p>
<p>Most browsers implement a maximum size of the data that can be stored with WebStorage - 5mb is a common limit.  If you exceed the limit, the WebStorage's <strong>On quota exceeded</strong> trigger runs.</p>
<a name="h2a1"></a><h3 id="h2ix1">Local vs. Session storage</h3>
<p>The WebStorage object allows data to be stored in two places: <em>Local</em> storage and <em>Session</em> storage.</p>
<p>Local storage is permanent (until the user clears their cache).  If the user comes back the next day, local storage still has the saved data.</p>
<p>Session storage only lasts with the current browser session.  If the user comes back the next day, session storage is empty again.</p>
<a name="h2a2"></a><h3 id="h2ix2">Using WebStorage</h3>
<p>The WebStorage object uses a very simple storage model: values are stored under named <em>keys</em>, similar to how the <a href="#anchor-140">Dictionary object</a> works.  For example, the value 100 could be stored for the key <em>score</em> with the action <em>Set local value "score" to 100</em>.  Similarly the value <em>John</em> can be stored for the key <em>name</em>.  Then the expression <em>WebStorage.LocalValue("score")</em> returns "100" (as a string) and <em>WebStorage.LocalValue("name")</em> returns "John", and these values persist between sessions.  (If session storage was used instead, the values would only last as long as the browser session.)</p>
<p>Note WebStorage only stores strings.  If you set a key to a number like 100, when you retrieve it back it will be a string.  To convert it back, use the system expression <em>int</em>, e.g. <em>int(WebStorage.LocalValue("score"))</em>.</p>
<a name="h2a3"></a><h3 id="h2ix3">WebStorage conditions</h3>
<p><strong>Compare key value (as number)</strong><br>
Compare the value of a given key to a number. Since the WebStorage object only stores values as strings, this condition will first convert the value to a number, then compare it. If the key value is not a number, the condition will always be false.</p>
<p><strong>Compare key value (as text)</strong><br>
Compare the value of a given key to a string. Note the WebStorage object only stores values as strings, so if a number was previously stored it will have been converted to a string already.</p>
<p><strong>Local/session key exists</strong><br>
Check whether a value has been saved for a key in either local or session storage.</p>
<p><strong>On quota exceeded</strong><br>
Most browsers limit the amount of data that can be stored in WebStorage to about 5mb.  If this limit is exceeded, or the user declines to increase the storage limit if the browser prompts them, then <em>On quota exceeded</em> runs.  You will not be able to add any new keys, or set existing keys to longer values, until you delete some other values or clear the storage entirely.</p>
<a name="h2a4"></a><h3 id="h2ix4">WebStorage actions</h3>
<p><strong>Clear local/session storage</strong><br>
Reset either local or session storage to empty for this domain, with no data stored.</p>
<p><strong>Remove local/session value</strong><br>
Delete a key (and its associated value) from local or session storage.  It will no longer exist after this action.</p>
<p><strong>Set local/session value</strong><br>
Store a value (string or number) for a key in local or session storage.  If the key does not exist it is created, otherwise its value is simply updated.</p>
<p><strong>Load JSON</strong><br>
Load local storage keys and values from JSON data.  The <a href="#anchor-140">Dictionary</a> object's JSON format is compatible, so data can be interchanged between Dictionary and WebStorage, but note WebStorage only stores strings (so all numbers will be converted to strings when loading).  If <em>Mode</em> is <em>Set</em>, local storage is first cleared, then the data loaded.  If <em>Mode</em> is <em>Merge</em>, the keys in the JSON data are added or overwritten to the existing keys in storage.</p>
<a name="h2a5"></a><h3 id="h2ix5">WebStorage expressions</h3>
<p><strong>LocalAt</strong><br>
<strong>SessionAt</strong><br>
Return the value at a zero-based index if all the keys in storage are listed in alphabetical order.  Useful for listing all stored data.</p>
<p><strong>LocalCount</strong><br>
<strong>SessionCount</strong><br>
Return the number of keys that exist in storage for this domain.</p>
<p><strong>LocalKeyAt</strong><br>
<strong>SessionKeyAt</strong><br>
Return the key name at a zero-based index if all the keys in storage are listed in alphabetical order.  Useful for listing all stored data.</p>
<p><strong>LocalValue</strong><br>
<strong>SessionValue</strong><br>
Retrieve the value stored for a key in storage.  If the key does not exist this returns an empty string.</p>
<p><strong>AsJSON</strong><br>
Return the entire contents of local storage in JSON format.  The result can also be loaded in to the <a href="#anchor-140">Dictionary</a> object, but note WebStorage only stores strings so all result values in the Dictionary object will also be strings.<a name="anchor-145"></a></p>
<h2>6.44 Windows 8</h2>
The <strong>Windows 8</strong> object provides access to platform-specific features available when running as a Windows 8 app.  Note these features do not apply when running from the desktop, even in Internet Explorer - they only work in the new style Windows 8 apps that run from the start menu.<p></p>
<p>Windows 8 also supports touch input, which is sometimes the only input method available for Windows 8 phones and tablets.  To support these devices be sure to add the <a href="#anchor-119">Touch</a> object and <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">support touch controls ⇗</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Roaming data</h3>
<p>The object's features to use roaming data are designed to be used the same way as the <a href="#anchor-120">WebStorage</a> object.  Familiarity with WebStorage will make it easier to use the roaming data features.  The main difference between WebStorage and roaming data is that in Windows 8, roaming data is synced between all the user's devices.</p>
<p>As with WebStorage, all roaming data values are strings.  You can store numbers in roaming data, but they are automatically converted to strings.  To convert a string back to a number, use the <em>int()</em> or <em>float()</em> <a href="#anchor-126">system expressions</a>.</p>
<a name="h2a1"></a><h3 id="h2ix1">Test mode</h3>
<p>Enabling the <em>Test mode</em> property of the Windows 8 object allows you to test purchases work before publishing to the Windows 8 Store and without having to spend any money.  However you must turn <em>Test mode</em> off before submitting to the Windows Store, otherwise your app will be rejected.</p>
<p>While in test mode, at startup a message will appear every run reminding you the app is in test mode.  The purchase state is then loaded from <em>WindowsStoreProxy.xml</em> which you can use to simulate various states of trial, purchase, item sales, and so on.  The various purchase related conditions, actions and expressions will then work based on the simulated state.  Note nothing you do in the app will affect the content of <em>WindowsStoreProxy.xml</em> - it only affects the currently running session and will reset to the XML's description on the next run.</p>
<a name="h2a2"></a><h3 id="h2ix2">About, Support and Privacy settings</h3>
<p>By default the Windows 8 object adds three options to the Settings charm: About (for general and version information), Support (information on where users can get help for your application), and Privacy (a page including the privacy policy for your application).  These can be enabled or disabled individually in the Windows 8 object's properties.</p>
<p>It is highly recommended to include all of these settings if possible, since doing so can help your application be approved in the Windows Store.  In some cases, a privacy policy is also actually required.</p>
<p>After exporting, your export folder will contain three HTML files: about.html, support.html and privacy.html.  You should edit the content of these files as appropriate for your application.</p>
<a name="h2a3"></a><h3 id="h2ix3">Windows 8 conditions</h3>
<p><strong>Has product</strong><br>
Test if a given product ID (case sensitive) has been purchased by the current user.  This condition is subject to <em>Test Mode</em>.</p>
<p><strong>Is expired trial</strong><br>
Test if the app is in trial mode, and the trial period has expired.  This condition is subject to <em>Test Mode</em>.</p>
<p><strong>Is licensed</strong><br>
Test if the app has been successfully purchased by the current user and has a valid license.  This condition is subject to <em>Test Mode</em>.</p>
<p><strong>Is trial</strong><br>
Test if the app is in trial mode, and the trial is active (the trial period has not expired).  This condition is subject to <em>Test Mode</em>.</p>
<p><strong>On failed purchase</strong><br>
Triggered after a purchase attempt is cancelled or otherwise completes unsuccessfully.</p>
<p><strong>On license changed</strong><br>
Triggered when the license state of the app has changed, such as going from trial to licensed, or trial to expired trial.  This condition is subject to <em>Test Mode</em>.</p>
<p><strong>On store listing received</strong><br>
Triggered after the <em>Request store listing</em> action has completed. The store listing expressions can then be used.</p>
<p><strong>On successful purchase</strong><br>
Triggered after a purchase attempt completes successfully. Either the app or a new product is now owned by the user.</p>
<p><strong>On data changed</strong><br>
Triggered when the roaming data has been updated with data from another device.  Typically this happens when saving roaming data on one device, then the user switches to another device, and runs the same app again.  There may be a delay before roaming data syncs up, and when it is ready this trigger fires.</p>
<p><strong>Roaming key exists</strong><br>
True if a given key name exists in roaming storage.</p>
<p><strong>On share</strong><br>
Triggered when the user activates the Share charm.  In order to specify what to share, use one of the sharing actions in this trigger.</p>
<p><strong>Is Windows 8 app</strong><br>
True if currently running as a Windows 8 app, otherwise false.  Note this is still false when running in Desktop mode, even in Internet Explorer 10; it is only true when running as a new style Windows 8 app run from the start menu.  If this condition is false, none of the object's other features are available.</p>
<a name="h2a4"></a><h3 id="h2ix4">Windows 8 actions</h3>
<p><strong>Set live tile text</strong><br>
Change the app's tile in the start menu to display some text.  A pre-defined template must be chosen to determine the layout.  For previews, see the <a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh761491.aspx" target="_blank">tile template catalog on MSDN ⇗</a>.  Note that using the wide templates requires that your app already be using a wide tile; setting a live tile text to a template which is a different size to your app's current tile will not work.</p>
<p><strong>Open Windows Store</strong><br>
Open the Windows Store to a specific page: the listing page for the current app, the page for the publisher of the current app, or a page where the user can submit a review of the app. These may not work until the app is published to the Windows Store.</p>
<p><strong>Purchase app</strong><br>
Prompt the user to purchase the app.  You should only use this action when the user expects it, such as when they pressed a 'Purchase' button.  If the purchase is successful, <em>On successful purchase</em> and <em>On license changed</em> are triggered. Otherwise <em>On failed purchase</em> is triggered. This action is subject to <em>Test Mode</em>.</p>
<p><strong>Purchase product</strong><br>
Prompt the user to purchase a specific product ID (case sensitive).  You should only use this action when the user expects it, such as when they pressed a 'Purchase' button. If successful, <em>On successful purchase</em> triggers; otherwise <em>On failed purchase</em> triggers. This action is subject to <em>Test Mode</em>.</p>
<p><strong>Request store listing</strong><br>
Request details about items available for purchase with this app. When the details are received, <em>On store listing received</em> triggers and the store listing expressions can be used.</p>
<p><strong>Clear roaming data</strong><br>
Remove all keys from roaming data, reverting it to an empty state.</p>
<p><strong>Remove roaming value</strong><br>
Remove a specific key from roaming data.</p>
<p><strong>Set roaming value</strong><br>
Store a key and an associated value in roaming data.  If it does not exist, it is created.  If it already exists, its value is overwritten.  Values are always stored as strings.  You can use a number for the value, but it will be converted to a string before being stored, and will be returned by the object as a string.</p>
<p><strong>Fail share</strong><br>
Only valid in an <em>On share</em> event. Use this action to indicate sharing failed or is currently unavailable.</p>
<p><strong>Share data URI</strong><br>
Only valid in an <em>On share</em> event. Use this action to share an image encoded as a data URI from the application.  This is most useful with the <em>Snapshot canvas</em> <a href="#anchor-125">system action</a>, which returns a screenshot of the game as a data URI.</p>
<p><strong>Share HTML</strong><br>
Only valid in an <em>On share</em> event. Use this action to share some HTML formatted text from the application.</p>
<p><strong>Share link</strong><br>
Only valid in an <em>On share</em> event. Use this action to share a link, such as the address of your website, from the application.</p>
<p><strong>Share sprite image</strong><br>
Only valid in an <em>On share</em> event. Use this action to share an image from the application, using a Sprite object's current image as the image to share.</p>
<p><strong>Share text</strong><br>
Only valid in an <em>On share</em> event. Use this action to share some plain text from the application.</p>
<p><strong>Show share UI</strong><br>
Bring up the Windows 8 Share UI automatically.  Be sure to use this with care in a way that will not offend or come across as obnoxious to your users.  For example a sensible use is a custom <em>Share</em> button in your application which brings up the Share UI.  This action only works when your app is in the foreground.</p>
<a name="h2a5"></a><h3 id="h2ix5">Windows 8 expressions</h3>
<p><strong>TrialTimeLeft</strong><br>
If in trial mode, returns the number of seconds in the trial period remaining.  If not in a time-limited trial mode the returned value will be meaningless (such as a very large number to represent an indefinite trial time).  This expression is subject to <em>Test Mode</em>.</p>
<p><strong>RoamingValue(key)</strong><br>
Retrieve a value from roaming storage associated with the given key.  If the key does not exist, an empty string is returned.  Note all values are returned as strings, even if they were originally passed as numbers.</p>
<p><strong>AppFormattedPrice</strong><br>
After <em>On store listing received</em> triggers, returns the price and currency of the app formatted for the user's region.</p>
<p><strong>ProductFormattedPrice</strong><br>
After <em>On store listing received</em> triggers, returns the price and currency of a product ID formatted for the user's region.</p>
<p><strong>ProductName</strong><br>
After <em>On store listing received</em> triggers, returns the user-friendly name of a product from its ID.<a name="anchor-139"></a></p>
<h2>6.45 XML</h2>
<p>The <strong>XML plugin</strong> can parse and read data from XML documents.  It uses <strong>XPath</strong> to access the XML document.  XPath is a kind of query language for XML, similar to how SQL is a query language for databases.  To learn more about XPath, see the following links:</p>
<ul>
<li><a href="http://www.w3schools.com/xpath/default.asp" target="_blank">W3Schools XPath tutorial ⇗</a></li>
<li><a href="http://www.liquid-technologies.com/xpath-tutorial.aspx" target="_blank">Some XPath examples ⇗</a></li>
<li><a href="http://zvon.org/comp/r/tut-XPath_1.html" target="_blank">Another XPath tutorial with examples ⇗</a></li>
</ul>
<p>Currently the XML plugin is read-only.  You can read data but not change any values in the XML document.</p>
<p>For features in common to other plugins, see <a href="#anchor-130">common features</a>.</p>
<h3>Loading an XML document</h3>
<p>XML must be loaded as a string with the <em>Load</em> action.  If you have a small snippet of XML, you can paste it directly in to the action parameter.  However, it's recommended to request an XML file from a server using the <a href="#anchor-107">AJAX</a> object.  When the AJAX request completes, pass <em>AJAX.LastData</em> in to the <em>Load</em> action.  Now you can start reading the data that was received.</p>
<h3>Internet Explorer</h3>
<p>Internet Explorer does not support XPath queries that return a number, e.g. <em>count(...)</em>.  In this case you can use the <em>NodeCount</em> expression instead.  Be sure to test your project works in a range of browsers, which is a <a href="#anchor-34">best practice</a> anyway.  All other browsers have fully standards-compliant XPath support.</p>
<h3>XML conditions</h3>
<p><strong>For each node</strong><br>
Repeat the event once for each node returned by an XPath query.  Typically this will be used with a query that returns multiple nodes, e.g. <em>"/bookstore/book"</em> to select all "book" nodes under "bookstore".  In the <em>For each node</em> event, the current node is set to the one currently being iterated.  This means relative XPaths, like <em>"title/text()"</em>, work relative to the current node (in this case returning the text of the child "title" tag).  <em>For each node</em> can also be nested, so you can iterate another list relative to the current node.</p>
<h3>XML actions</h3>
<p><strong>Load</strong><br>
Load an XML document from a string.  See <em>'Loading an XML document'</em> above.</p>
<h3>XML expressions</h3>
<p><strong>NodeCount</strong><br>
Return the number of nodes returned by an XPath expression.  For example, this can count the number of elements with a given name.  In a <em>For each node</em> event, the XPath is relative to the current node.</p>
<p><strong>NumberValue</strong><br>
Return a number from an XPath expression.  If multiple values are returned, only the first value is retrieved.  In a <em>For each node</em> event, the XPath is relative to the current node.</p>
<p><strong>StringValue</strong><br>
Return a string from an XPath expression.  If multiple values are returned, only the first value is retrieved.  In a <em>For each node</em> event, the XPath is relative to the current node.</p>
<a name="anchor-123"></a><h1>7. System reference</h1>
<p>The <strong>System object</strong> is the only object built in to Construct 2.  It provides features to access the game engine, and utilities that are useful for most games.  For more information on the System object see <a href="#anchor-32">Project Structure</a> from the Overview section.</p>
<ul>
<li><a href="#anchor-124">System conditions</a></li>
<li><a href="#anchor-125">System actions</a></li>
<li><a href="#anchor-126">System expressions</a></li>
</ul>
<a name="anchor-124"></a><h2>7.1 System conditions</h2>
This section describes all the <a href="#anchor-76">conditions</a> in the built-in System object in Construct 2.  They are listed in the order they appear in the <a href="#anchor-51">Add Condition dialog</a>.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Angles</h3>
<p>Note angles in Construct 2 start with 0 degrees facing right and increment clockwise.</p>
<p><strong>Is between angles</strong><br>
True if a given angle is between the two other angles in degrees. The first and second angles must be in clockwise order. That is, <em>X is between 0 and 45 degrees</em> is true if the angle X is in a 45 degree area, but <em>X is between 45 and 0 degrees</em> is true if X is in the 315 degree area from 45 degrees through 0 degrees.</p>
<p><strong>Is clockwise from</strong><br>
True if a given angle is clockwise from another angle in degrees, or in other words, if it is 180 degrees or less in a clockwise direction from Angle 2 to Angle 1. Invert to test if anticlockwise instead. For example, 45 degrees is clockwise from 0 degrees, but 0 degrees is anticlockwise from 45 degrees. Angle 1 is the angle to test, and Angle 2 is the reference angle to test whether Angle 1 is clockwise from.</p>
<p><strong>Is within angle</strong><br>
True if an angle is within a number of degrees of another angle. This is more reliable than testing if an angle exactly equals an angle, e.g. <em>X within 0.5 degrees of 90 degrees</em> is probably better than <em>X equals 90 degrees</em>, since there are many cases an angle can be very close to, but not exactly, 90 degrees.</p>
<a name="h2a1"></a><h3 id="h2ix1">General</h3>
<p><strong>Compare two values</strong><br>
Compare any two <a href="#anchor-78">expressions</a> (which can either numbers or text) with each other.  They can be compared as <em>Equal</em>, <em>Not equal</em>, <em>Less</em>, <em>Less or equal</em>, <em>Greater</em> or <em>Greater or equal</em>.</p>
<p><strong>Every tick</strong><br>
A condition which is always true.  Used on its own, this has the same effect as running every time it is checked, which is once per tick, hence the name "Every tick".  This is about 60 times a second on most computers; see <a href="#anchor-75">how events work</a> for more information.  Adding <em>Every tick</em> to an event with other conditions is redundant and has no effect at all.</p>
<p><strong>Is between values</strong><br>
Test if a number is between two values (greater or equal to a lower value and less or equal to a higher value).</p>
<p><strong>Is group active</strong><br>
Test if a <a href="#anchor-80">group of events</a> is active or inactive.  The name of the group is used to identify it.</p>
<p><strong>Is number NaN</strong><br>
Test if a number is equal to <em>NaN</em> (<em>Not A Number</em>), a special value returned by calculations which cannot be represented as a real number, such as the square root of -1.</p>
<p><strong>Is value type</strong><br>
Check if a value is a number or a string.</p>
<p><strong>Object UID exists</strong><br>
Test if an object exists with the given Unique ID (UID). For more information on UIDs, see <a href="#anchor-130">common features</a>.</p>
<p><strong>Test regex</strong><br>
Test if a given string matches a regular expression with flags. This only returns a true or false result, so to make more advanced use of regular expressions, see the <em>Regex...</em> system expressions.</p>
<a name="h2a2"></a><h3 id="h2ix2">Global &amp; local variables</h3>
<p><strong>Compare variable</strong><br>
Compare the value of a <a href="#anchor-83">event variable</a> (a global variable or local variable in scope).  Event variables can store both numbers and text.  The comparison can be made <em>Equal</em>, <em>Not equal</em>, <em>Less</em>, <em>Less or equal</em>, <em>Greater</em> or <em>Greater or equal</em>.</p>
<a name="h2a3"></a><h3 id="h2ix3">Layers &amp; Layout</h3>
<p><strong>Compare opacity</strong><br>
Compare the opacity (or semitransparency) of a <a href="#anchor-85">layer</a>, from 0 (transparent) to 100 (opaque).  A layer's opacity cannot be outside this range.</p>
<p><strong>Effects are supported</strong><br>
True if WebGL support is available so effects can be displayed.  For more information, see <a href="#anchor-146">Effects</a>.</p>
<p><strong>Layer is empty</strong><br>
Test if a <a href="#anchor-85">layer</a> currently has zero instances on it. This counts any objects anywhere at all on the layer, so even one instance far outside the viewport will make this condition false.</p>
<p><strong>Layer is visible</strong><br>
Test if a <a href="#anchor-85">layer</a> is currently visible or not.</p>
<p><strong>On canvas snapshot</strong><br>
Triggered after the <em>Snapshot canvas</em> system action, when the snapshot is ready.  It can then be accessed with the <em>CanvasSnapshot</em> system expression.</p>
<a name="h2a4"></a><h3 id="h2ix4">Loops</h3>
<p>Loops can be stopped with the <em>Stop Loop</em> <a href="#anchor-125">system action</a>.</p>
<p><strong>For</strong><br>
Repeat the event a number of times, using an index variable over a range of values.  The index can be retrieved with the <em>LoopIndex</em> <a href="#anchor-126">system expression</a> and passing the name of the loop.</p>
<p><strong>For Each</strong><br>
<strong>For Each (ordered)</strong><br>
Repeat the event once per picked <a href="#anchor-71">instance</a>.  This only repeats for instances that have been picked by prior conditions.  See <a href="#anchor-75">how events work</a> for more information on picking.  <em>For Each</em> is commonly mis-used or used redundantly - actions already apply <em>for each</em> instance picked by conditions, so it often is simply not needed.  However, if you fully understand how the event system works, it can be used to force the event to apply once per instance where the event system would not normally do that.  The 'ordered' variant allows the order that the instances are iterated in to be defined by an expression.  For example, ordering by <em>Sprite.Y</em> ascending will iterate the top instances on the screen first, moving downwards.</p>
<p><strong>Repeat</strong><br>
Simply repeat the event a given number of times.  This tests any conditions following it on every repeat, and if those conditions are met also runs the actions and any sub-events on every repeat.</p>
<p><strong>While</strong><br>
Repeat the event until one of the other conditions in the event becomes false or a <em>Stop loop</em> action is used.  Be careful not to create infinite loops which will cause the game to hang.</p>
<a name="h2a5"></a><h3 id="h2ix5">Pick instances</h3>
<p><strong>Pick all</strong><br>
Reset the picked objects back to all of them.  Subsequent conditions will pick from all instances again instead of filtering from only those meeting all the conditions so far.  See <a href="#anchor-75">How events work</a> for more information on how instances are picked in events.  Useful in subevents to start affecting different instances again.</p>
<p><strong>Pick by comparison</strong><br>
Pick the individual instances of an object type that meet a comparison. For example, it is possible to pick all instances where <em>Object.X * 2</em> is less than <em>Object.Y + 100</em>, which is not possible with either the <em>Compare X</em> or <em>Compare Y</em> conditions.</p>
<p><strong>Pick by evaluate</strong><br>
Pick the individual instances of an object type where the expression evaluates to a nonzero value. In other words, for each instance if the expression is 0, it is not picked, else it is picked. This is most useful with the comparison and logical operators (see <a href="#anchor-78">Expressions</a>). For example, it's possible to pick instances using the following expression (where &amp; means "and" and | means "or"): <em>(Object.X &gt; 100 &amp; Object.Y &gt; 100) | (Object.X &lt; -100 &amp; Object.Y &lt; -100)</em></p>
<p><strong>Pick Nth instance</strong><br>
Pick the <a href="#anchor-71">instance</a> at a given place in the internal list of picked objects.  This is most useful used in sub-events to act on separate instances.  For example, in a "Sprite collided with Sprite" event, <em>Pick 0th instance</em> and <em>Pick 1st instance</em> can be used to act on each instance involved in the collision separately.</p>
<p>If all objects are currently picked, this condition can also be used to pick an object by its index ID (IID).  For more information, see <a href="#anchor-130">common features</a>.</p>
<p><strong>Pick overlapping point</strong><br>
Pick all instances of a given object type that are overlapping a point in the layout. The given X and Y position in the layout will be tested against the instance's collision polygons.</p>
<p><strong>Pick random instance</strong><br>
Pick a random instance from the currently picked objects.  In other words, if <em>Pick random instance</em> follows another condition, it will pick a random instance from the instances meeting the prior condition.  Otherwise it picks a random instance from all the instances.</p>
<a name="h2a6"></a><h3 id="h2ix6">Special conditions</h3>
<p><strong>Else</strong><br>
Run if the previous event did not run.  Note that this condition does not pick any objects: if it follows an event that picks objects, in the <em>Else</em> event all instances revert to picked again.  <em>Else</em> can only follow normal (non-triggered) events.  It can also follow another <em>Else</em> event with other conditions to make an "if - else if - else" chain.</p>
<p><strong>Is in preview</strong><br>
True when running the project from a preview in Construct 2, and false when running after being exported.  Useful to add debug or diagnostic features for previewing only.</p>
<p><strong>Is on mobile device</strong><br>
Tries to detect whether the current device viewing the project is a mobile (e.g. phone or tablet).  It is difficult to accurately detect this so detection may not be perfect: there may be some mobile systems for which <em>Is on mobile</em> is not true, and (although less likely) desktop systems for which <em>Is on mobile</em> returns true.  The condition always returns true when packaged via the PhoneGap/Intel XDK/CocoonJS containers, and always returns true for iOS, Android, Blackberry 10, Windows Phone and Tizen based devices.  Beyond that Construct 2 will test a few other common mobile manufacturers.  Otherwise, it will return true if the current system is <em>not</em> a desktop system, since there are relatively few desktop OSs; the desktop systems it checks for are Windows, Linux, OS 9, OS X, Solaris and BSD.</p>
<p><strong>Is on platform</strong><br>
Test if currently running on a given platform, such as <em>Android</em> or as a <em>Windows 8 app</em>. Note it's possible multiple options can be true simultaneously. For example, if running in a browser on Android, both <em>Is on platform Android</em> and <em>Is on platform HTML5 website</em> will be true.</p>
<p><strong>Trigger once while true</strong><br>
Turn an ordinary event (which is tested every tick) in to a trigger.  For example, if an event plays a sound when lives equals 0, normally this event runs every tick.  This plays about 60 sounds a second and would sound pretty bad.  Adding <em>Trigger once while true</em> <strong>after</strong> the other conditions makes the event run just once when it first becomes true.  This makes the previous example only play a sound once the first time your lives reaches 0.  It must be the last condition in an event.</p>
<a name="h2a7"></a><h3 id="h2ix7">Save &amp; Load</h3>
<p><strong>On load complete</strong><br>
Triggered after the <em>Load</em> <a href="#anchor-125">system action</a> successfully completes. For more information, see <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<p><strong>On load failed</strong><br>
Triggered after the <em>Load</em> system action fails to complete, usually because the slot has not been saved to yet. For more information, see <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<p><strong>On save complete</strong><br>
Triggered after the <em>Save</em> system action successfully completes. For more information, see <a href="https://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<a name="h2a8"></a><h3 id="h2ix8">Start &amp; end</h3>
<p><strong>On end of layout</strong><br>
Triggered when the layout is ending.  This can happen when the project goes to a different layout or when the project closes.</p>
<p><strong>On start of layout</strong><br>
Triggered when the layout begins.</p>
<p><strong>On loader layout complete</strong><br>
Triggered on a loader layout when the progress reaches 100%. For more information see <a href="https://www.scirra.com/tutorials/318/how-to-use-loader-layouts-to-make-custom-loading-screens" target="_blank">How to use loader layouts to make custom loading screens ⇗</a>.</p>
<a name="h2a9"></a><h3 id="h2ix9">Time</h3>
<p><strong>Compare time</strong><br>
Compare the time, in seconds, since the game began.  For example, events can be set up to run when the time reaches (equals) 10 seconds.</p>
<p><strong>Every X seconds</strong><br>
Run the event regularly at a given time interval in seconds.  This can also be used beneath other conditions to only run the event at a given time interval while the other conditions are true, e.g. "Player is holding spacebar AND every 0.5 seconds: fire laser".<a name="anchor-125"></a></p>
<h2>7.2 System actions</h2>
This section describes all the <a href="#anchor-77">actions</a> in the built-in System object in Construct 2. They are listed in the order they appear in the <a href="#anchor-51">Add Action dialog</a>.<p><a name="h2a0"></a></p>
<h3 id="h2ix0">Display</h3>
<p><strong>Set canvas size</strong><br>
Set the size of the canvas area in the page, if appearing inline to the page (i.e. a fullscreen mode is not used). If a fullscreen mode is in use, this effectively changes the size of the <em>Window size</em> <a href="#anchor-66">project property</a>, which adjusts the size of the viewport.</p>
<p><strong>Set fullscreen scaling</strong><br>
Set the <em>Fullscreen scaling</em> <a href="#anchor-66">project property</a>. This allows the quality setting to be adjusted at runtime.</p>
<p><strong>Set pixel rounding</strong><br>
Set the <em>Pixel rounding</em> <a href="#anchor-66">project property</a> at runtime.</p>
<p><strong>Snapshot canvas</strong><br>
Take a screenshot of the current display.  This triggers <em>On canvas snapshot</em> when the snapshot is ready, and the resulting image can be accessed with the <em>CanvasSnapshot</em> system expression.  This can then be loaded in to a sprite or tiled background, sent to a server, or opened with the Browser object in a new tab.</p>
<a name="h2a1"></a><h3 id="h2ix1">General</h3>
<p><strong>Create object</strong><br>
Create a new <a href="#anchor-71">instance</a> of an <a href="#anchor-70">object type</a> on a <a href="#anchor-85">layer</a> at a given position.  If a Family is chosen, a random object type from the family is picked, and an instance created for that.</p>
<p><strong>Go to layout</strong><br>
<strong>Go to layout (by name)</strong><br>
Switch to another <a href="#anchor-67">layout</a> in the project.  Note that global variables keep their current value - they are not reset.  To reset them use the system action <em>Reset global variables</em>.</p>
<p><strong>Go to next/previous layout</strong><br>
Switch to the next or previous layout in the project. The order as they appear in the <a href="#anchor-39">Project Bar</a> is used, where layouts at the top are first and layouts at the bottom are last. If on the first layout, trying to go to the previous layout does nothing, and if on the last layout, trying to go to the next layout does nothing. Note that global variables keep their current value - they are not reset.  To reset them use the system action <em>Reset global variables</em>.</p>
<p><strong>Restart layout</strong><br>
Restart the current layout.  Note that unlike <em>Go to layout</em>, this action resets all event groups to their initial activation state.  Global variables keep their current value - they are not reset.  To reset them use the system action <em>Reset global variables</em>.</p>
<p><strong>Set group active</strong><br>
Set an <a href="#anchor-80">event group</a> active or inactive.  None of the events in an inactive group run until it is activated again.  The event group is identified by its name.</p>
<p><strong>Stop loop</strong><br>
Stop a <em>Repeat</em>, <em>For</em> or <em>For each</em> loop currently running.  These loops are <a href="#anchor-124">system conditions</a>.  The rest of the event's actions and subevents will still complete, but the loop will not run any further after that.</p>
<a name="h2a2"></a><h3 id="h2ix2">Global &amp; local variables</h3>
<p><strong>Add to</strong><br>
<strong>Subtract from</strong><br>
<strong>Set value</strong><br>
Alter the value stored by a <a href="#anchor-83">global or local variable</a>.</p>
<p><strong>Reset global variables</strong><br>
Reset all the global variables in the project to their initial value.</p>
<a name="h2a3"></a><h3 id="h2ix3">Layers &amp; Layout</h3>
<p>For more information about the effect actions, see <a href="#anchor-146">Effects</a>.</p>
<p><strong>Recreate initial objects</strong><br>
Recreate the objects in a rectangular area of the layout as they appear in the Layout View. In other words, this restores a section of the initial level design. Note that this does not destroy any existing objects, so if used repeatedly will create multiple objects sitting on top of each other. Only objects of the given type are created, or alternatively a family can be passed and all objects belonging to that family are recreated.</p>
<p><strong>Reset persisted objects</strong><br>
Across the entire project, reset all objects using the <a href="#anchor-161">Persist behavior</a> to their initial state (as if the layout has not been visited yet). This is useful when restarting a new game from the beginning again.</p>
<p><strong>Set layer angle</strong><br>
Rotate an entire <a href="#anchor-85">layer</a> by a number of degrees.</p>
<p><strong>Set layer background color</strong><br>
Set the background color of a layer.  Note if the layer is transparent, setting the background won't change the appearance unless you also make the layer opaque.</p>
<p><strong>Set layer blend mode</strong><br>
Set the blend mode of a layer. See the <em>Effects</em> section for a description of the available blend modes.</p>
<p><strong>Set layer effect enabled</strong><br>
Enable or disable one of the effects added to a layer on the current layout.  This action cannot be used to alter layers from other layouts.</p>
<p><strong>Set layer force own texture</strong><br>
Change a layer's <em>Force own texture</em> property at runtime. For more information see the property in the <a href="#anchor-85">Layers</a> manual entry.</p>
<p><strong>Set layer effect parameter</strong><br>
Change the value of one of the parameters for an effect added to a layer on the current layout. This action cannot be used to alter layers from other layouts. The parameter to change is specified by its zero-based index, i.e. 0 to change the first parameter, 1 to change the second parameter, and so on.</p>
<p><strong>Set layer opacity</strong><br>
Set the opacity (or semitransparency) of an entire layer.</p>
<p><strong>Set layer parallax</strong><br>
Set the horizontal and vertical parallax rates of a layer.</p>
<p><strong>Set layer scale</strong><br>
Set the scale (or zoom) of an entire layer, taking in to account its <em>scale rate</em> property.</p>
<p><strong>Set layer scale rate</strong><br>
Set the <em>scale rate</em> property of a <a href="#anchor-85">layer</a>, which affects how quickly it scales (if at all).</p>
<p><strong>Set layer transparent</strong><br>
Set the <em>transparent</em> property of a layer.  If transparent, the background color is ignored and other layers can appear beneath it.</p>
<p><strong>Set layer visible</strong><br>
Show or hide an entire layer.</p>
<p><strong>Set layout angle</strong><br>
Rotate an entire <a href="#anchor-67">layout</a> by a number of degrees.  This rotates all the layers in the layout.</p>
<p><strong>Set layout effect enabled</strong><br>
Enable or disable one of the effects added to the current layout.  This action cannot be used to alter other layouts.</p>
<p><strong>Set layout effect parameter</strong><br>
Change the value of one of the parameters for an effect added to the current layout. This action cannot be used to alter other layouts. The parameter to change is specified by its zero-based index, i.e. 0 to change the first parameter, 1 to change the second parameter, and so on.</p>
<p><strong>Set layout scale</strong><br>
Set the scale (or zoom) of an entire layout.  This scales all the layers in the layout, taking in to account their <em>scale rate</em> property.</p>
<a name="h2a4"></a><h3 id="h2ix4">Save &amp; Load</h3>
<p><strong>Load</strong><br>
Load the state of the game from a save slot. When done, triggers <em>On load complete</em>, or <em>On load failed</em> if the save slot has not been saved to before. For more information see <a href="http://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<p><strong>Load from JSON</strong><br>
Load the state of the game from a string of JSON data previously returned by the <em>SaveStateJSON</em> system expression. For more information see <a href="http://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<p><strong>Save</strong><br>
Save the state of the game to a save slot. When done, triggers <em>On save complete</em>. For more information see <a href="http://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<a name="h2a5"></a><h3 id="h2ix5">Scrolling</h3>
<p>To scroll, the size of the <a href="#anchor-67">layout</a> must be bigger than the size of the <a href="#anchor-66">window</a>, or the layout's <em>Unbounded scrolling</em> property must be set to <em>Yes</em>.  Otherwise there is nowhere to scroll to and scrolling will have no effect.</p>
<p><strong>Scroll to object</strong><br>
Center the view on a given object.  This scrolls all layers taking in to account their <em>parallax</em> property.</p>
<p><strong>Scroll to position</strong><br>
<strong>Scroll to X</strong><br>
<strong>Scroll to Y</strong><br>
Set the X and Y positions to center the view on.  This scrolls all layers taking in to account their <em>parallax</em> property.</p>
<a name="h2a6"></a><h3 id="h2ix6">Time</h3>
<p><strong>Set time scale</strong><br>
Change the rate time passes at in the game.  Useful for slow-motion or pausing effects.  See the tutorial on <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.</p>
<p><strong>Set object time scale</strong><br>
<strong>Restore object time scale</strong><br>
Change the rate time passes for a specific object.  This affects the object's behaviors and its own <em>dt</em> expression.  Restoring the object's time scale returns it to the same time scale the rest of the game is using.  See the tutorial on <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.</p>
<p><strong>Set minimum framerate</strong><br>
Set the maximum delta-time (<em>dt</em>) value based on a framerate. The default minimum framerate is 30 FPS, meaning the maximum dt is 1 / 30 (= 33ms). If the framerate drops below 30 FPS, dt will still not exceed 1/30. This has the effect of the game going in to slow motion as it drops below the minimum framerate, rather than objects stepping further every frame to keep up the same real-world speed. This helps avoid skipped collisions due to stepping a very large distance every frame.</p>
<p><strong>Signal</strong><br>
Resume any events paused with a <em>Wait for signal</em> action with the given tag.</p>
<p><strong>Wait</strong><br>
Wait a number of seconds before continuing on to the next action or sub-events.  Other events continue to run in the meantime.  See also the tutorial on <a href="http://www.scirra.com/tutorials/56/how-to-use-the-system-wait-action" target="_blank">How to use the System 'Wait' actions ⇗</a>.</p>
<p><strong>Wait for signal</strong><br>
Wait indefinitely until the <em>Signal</em> action is used with the same tag. Other events continue to run in the meantime.  See also the tutorial on <a href="http://www.scirra.com/tutorials/56/how-to-use-the-system-wait-action" target="_blank">How to use the System 'Wait' actions ⇗</a>.<a name="anchor-126"></a></p>
<h2>7.3 System expressions</h2>
This section outlines the expressions in the built-in System object in Construct 2.  Many are common mathematical operators, and they can be listed with descriptions in the <a href="#anchor-59">Expressions panel</a>, but they are included here for completeness.<p></p>
<p>This section does not list the operators or syntax that can be used in expressions - just the expressions specific to the System object.  For more general information on how to use expressions in Construct 2, see <a href="#anchor-78">Expressions</a>.</p>
<a name="h2a0"></a><h3 id="h2ix0">Display</h3>
<p><strong>OriginalWindowWidth</strong><br>
<strong>OriginalWindowHeight</strong><br>
Get the original values of the <em>Window size</em> project property.</p>
<p><strong>WindowWidth</strong><br>
<strong>WindowHeight</strong><br>
Get the size of the canvas being displayed in device pixels. Note this is not the same as the viewport; see the ViewportLeft/Top/Right/Bottom expressions. See also <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">Supporting multiple screen sizes ⇗</a>.</p>
<a name="h2a1"></a><h3 id="h2ix1">Layers</h3>
<p>In expressions where a layer is required, either its name (as a string) or index (as a number, zero-based) can be entered.</p>
<p><strong>CanvasToLayerX(layer, x, y)</strong><br>
<strong>CanvasToLayerY(layer, x, y)</strong><br>
Calculate the layout co-ordinates underneath a position in canvas co-ordinates for a given layer.</p>
<p><strong>LayerToCanvasX(layer, x, y)</strong><br>
<strong>LayerToCanvasY(layer, x, y)</strong><br>
Calculate the canvas co-ordinates above a position in layout co-ordinates for a given layer.</p>
<p><strong>LayerAngle(layer)</strong><br>
Get the angle, in degrees, of a layer.</p>
<p><strong>LayerIndex(layer)</strong><br>
Get the zero-based index of a layer from its name.</p>
<p><strong>LayerOpacity(layer)</strong><br>
Get the opacity (or semitransparency) of a layer, from 0 (transparent) to 100 (opaque).</p>
<p><strong>LayerParallaxX(layer)</strong><br>
<strong>LayerParallaxY(layer)</strong><br>
Get the current parallax X and Y components of a layer.</p>
<p><strong>LayerScale(layer)</strong><br>
Get the current scale of the layer, not including the overall layout scale.</p>
<p><strong>LayerScaleRate(layer)</strong><br>
Get the current scale rate of the layer, which defines how quickly it scales (if at all).</p>
<p><strong>ViewportBottom(layer)</strong><br>
<strong>ViewportLeft(layer)</strong><br>
<strong>ViewportRight(layer)</strong><br>
<strong>ViewportTop(layer)</strong><br>
Return the viewport boundaries in layout co-ordinates of a given layer.   Not all layers have the same viewport if they are parallaxed, scaled or rotated separately.</p>
<a name="h2a2"></a><h3 id="h2ix2">Layout</h3>
<p><strong>CanvasSnapshot</strong><br>
Contains the resulting image from a <em>Snapshot canvas</em> action after <em>On canvas snapshot</em> has run.  (Note this expression is not available immediately after the <em>Snapshot canvas</em> action - you can only use it after <em>On canvas snapshot</em> triggers.)  The expression returns a data URI of the image file.  This can be loaded in to a Sprite or Tiled Background object via <em>Load image from URL</em>, sent to a server or stored locally, or opened with the Browser object in a new tab to save to disk.</p>
<p><strong>LayoutAngle</strong><br>
Get the angle, in degrees, of the current layout.  This does not include the rotation of individual layers.</p>
<p><strong>LayoutScale</strong><br>
Get the current scale of the entire layout set by the <em>Set layout scale</em> action.  This does not include the scaling of individual layers.</p>
<p><strong>LayoutWidth</strong><br>
<strong>LayoutHeight</strong><br>
Get the size of the current layout in pixels.</p>
<p><strong>LayoutName</strong><br>
Get the name of the current layout.</p>
<p><strong>scrollx</strong><br>
<strong>scrolly</strong><br>
Get the current position the view is centered on.</p>
<a name="h2a3"></a><h3 id="h2ix3">Math</h3>
<p>These expressions are simply ordinary math functions like you find on calculators.  However, note that all functions using an angle take it in <strong>degrees</strong>, not radians.  Angles start with 0 degrees facing right and increment clockwise.</p>
<p><strong>sin(x)</strong>, <strong>cos(x)</strong>, <strong>tan(x)</strong>, <strong>asin(x)</strong>, <strong>acos(x)</strong>, <strong>atan(x)</strong> Trigonometric functions using angles in <em>degrees</em>.</p>
<p><strong>abs(x)</strong> Absolute value of x <em>e.g. abs(-5) = 5</em><br>
<strong>angle(x1, y1, x2, y2)</strong> Calculate angle between two points<br>
<strong>anglelerp(a, b, x)</strong> Linearly interpolate the angle <em>a</em> to <em>b</em> by <em>x</em>.  Unlike the standard <em>lerp</em>, this takes in to account the cyclical nature of angles.<br>
<strong>anglediff(a1, a2)</strong> Return the smallest difference between two angles<br>
<strong>anglerotate(start, end, step)</strong> Rotate angle <em>start</em> towards <em>end</em> by the angle <em>step</em>, all in degrees.  If <em>start</em> is less than <em>step</em> degrees away from <em>end</em>, it returns <em>end</em>.<br>
<strong>ceil(x)</strong> Round up x <em>e.g. ceil(5.1) = 6</em><br>
<strong>cosp(a, b, x)</strong> Cosine interpolation of <em>a</em> to <em>b</em> by <em>x</em>. Calculates (a + b + (a - b) * cos(x * 180°)) / 2.<br>
<strong>cubic(a, b, c, d, x)</strong> Cubic interpolation through <em>a</em>, <em>b</em>, <em>c</em> and <em>d</em> by <em>x</em>. Calculates lerp(qarp(a, b, c, x), qarp(b, c, d, x), x).<br>
<strong>distance(x1, y1, x2, y2)</strong> Calculate distance between to points<br>
<strong>exp(x)</strong> Calculate e^x<br>
<strong>floor(x)</strong> Round down x <em>e.g. floor(5.9) = 5</em><br>
<strong>infinity</strong> A floating point number value representing infinity.<br>
<strong>lerp(a, b, x)</strong> Linear interpolation of <em>a</em> to <em>b</em> by <em>x</em>. Calculates a + x * (b - a).<br>
<strong>unlerp(a, b, y)</strong> Reverse linear interpolation: if lerp(a, b, x) = y, then unlerp(a, b, y) = x.  Calculates (y - a) / (b - a).<br>
<strong>ln(x)</strong> Log to base e of x.<br>
<strong>log10(x)</strong> Log to base 10 of x.<br>
<strong>max(a, b [, c...])</strong>, <strong>min(a, b [, c...])</strong> Calculate maximum or minimum of the given numbers.  Any number of parameters can be used as long as there are at least two.<br>
<strong>pi</strong> The mathematical constant pi (3.14159...)<br>
<strong>qarp(a, b, c, x)</strong> Quadratic interpolation through <em>a</em>, <em>b</em> and <em>c</em> by <em>x</em>. Calculates lerp(lerp(a, b, x), lerp(b, c, x), x).<br>
<strong>round(x)</strong> Round x to the nearest whole number <em>e.g. round(5.6) = 6</em><br>
<strong>sqrt(x)</strong> Calculate square root of x <em>e.g. sqrt(25) = 5</em></p>
<p><strong>getbit(x, n)</strong><br>
Get the nth bit of x represented as a 32-bit integer. For example <em>getbit(7, 0)</em> will get the least significant bit of the number 7 when represented as a 32-bit integer. Returns either 0 or 1.</p>
<p><strong>setbit(x, n, b)</strong><br>
Set the nth bit of x represented as a 32-bit integer to b (either 0 or 1). The resulting 32-bit integer is returned.</p>
<p><strong>togglebit(x, n)</strong><br>
Toggle the nth bit of x represented as a 32-bit integer. If that bit is 0, it is set to 1; if it is 1, it is set to 0. The resulting 32-bit integer is returned.</p>
<a name="h2a4"></a><h3 id="h2ix4">Save &amp; Load</h3>
<p><strong>SaveStateJSON</strong><br>
In <em>On save complete</em> or <em>On load complete</em>, returns a string of JSON data representing the savegame data. This can later be loaded using the <em>Load from JSON</em> action. For more information see <a href="http://www.scirra.com/tutorials/526/how-to-make-savegames" target="_blank">How to make savegames ⇗</a>.</p>
<a name="h2a5"></a><h3 id="h2ix5">System</h3>
<p><strong>ImageMemoryUsage</strong><br>
Returns the estimated total memory usage, in megabytes, of all the currently-loaded images. Only supported in the WebGL renderer; if canvas2D rendering is in use, the expression always returns 0. Note image memory is sometimes also referred to as "VRAM", but this is not strictly correct since not all devices have video-specific memory. Also remember this expression does not include the memory use of sounds, code, or other non-image resources.</p>
<p><strong>loadingprogress</strong><br>
Return the current load progress on a loader layout, or the current update progress while the <a href="#anchor-110">Browser object</a>'s <em>Is downloading update</em> condition is true.  The progress is returned as a number from 0 to 1, e.g. 0.5 for half complete.  For more information, see the tutorials <a href="http://www.scirra.com/tutorials/318/how-to-use-loader-layouts-to-make-custom-loading-screens" target="_blank">how to make a custom loading screen ⇗</a> and <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">offline games in Construct 2 ⇗</a>.</p>
<p><strong>loopindex</strong><br>
Get the index (number of repeats so far) in any currently running loop.</p>
<p><strong>loopindex(name)</strong><br>
Get the index (number of repeats so far) of the loop with the given name.  Useful for getting indices in nested loops.</p>
<p><strong>objectcount</strong><br>
The total number of objects currently created.</p>
<p><strong>projectname</strong><br>
Return the name of the project as it appears in Project Properties.</p>
<p><strong>projectversion</strong><br>
Return the version entered in to Project Properties.  Note that this is always returned as a string, not a number.</p>
<p><strong>renderer</strong><br>
The name of the renderer used to draw the game, currently either <em>canvas2d</em> or <em>webgl</em>.  See <a href="#anchor-35">Technology</a> for more information on canvas renderers.</p>
<p><strong>rendererDetail</strong><br>
The name of the graphics hardware in use to draw the game, such as "NVIDIA GeForce GTX 660" or "Adreno 330". This is only available in WebGL mode in certain browsers and platforms; unsupported browsers/systems will return "(unavailable)". Projects should not rely on this string having any exact contents, but it can be useful to diagnose which GPU is in use in dual-GPU systems, or to look for keywords and apply default graphics settings based on the type of hardware.</p>
<a name="h2a6"></a><h3 id="h2ix6">Text</h3>
<p><strong>find(src, text)</strong><br>
<strong>findCase(src, text)</strong><br>
Find the first index within <em>src</em> that <em>text</em> occurs, else returns -1. <em>find</em> is case-insensitive, and <em>findCase</em> is case-sensitive.</p>
<p><strong>left(text, count)</strong><br>
Return the first <em>count</em> characters of <em>text</em>.</p>
<p><strong>len(text)</strong><br>
Return the number of characters in <em>text</em>.</p>
<p><strong>lowercase(text)</strong><br>
Convert the given text to all lowercase.</p>
<p><strong>mid(text, index, count)</strong><br>
Return the <em>count</em> characters starting from <em>index</em> in <em>text</em>.</p>
<p><strong>newline</strong><br>
A string containing a line break.  Use to insert line breaks in to strings, e.g. <em>"Hello" &amp; newline &amp; "World"</em></p>
<p><strong>RegexMatchAt(String, Regex, Flags, Index)</strong><br>
Process the regular expression <em>Regex</em> on <em>String</em> with <em>Flags</em>, and in the list of results, return the entry at <em>Index</em>.</p>
<p><strong>RegexMatchCount(String, Regex, Flags)</strong><br>
Process the regular expression <em>Regex</em> on <em>String</em> with <em>Flags</em>, and return the number of entries in the list of results.</p>
<p><strong>RegexReplace(String, Regex, Flags, Replace)</strong><br>
In <em>String</em> substitute matches for the regular expression <em>Regex</em> (with <em>Flags</em>) with the string <em>Replace</em>. The replacement string can contain the following special characters: <strong>$$</strong> (inserts a $), <strong>$&amp;</strong> (inserts the matched substring), <strong>$`</strong> (inserts the portion of the string that precedes the matched substring), or <strong>$'</strong> (inserts the portion of the string that follows the matched substring).</p>
<p><strong>RegexSearch(String, Regex, Flags)</strong><br>
Return the index of the first character in <em>String</em> where a match for <em>Regex</em> with <em>Flags</em> could be found.</p>
<p><strong>replace(src, find, rep)</strong><br>
Find all occurrences of <em>find</em> in <em>src</em> and replace them with <em>rep</em>.</p>
<p><strong>right(text, count)</strong><br>
Return the last <em>count</em> characters of <em>text</em>.</p>
<p><strong>tokenat(src, index, separator)</strong><br>
Return the Nth token from <em>src</em>, splitting the string by <em>separator</em>.  For example, <em>tokenat("apples|oranges|bananas", 1, "|")</em> returns <em>oranges</em>.</p>
<p><strong>tokencount(src, separator)</strong><br>
Count how many tokens occur in <em>src</em> using <em>separator</em>.  For example, <em>tokencount("apples|oranges|bananas", "|")</em> returns 3.</p>
<p><strong>trim(src)</strong><br>
Return <em>src</em> with all whitespace (spaces, tabs etc.) removed from the beginning and end of the string.</p>
<p><strong>uppercase(text)</strong><br>
Convert the given text to all uppercase.</p>
<p><strong>URLEncode(str)</strong><br>
<strong>URLDecode(str)</strong><br>
Convert to and from a string in a format suitable for including in a URL or POST data.</p>
<p><strong>zeropad(number, digits)</strong><br>
Pad <em>number</em> out to a certain number of <em>digits</em> by adding zeroes in front of the number, then returning the result as a string.  For example, <em>zeropad(45, 5)</em> returns the string "00045".</p>
<a name="h2a7"></a><h3 id="h2ix7">Time</h3>
<p><strong>CPUUtilisation</strong><br>
The percentage of the last second that was spent in the application logic.  This is for advanced users to make performance measurements.  Note on hardware-accelerated devices the rendering happens on the separate GPU and therefore this measurement cannot tell you anything about how fast or slow the rendering is; for that <em>fps</em> is a better measure. Also note this measurement is based on timers so should be treated as an approximation, and it only measures the main Javascript thread time.</p>
<p><strong>dt</strong><br>
Delta-time in seconds.  See <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a>.</p>
<p><strong>fps</strong><br>
The current frames per second (FPS) rate, which is how many times the screen is being drawn every second.  Most computers run at 60 fps if they are fast enough.</p>
<p><strong>tickcount</strong><br>
The number of ticks that have run since the game started.</p>
<p><strong>time</strong><br>
The number of seconds since the game started, taking in to account the time scale.</p>
<p><strong>timescale</strong><br>
The current time scale.</p>
<p><strong>wallclocktime</strong><br>
The number of seconds since the game started, not taking in to account the time scale (i.e. the real-world time).</p>
<a name="h2a8"></a><h3 id="h2ix8">Values</h3>
<p><strong>choose(a, b [, c...])</strong><br>
Choose one of the given parameters at random.  E.g. <em>choose(1, 3, 9, 20)</em> randomly picks one of the four numbers and returns that.  This also works with strings, e.g. <em>choose("Hello", "Hi")</em> returns either <em>Hello</em> or <em>Hi</em>.  Any number of parameters can be used as long as there are at least two.</p>
<p><strong>clamp(x, lower, upper)</strong><br>
Return <em>lower</em> if <em>x</em> is less than <em>lower</em>, <em>upper</em> if <em>x</em> is greater than <em>upper</em>, else return <em>x</em>.</p>
<p><strong>float(x)</strong><br>
Convert the integer or text <em>x</em> to a float (fractional number). If <em>x</em> is text, non-numeric characters are allowed after the number, but not before. For example <em>float("3.1xx")</em> returns 3.1, but <em>float("xx3.1")</em> returns 0.</p>
<p><strong>int(x)</strong><br>
Convert the float or text <em>x</em> to an integer (whole number). If <em>x</em> is text, non-numeric characters are allowed after the number, but not before. For example <em>int("33xx")</em> returns 33, but <em>int("xx33")</em> returns 0.</p>
<p><strong>random(x)</strong><br>
Generate a random float from 0 to <em>x</em>, not including <em>x</em>.  E.g. <em>random(4)</em> can generate 0, 2.5, 3.29293, but not 4.  Use <em>floor(random(4))</em> to generate just the whole numbers 0, 1, 2, 3.</p>
<p><strong>random(a, b)</strong><br>
Generate a random float between <em>a</em> and <em>b</em>, including <em>a</em> but not including <em>b</em>.</p>
<p><strong>rgb(r, g, b)</strong><br>
Generate a single number containing a color in RGB format.  This is useful for conditions or actions taking a color parameter.</p>
<p><strong>str(x)</strong><br>
Convert the integer or float <em>x</em> to a string.  Generally not necessary since strings can be built using the <strong>&amp;</strong> operator, e.g. <em>"Your score is " &amp; score</em></p>
</div><img src="./manual_files/Back-Cover.jpg" class="bcover"></div>
</body></html>